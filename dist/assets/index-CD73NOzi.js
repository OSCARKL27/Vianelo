(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H0={exports:{}},Od={},q0={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),GA=Symbol.for("react.portal"),QA=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),XA=Symbol.for("react.profiler"),JA=Symbol.for("react.provider"),ZA=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),nx=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),gv=Symbol.iterator;function sx(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,G0={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=G0,this.updater=n||W0}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q0(){}Q0.prototype=Fo.prototype;function Om(t,e,n){this.props=t,this.context=e,this.refs=G0,this.updater=n||W0}var Dm=Om.prototype=new Q0;Dm.constructor=Om;K0(Dm,Fo.prototype);Dm.isPureReactComponent=!0;var yv=Array.isArray,Y0=Object.prototype.hasOwnProperty,Lm={current:null},X0={key:!0,ref:!0,__self:!0,__source:!0};function J0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Y0.call(e,r)&&!X0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fl,type:t,key:i,ref:o,props:s,_owner:Lm.current}}function ix(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ox(""+t.key):e.toString(36)}function nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case GA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+tf(o,0):r,yv(s)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),nc(s,e,n,"",function(c){return c})):s!=null&&(Vm(s)&&(s=ix(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+tf(i,a);o+=nc(i,e,n,u,s)}else if(u=sx(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+tf(i,a++),o+=nc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],s=0;return nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ax(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},rc={transition:null},lx={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:rc,ReactCurrentOwner:Lm};function Z0(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Fo;ie.Fragment=QA;ie.Profiler=XA;ie.PureComponent=Om;ie.StrictMode=YA;ie.Suspense=tx;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;ie.act=Z0;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Lm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Y0.call(e,u)&&!X0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fl,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:ZA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JA,_context:t},t.Consumer=t};ie.createElement=J0;ie.createFactory=function(t){var e=J0.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:ex,render:t}};ie.isValidElement=Vm;ie.lazy=function(t){return{$$typeof:rx,_payload:{_status:-1,_result:t},_init:ax}};ie.memo=function(t,e){return{$$typeof:nx,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};ie.unstable_act=Z0;ie.useCallback=function(t,e){return jt.current.useCallback(t,e)};ie.useContext=function(t){return jt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return jt.current.useEffect(t,e)};ie.useId=function(){return jt.current.useId()};ie.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return jt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};ie.useRef=function(t){return jt.current.useRef(t)};ie.useState=function(t){return jt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return jt.current.useTransition()};ie.version="18.3.1";q0.exports=ie;var y=q0.exports;const Kt=Nd(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=y,cx=Symbol.for("react.element"),dx=Symbol.for("react.fragment"),hx=Object.prototype.hasOwnProperty,fx=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,px={key:!0,ref:!0,__self:!0,__source:!0};function eT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hx.call(e,r)&&!px.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cx,type:t,key:i,ref:o,props:s,_owner:fx.current}}Od.Fragment=dx;Od.jsx=eT;Od.jsxs=eT;H0.exports=Od;var m=H0.exports,tp={},tT={exports:{}},dn={},nT={exports:{}},rT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,X){var te=$.length;$.push(X);e:for(;0<te;){var ue=te-1>>>1,ye=$[ue];if(0<s(ye,X))$[ue]=X,$[te]=ye,te=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var X=$[0],te=$.pop();if(te!==X){$[0]=te;e:for(var ue=0,ye=$.length,He=ye>>>1;ue<He;){var fe=2*(ue+1)-1,ht=$[fe],Nt=fe+1,en=$[Nt];if(0>s(ht,te))Nt<ye&&0>s(en,ht)?($[ue]=en,$[Nt]=te,ue=Nt):($[ue]=ht,$[fe]=te,ue=fe);else if(Nt<ye&&0>s(en,te))$[ue]=en,$[Nt]=te,ue=Nt;else break e}}return X}function s($,X){var te=$.sortIndex-X.sortIndex;return te!==0?te:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,p=3,w=!1,v=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=$)r(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(c)}}function O($){if(S=!1,C($),!v)if(n(u)!==null)v=!0,it(j);else{var X=n(c);X!==null&&Pt(O,X.startTime-$)}}function j($,X){v=!1,S&&(S=!1,_(T),T=-1),w=!0;var te=p;try{for(C(X),f=n(u);f!==null&&(!(f.expirationTime>X)||$&&!x());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var ye=ue(f.expirationTime<=X);X=t.unstable_now(),typeof ye=="function"?f.callback=ye:f===n(u)&&r(u),C(X)}else r(u);f=n(u)}if(f!==null)var He=!0;else{var fe=n(c);fe!==null&&Pt(O,fe.startTime-X),He=!1}return He}finally{f=null,p=te,w=!1}}var V=!1,b=null,T=-1,A=5,P=-1;function x(){return!(t.unstable_now()-P<A)}function N(){if(b!==null){var $=t.unstable_now();P=$;var X=!0;try{X=b(!0,$)}finally{X?k():(V=!1,b=null)}}else V=!1}var k;if(typeof E=="function")k=function(){E(N)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,kt=pe.port2;pe.port1.onmessage=N,k=function(){kt.postMessage(null)}}else k=function(){R(N,0)};function it($){b=$,V||(V=!0,k())}function Pt($,X){T=R(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||w||(v=!0,it(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var te=p;p=X;try{return $()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=p;p=$;try{return X()}finally{p=te}},t.unstable_scheduleCallback=function($,X,te){var ue=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=te+ye,$={id:d++,callback:X,priorityLevel:$,startTime:te,expirationTime:ye,sortIndex:-1},te>ue?($.sortIndex=te,e(c,$),n(u)===null&&$===n(c)&&(S?(_(T),T=-1):S=!0,Pt(O,te-ue))):($.sortIndex=ye,e(u,$),v||w||(v=!0,it(j))),$},t.unstable_shouldYield=x,t.unstable_wrapCallback=function($){var X=p;return function(){var te=p;p=X;try{return $.apply(this,arguments)}finally{p=te}}}})(rT);nT.exports=rT;var mx=nT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=y,ln=mx;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sT=new Set,al={};function Pi(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(al[t]=e,t=0;t<e.length;t++)sT.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=Object.prototype.hasOwnProperty,yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vv={},_v={};function wx(t){return np.call(_v,t)?!0:np.call(vv,t)?!1:yx.test(t)?_v[t]=!0:(vv[t]=!0,!1)}function vx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _x(t,e,n,r){if(e===null||typeof e>"u"||vx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mm=/[\-:]([a-z])/g;function jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mm,jm);wt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mm,jm);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mm,jm);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fm(t,e,n,r){var s=wt.hasOwnProperty(e)?wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_x(e,n,s,r)&&(n=null),r||s===null?wx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),Um=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),iT=Symbol.for("react.provider"),oT=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),aT=Symbol.for("react.offscreen"),Ev=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=Ev&&t[Ev]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,nf;function Da(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function sf(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function Ex(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=sf(t.type,!1),t;case 11:return t=sf(t.type.render,!1),t;case 1:return t=sf(t.type,!0),t;default:return""}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ji:return"Fragment";case Xi:return"Portal";case rp:return"Profiler";case Um:return"StrictMode";case sp:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oT:return(t.displayName||"Context")+".Consumer";case iT:return(t._context.displayName||"Context")+".Provider";case Bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $m:return e=t.displayName||null,e!==null?e:op(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return op(t(e))}catch{}}return null}function Tx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===Um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ix(t){var e=lT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=Ix(t))}function uT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ap(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cT(t,e){e=e.checked,e!=null&&Fm(t,"checked",e,!1)}function lp(t,e){cT(t,e);var n=bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?up(t,e.type,n):e.hasOwnProperty("defaultValue")&&up(t,e.type,bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function up(t,e,n){(e!=="number"||bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function co(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(La(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bs(n)}}function dT(t,e){var n=bs(e.value),r=bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,fT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cx=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){Cx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function pT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function mT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Sx=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hp(t,e){if(e){if(Sx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function fp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=null;function zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mp=null,ho=null,fo=null;function bv(t){if(t=$l(t)){if(typeof mp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=jd(e),mp(t.stateNode,t.type,e))}}function gT(t){ho?fo?fo.push(t):fo=[t]:ho=t}function yT(){if(ho){var t=ho,e=fo;if(fo=ho=null,bv(t),e)for(t=0;t<e.length;t++)bv(e[t])}}function wT(t,e){return t(e)}function vT(){}var of=!1;function _T(t,e,n){if(of)return t(e,n);of=!0;try{return wT(t,e,n)}finally{of=!1,(ho!==null||fo!==null)&&(vT(),yT())}}function ul(t,e){var n=t.stateNode;if(n===null)return null;var r=jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var gp=!1;if(Rr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){gp=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{gp=!1}function bx(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Wa=!1,Rc=null,Ac=!1,yp=null,Rx={onError:function(t){Wa=!0,Rc=t}};function Ax(t,e,n,r,s,i,o,a,u){Wa=!1,Rc=null,bx.apply(Rx,arguments)}function xx(t,e,n,r,s,i,o,a,u){if(Ax.apply(this,arguments),Wa){if(Wa){var c=Rc;Wa=!1,Rc=null}else throw Error(B(198));Ac||(Ac=!0,yp=c)}}function Ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ET(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rv(t){if(Ni(t)!==t)throw Error(B(188))}function kx(t){var e=t.alternate;if(!e){if(e=Ni(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rv(s),t;if(i===r)return Rv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function TT(t){return t=kx(t),t!==null?IT(t):null}function IT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IT(t);if(e!==null)return e;t=t.sibling}return null}var CT=ln.unstable_scheduleCallback,Av=ln.unstable_cancelCallback,Px=ln.unstable_shouldYield,Nx=ln.unstable_requestPaint,Ge=ln.unstable_now,Ox=ln.unstable_getCurrentPriorityLevel,Hm=ln.unstable_ImmediatePriority,ST=ln.unstable_UserBlockingPriority,xc=ln.unstable_NormalPriority,Dx=ln.unstable_LowPriority,bT=ln.unstable_IdlePriority,Dd=null,Qn=null;function Lx(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Dd,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:jx,Vx=Math.log,Mx=Math.LN2;function jx(t){return t>>>=0,t===0?32:31-(Vx(t)/Mx|0)|0}var ku=64,Pu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),s=1<<n,r|=t[n],e&=~s;return r}function Fx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ux(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Fx(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RT(){var t=ku;return ku<<=1,!(ku&4194240)&&(ku=64),t}function af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function Bx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function AT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xT,Wm,kT,PT,NT,vp=!1,Nu=[],fs=null,ps=null,ms=null,cl=new Map,dl=new Map,ts=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(t,e){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function Ca(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$l(e),e!==null&&Wm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zx(t,e,n,r,s){switch(e){case"focusin":return fs=Ca(fs,t,e,n,r,s),!0;case"dragenter":return ps=Ca(ps,t,e,n,r,s),!0;case"mouseover":return ms=Ca(ms,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,Ca(cl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,dl.set(i,Ca(dl.get(i)||null,t,e,n,r,s)),!0}return!1}function OT(t){var e=si(t.target);if(e!==null){var n=Ni(e);if(n!==null){if(e=n.tag,e===13){if(e=ET(n),e!==null){t.blockedOn=e,NT(t.priority,function(){kT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_p(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pp=r,n.target.dispatchEvent(r),pp=null}else return e=$l(n),e!==null&&Wm(e),t.blockedOn=n,!1;e.shift()}return!0}function kv(t,e,n){sc(t)&&n.delete(e)}function Hx(){vp=!1,fs!==null&&sc(fs)&&(fs=null),ps!==null&&sc(ps)&&(ps=null),ms!==null&&sc(ms)&&(ms=null),cl.forEach(kv),dl.forEach(kv)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,vp||(vp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Hx)))}function hl(t){function e(s){return Sa(s,t)}if(0<Nu.length){Sa(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fs!==null&&Sa(fs,t),ps!==null&&Sa(ps,t),ms!==null&&Sa(ms,t),cl.forEach(e),dl.forEach(e),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)OT(n),n.blockedOn===null&&ts.shift()}var po=jr.ReactCurrentBatchConfig,Pc=!0;function qx(t,e,n,r){var s=ve,i=po.transition;po.transition=null;try{ve=1,Km(t,e,n,r)}finally{ve=s,po.transition=i}}function Wx(t,e,n,r){var s=ve,i=po.transition;po.transition=null;try{ve=4,Km(t,e,n,r)}finally{ve=s,po.transition=i}}function Km(t,e,n,r){if(Pc){var s=_p(t,e,n,r);if(s===null)yf(t,e,r,Nc,n),xv(t,r);else if(zx(s,t,e,n,r))r.stopPropagation();else if(xv(t,r),e&4&&-1<$x.indexOf(t)){for(;s!==null;){var i=$l(s);if(i!==null&&xT(i),i=_p(t,e,n,r),i===null&&yf(t,e,r,Nc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yf(t,e,r,null,n)}}var Nc=null;function _p(t,e,n,r){if(Nc=null,t=zm(r),t=si(t),t!==null)if(e=Ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ET(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nc=t,null}function DT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ox()){case Hm:return 1;case ST:return 4;case xc:case Dx:return 16;case bT:return 536870912;default:return 16}default:return 16}}var as=null,Gm=null,ic=null;function LT(){if(ic)return ic;var t,e=Gm,n=e.length,r,s="value"in as?as.value:as.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ic=s.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ou(){return!0}function Pv(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ou:Pv,this.isPropagationStopped=Pv,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=hn(Uo),Bl=Me({},Uo,{view:0,detail:0}),Kx=hn(Bl),lf,uf,ba,Ld=Me({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(lf=t.screenX-ba.screenX,uf=t.screenY-ba.screenY):uf=lf=0,ba=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),Nv=hn(Ld),Gx=Me({},Ld,{dataTransfer:0}),Qx=hn(Gx),Yx=Me({},Bl,{relatedTarget:0}),cf=hn(Yx),Xx=Me({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=hn(Xx),Zx=Me({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e2=hn(Zx),t2=Me({},Uo,{data:0}),Ov=hn(t2),n2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s2[t])?!!e[t]:!1}function Ym(){return i2}var o2=Me({},Bl,{key:function(t){if(t.key){var e=n2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ym,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a2=hn(o2),l2=Me({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=hn(l2),u2=Me({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ym}),c2=hn(u2),d2=Me({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),h2=hn(d2),f2=Me({},Ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p2=hn(f2),m2=[9,13,27,32],Xm=Rr&&"CompositionEvent"in window,Ka=null;Rr&&"documentMode"in document&&(Ka=document.documentMode);var g2=Rr&&"TextEvent"in window&&!Ka,VT=Rr&&(!Xm||Ka&&8<Ka&&11>=Ka),Lv=" ",Vv=!1;function MT(t,e){switch(t){case"keyup":return m2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zi=!1;function y2(t,e){switch(t){case"compositionend":return jT(e);case"keypress":return e.which!==32?null:(Vv=!0,Lv);case"textInput":return t=e.data,t===Lv&&Vv?null:t;default:return null}}function w2(t,e){if(Zi)return t==="compositionend"||!Xm&&MT(t,e)?(t=LT(),ic=Gm=as=null,Zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VT&&e.locale!=="ko"?null:e.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v2[t.type]:e==="textarea"}function FT(t,e,n,r){gT(r),e=Oc(e,"onChange"),0<e.length&&(n=new Qm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,fl=null;function _2(t){YT(t,0)}function Vd(t){var e=no(t);if(uT(e))return t}function E2(t,e){if(t==="change")return e}var UT=!1;if(Rr){var df;if(Rr){var hf="oninput"in document;if(!hf){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),hf=typeof jv.oninput=="function"}df=hf}else df=!1;UT=df&&(!document.documentMode||9<document.documentMode)}function Fv(){Ga&&(Ga.detachEvent("onpropertychange",BT),fl=Ga=null)}function BT(t){if(t.propertyName==="value"&&Vd(fl)){var e=[];FT(e,fl,t,zm(t)),_T(_2,e)}}function T2(t,e,n){t==="focusin"?(Fv(),Ga=e,fl=n,Ga.attachEvent("onpropertychange",BT)):t==="focusout"&&Fv()}function I2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(fl)}function C2(t,e){if(t==="click")return Vd(e)}function S2(t,e){if(t==="input"||t==="change")return Vd(e)}function b2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:b2;function pl(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!np.call(e,s)||!Mn(t[s],e[s]))return!1}return!0}function Uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bv(t,e){var n=Uv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uv(n)}}function $T(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$T(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zT(){for(var t=window,e=bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bc(t.document)}return e}function Jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R2(t){var e=zT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$T(n.ownerDocument.documentElement,n)){if(r!==null&&Jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Bv(n,i);var o=Bv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A2=Rr&&"documentMode"in document&&11>=document.documentMode,eo=null,Ep=null,Qa=null,Tp=!1;function $v(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tp||eo==null||eo!==bc(r)||(r=eo,"selectionStart"in r&&Jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&pl(Qa,r)||(Qa=r,r=Oc(Ep,"onSelect"),0<r.length&&(e=new Qm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},ff={},HT={};Rr&&(HT=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Md(t){if(ff[t])return ff[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HT)return ff[t]=e[n];return t}var qT=Md("animationend"),WT=Md("animationiteration"),KT=Md("animationstart"),GT=Md("transitionend"),QT=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){QT.set(t,e),Pi(e,[t])}for(var pf=0;pf<zv.length;pf++){var mf=zv[pf],x2=mf.toLowerCase(),k2=mf[0].toUpperCase()+mf.slice(1);Ls(x2,"on"+k2)}Ls(qT,"onAnimationEnd");Ls(WT,"onAnimationIteration");Ls(KT,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(GT,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function Hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xx(r,e,void 0,t),t.currentTarget=null}function YT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Hv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Hv(s,a,c),i=u}}}if(Ac)throw t=yp,Ac=!1,yp=null,t}function Re(t,e){var n=e[Rp];n===void 0&&(n=e[Rp]=new Set);var r=t+"__bubble";n.has(r)||(XT(e,t,2,!1),n.add(r))}function gf(t,e,n){var r=0;e&&(r|=4),XT(n,t,r,e)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[Lu]){t[Lu]=!0,sT.forEach(function(n){n!=="selectionchange"&&(P2.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lu]||(e[Lu]=!0,gf("selectionchange",!1,e))}}function XT(t,e,n,r){switch(DT(e)){case 1:var s=qx;break;case 4:s=Wx;break;default:s=Km}n=s.bind(null,e,n,t),s=void 0,!gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_T(function(){var c=i,d=zm(n),f=[];e:{var p=QT.get(t);if(p!==void 0){var w=Qm,v=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":w=a2;break;case"focusin":v="focus",w=cf;break;case"focusout":v="blur",w=cf;break;case"beforeblur":case"afterblur":w=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=c2;break;case qT:case WT:case KT:w=Jx;break;case GT:w=h2;break;case"scroll":w=Kx;break;case"wheel":w=p2;break;case"copy":case"cut":case"paste":w=e2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Dv}var S=(e&4)!==0,R=!S&&t==="scroll",_=S?p!==null?p+"Capture":null:p;S=[];for(var E=c,C;E!==null;){C=E;var O=C.stateNode;if(C.tag===5&&O!==null&&(C=O,_!==null&&(O=ul(E,_),O!=null&&S.push(gl(E,O,C)))),R)break;E=E.return}0<S.length&&(p=new w(p,v,null,n,d),f.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==pp&&(v=n.relatedTarget||n.fromElement)&&(si(v)||v[Ar]))break e;if((w||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=c,v=v?si(v):null,v!==null&&(R=Ni(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=c),w!==v)){if(S=Nv,O="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(S=Dv,O="onPointerLeave",_="onPointerEnter",E="pointer"),R=w==null?p:no(w),C=v==null?p:no(v),p=new S(O,E+"leave",w,n,d),p.target=R,p.relatedTarget=C,O=null,si(d)===c&&(S=new S(_,E+"enter",v,n,d),S.target=C,S.relatedTarget=R,O=S),R=O,w&&v)t:{for(S=w,_=v,E=0,C=S;C;C=Hi(C))E++;for(C=0,O=_;O;O=Hi(O))C++;for(;0<E-C;)S=Hi(S),E--;for(;0<C-E;)_=Hi(_),C--;for(;E--;){if(S===_||_!==null&&S===_.alternate)break t;S=Hi(S),_=Hi(_)}S=null}else S=null;w!==null&&qv(f,p,w,S,!1),v!==null&&R!==null&&qv(f,R,v,S,!0)}}e:{if(p=c?no(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var j=E2;else if(Mv(p))if(UT)j=S2;else{j=I2;var V=T2}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=C2);if(j&&(j=j(t,c))){FT(f,j,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&up(p,"number",p.value)}switch(V=c?no(c):window,t){case"focusin":(Mv(V)||V.contentEditable==="true")&&(eo=V,Ep=c,Qa=null);break;case"focusout":Qa=Ep=eo=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,$v(f,n,d);break;case"selectionchange":if(A2)break;case"keydown":case"keyup":$v(f,n,d)}var b;if(Xm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zi?MT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(VT&&n.locale!=="ko"&&(Zi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zi&&(b=LT()):(as=d,Gm="value"in as?as.value:as.textContent,Zi=!0)),V=Oc(c,T),0<V.length&&(T=new Ov(T,t,null,n,d),f.push({event:T,listeners:V}),b?T.data=b:(b=jT(n),b!==null&&(T.data=b)))),(b=g2?y2(t,n):w2(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(d=new Ov("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}YT(f,e)})}function gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ul(t,n),i!=null&&r.unshift(gl(t,i,s)),i=ul(t,e),i!=null&&r.push(gl(t,i,s))),t=t.return}return r}function Hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=ul(n,i),u!=null&&o.unshift(gl(n,u,a))):s||(u=ul(n,i),u!=null&&o.push(gl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var N2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(N2,`
`).replace(O2,"")}function Vu(t,e,n){if(e=Wv(e),Wv(t)!==e&&n)throw Error(B(425))}function Dc(){}var Ip=null,Cp=null;function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(V2)}:bp;function V2(t){setTimeout(function(){throw t})}function wf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hl(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Bo,yl="__reactProps$"+Bo,Ar="__reactContainer$"+Bo,Rp="__reactEvents$"+Bo,M2="__reactListeners$"+Bo,j2="__reactHandles$"+Bo;function si(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gv(t);t!==null;){if(n=t[Kn])return n;t=Gv(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[Kn]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function jd(t){return t[yl]||null}var Ap=[],ro=-1;function Vs(t){return{current:t}}function xe(t){0>ro||(t.current=Ap[ro],Ap[ro]=null,ro--)}function Ce(t,e){ro++,Ap[ro]=t.current,t.current=e}var Rs={},Rt=Vs(Rs),Qt=Vs(!1),yi=Rs;function Io(t,e){var n=t.type.contextTypes;if(!n)return Rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(t){return t=t.childContextTypes,t!=null}function Lc(){xe(Qt),xe(Rt)}function Qv(t,e,n){if(Rt.current!==Rs)throw Error(B(168));Ce(Rt,e),Ce(Qt,n)}function JT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Tx(t)||"Unknown",s));return Me({},n,r)}function Vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,yi=Rt.current,Ce(Rt,t),Ce(Qt,Qt.current),!0}function Yv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=JT(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,xe(Qt),xe(Rt),Ce(Rt,t)):xe(Qt),Ce(Qt,n)}var hr=null,Fd=!1,vf=!1;function ZT(t){hr===null?hr=[t]:hr.push(t)}function F2(t){Fd=!0,ZT(t)}function Ms(){if(!vf&&hr!==null){vf=!0;var t=0,e=ve;try{var n=hr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Fd=!1}catch(s){throw hr!==null&&(hr=hr.slice(t+1)),CT(Hm,Ms),s}finally{ve=e,vf=!1}}return null}var so=[],io=0,Mc=null,jc=0,gn=[],yn=0,wi=null,gr=1,yr="";function ei(t,e){so[io++]=jc,so[io++]=Mc,Mc=t,jc=e}function eI(t,e,n){gn[yn++]=gr,gn[yn++]=yr,gn[yn++]=wi,wi=t;var r=gr;t=yr;var s=32-Dn(r)-1;r&=~(1<<s),n+=1;var i=32-Dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gr=1<<32-Dn(e)+s|n<<s|r,yr=i+t}else gr=1<<i|n<<s|r,yr=t}function Zm(t){t.return!==null&&(ei(t,1),eI(t,1,0))}function eg(t){for(;t===Mc;)Mc=so[--io],so[io]=null,jc=so[--io],so[io]=null;for(;t===wi;)wi=gn[--yn],gn[yn]=null,yr=gn[--yn],gn[yn]=null,gr=gn[--yn],gn[yn]=null}var an=null,rn=null,Pe=!1,Pn=null;function tI(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,rn=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,rn=null,!0):!1;default:return!1}}function xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kp(t){if(Pe){var e=rn;if(e){var n=e;if(!Xv(t,e)){if(xp(t))throw Error(B(418));e=gs(n.nextSibling);var r=an;e&&Xv(t,e)?tI(r,n):(t.flags=t.flags&-4097|2,Pe=!1,an=t)}}else{if(xp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Pe=!1,an=t}}}function Jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Mu(t){if(t!==an)return!1;if(!Pe)return Jv(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sp(t.type,t.memoizedProps)),e&&(e=rn)){if(xp(t))throw nI(),Error(B(418));for(;e;)tI(t,e),e=gs(e.nextSibling)}if(Jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=an?gs(t.stateNode.nextSibling):null;return!0}function nI(){for(var t=rn;t;)t=gs(t.nextSibling)}function Co(){rn=an=null,Pe=!1}function tg(t){Pn===null?Pn=[t]:Pn.push(t)}var U2=jr.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zv(t){var e=t._init;return e(t._payload)}function rI(t){function e(_,E){if(t){var C=_.deletions;C===null?(_.deletions=[E],_.flags|=16):C.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function s(_,E){return _=_s(_,E),_.index=0,_.sibling=null,_}function i(_,E,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<E?(_.flags|=2,E):C):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,C,O){return E===null||E.tag!==6?(E=bf(C,_.mode,O),E.return=_,E):(E=s(E,C),E.return=_,E)}function u(_,E,C,O){var j=C.type;return j===Ji?d(_,E,C.props.children,O,C.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jr&&Zv(j)===E.type)?(O=s(E,C.props),O.ref=Ra(_,E,C),O.return=_,O):(O=fc(C.type,C.key,C.props,null,_.mode,O),O.ref=Ra(_,E,C),O.return=_,O)}function c(_,E,C,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Rf(C,_.mode,O),E.return=_,E):(E=s(E,C.children||[]),E.return=_,E)}function d(_,E,C,O,j){return E===null||E.tag!==7?(E=di(C,_.mode,O,j),E.return=_,E):(E=s(E,C),E.return=_,E)}function f(_,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=bf(""+E,_.mode,C),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ru:return C=fc(E.type,E.key,E.props,null,_.mode,C),C.ref=Ra(_,null,E),C.return=_,C;case Xi:return E=Rf(E,_.mode,C),E.return=_,E;case Jr:var O=E._init;return f(_,O(E._payload),C)}if(La(E)||Ta(E))return E=di(E,_.mode,C,null),E.return=_,E;ju(_,E)}return null}function p(_,E,C,O){var j=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return j!==null?null:a(_,E,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ru:return C.key===j?u(_,E,C,O):null;case Xi:return C.key===j?c(_,E,C,O):null;case Jr:return j=C._init,p(_,E,j(C._payload),O)}if(La(C)||Ta(C))return j!==null?null:d(_,E,C,O,null);ju(_,C)}return null}function w(_,E,C,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(C)||null,a(E,_,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ru:return _=_.get(O.key===null?C:O.key)||null,u(E,_,O,j);case Xi:return _=_.get(O.key===null?C:O.key)||null,c(E,_,O,j);case Jr:var V=O._init;return w(_,E,C,V(O._payload),j)}if(La(O)||Ta(O))return _=_.get(C)||null,d(E,_,O,j,null);ju(E,O)}return null}function v(_,E,C,O){for(var j=null,V=null,b=E,T=E=0,A=null;b!==null&&T<C.length;T++){b.index>T?(A=b,b=null):A=b.sibling;var P=p(_,b,C[T],O);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(_,b),E=i(P,E,T),V===null?j=P:V.sibling=P,V=P,b=A}if(T===C.length)return n(_,b),Pe&&ei(_,T),j;if(b===null){for(;T<C.length;T++)b=f(_,C[T],O),b!==null&&(E=i(b,E,T),V===null?j=b:V.sibling=b,V=b);return Pe&&ei(_,T),j}for(b=r(_,b);T<C.length;T++)A=w(b,_,T,C[T],O),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),E=i(A,E,T),V===null?j=A:V.sibling=A,V=A);return t&&b.forEach(function(x){return e(_,x)}),Pe&&ei(_,T),j}function S(_,E,C,O){var j=Ta(C);if(typeof j!="function")throw Error(B(150));if(C=j.call(C),C==null)throw Error(B(151));for(var V=j=null,b=E,T=E=0,A=null,P=C.next();b!==null&&!P.done;T++,P=C.next()){b.index>T?(A=b,b=null):A=b.sibling;var x=p(_,b,P.value,O);if(x===null){b===null&&(b=A);break}t&&b&&x.alternate===null&&e(_,b),E=i(x,E,T),V===null?j=x:V.sibling=x,V=x,b=A}if(P.done)return n(_,b),Pe&&ei(_,T),j;if(b===null){for(;!P.done;T++,P=C.next())P=f(_,P.value,O),P!==null&&(E=i(P,E,T),V===null?j=P:V.sibling=P,V=P);return Pe&&ei(_,T),j}for(b=r(_,b);!P.done;T++,P=C.next())P=w(b,_,T,P.value,O),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),E=i(P,E,T),V===null?j=P:V.sibling=P,V=P);return t&&b.forEach(function(N){return e(_,N)}),Pe&&ei(_,T),j}function R(_,E,C,O){if(typeof C=="object"&&C!==null&&C.type===Ji&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ru:e:{for(var j=C.key,V=E;V!==null;){if(V.key===j){if(j=C.type,j===Ji){if(V.tag===7){n(_,V.sibling),E=s(V,C.props.children),E.return=_,_=E;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jr&&Zv(j)===V.type){n(_,V.sibling),E=s(V,C.props),E.ref=Ra(_,V,C),E.return=_,_=E;break e}n(_,V);break}else e(_,V);V=V.sibling}C.type===Ji?(E=di(C.props.children,_.mode,O,C.key),E.return=_,_=E):(O=fc(C.type,C.key,C.props,null,_.mode,O),O.ref=Ra(_,E,C),O.return=_,_=O)}return o(_);case Xi:e:{for(V=C.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(_,E.sibling),E=s(E,C.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Rf(C,_.mode,O),E.return=_,_=E}return o(_);case Jr:return V=C._init,R(_,E,V(C._payload),O)}if(La(C))return v(_,E,C,O);if(Ta(C))return S(_,E,C,O);ju(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(_,E.sibling),E=s(E,C),E.return=_,_=E):(n(_,E),E=bf(C,_.mode,O),E.return=_,_=E),o(_)):n(_,E)}return R}var So=rI(!0),sI=rI(!1),Fc=Vs(null),Uc=null,oo=null,ng=null;function rg(){ng=oo=Uc=null}function sg(t){var e=Fc.current;xe(Fc),t._currentValue=e}function Pp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mo(t,e){Uc=t,ng=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(ng!==t)if(t={context:t,memoizedValue:e,next:null},oo===null){if(Uc===null)throw Error(B(308));oo=t,Uc.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return e}var ii=null;function ig(t){ii===null?ii=[t]:ii.push(t)}function iI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ig(e)):(n.next=s.next,s.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xr(t,n)}return s=r.interleaved,s===null?(e.next=e,ig(r)):(e.next=s.next,s.next=e),r.interleaved=e,xr(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}function e_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bc(t,e,n,r){var s=t.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,a=i;do{var p=a.lane,w=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,S=a;switch(p=e,w=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(w,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,p=typeof v=="function"?v.call(w,f,p):v,p==null)break e;f=Me({},f,p);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=f):d=d.next=w,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=f}}function t_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var zl={},Yn=Vs(zl),wl=Vs(zl),vl=Vs(zl);function oi(t){if(t===zl)throw Error(B(174));return t}function ag(t,e){switch(Ce(vl,e),Ce(wl,t),Ce(Yn,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dp(e,t)}xe(Yn),Ce(Yn,e)}function bo(){xe(Yn),xe(wl),xe(vl)}function aI(t){oi(vl.current);var e=oi(Yn.current),n=dp(e,t.type);e!==n&&(Ce(wl,t),Ce(Yn,n))}function lg(t){wl.current===t&&(xe(Yn),xe(wl))}var Oe=Vs(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function ug(){for(var t=0;t<_f.length;t++)_f[t]._workInProgressVersionPrimary=null;_f.length=0}var lc=jr.ReactCurrentDispatcher,Ef=jr.ReactCurrentBatchConfig,vi=0,Ve=null,nt=null,ut=null,zc=!1,Ya=!1,_l=0,B2=0;function _t(){throw Error(B(321))}function cg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function dg(t,e,n,r,s,i){if(vi=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lc.current=t===null||t.memoizedState===null?q2:W2,t=n(r,s),Ya){i=0;do{if(Ya=!1,_l=0,25<=i)throw Error(B(301));i+=1,ut=nt=null,e.updateQueue=null,lc.current=K2,t=n(r,s)}while(Ya)}if(lc.current=Hc,e=nt!==null&&nt.next!==null,vi=0,ut=nt=Ve=null,zc=!1,e)throw Error(B(300));return t}function hg(){var t=_l!==0;return _l=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ve.memoizedState=ut=t:ut=ut.next=t,ut}function In(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ut===null?Ve.memoizedState:ut.next;if(e!==null)ut=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Ve.memoizedState=ut=t:ut=ut.next=t}return ut}function El(t,e){return typeof e=="function"?e(t):e}function Tf(t){var e=In(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((vi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ve.lanes|=d,_i|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Mn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,_i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function If(t){var e=In(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mn(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lI(){}function uI(t,e){var n=Ve,r=In(),s=e(),i=!Mn(r.memoizedState,s);if(i&&(r.memoizedState=s,Gt=!0),r=r.queue,fg(hI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Tl(9,dI.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(B(349));vi&30||cI(n,e,s)}return s}function cI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dI(t,e,n,r){e.value=n,e.getSnapshot=r,fI(e)&&pI(t)}function hI(t,e,n){return n(function(){fI(e)&&pI(t)})}function fI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function pI(t){var e=xr(t,1);e!==null&&Ln(e,t,1,-1)}function n_(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=H2.bind(null,Ve,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mI(){return In().memoizedState}function uc(t,e,n,r){var s=Hn();Ve.flags|=t,s.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var s=In();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&cg(r,o.deps)){s.memoizedState=Tl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Tl(1|e,n,i,r)}function r_(t,e){return uc(8390656,8,t,e)}function fg(t,e){return Ud(2048,8,t,e)}function gI(t,e){return Ud(4,2,t,e)}function yI(t,e){return Ud(4,4,t,e)}function wI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vI(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,4,wI.bind(null,e,t),n)}function pg(){}function _I(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EI(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TI(t,e,n){return vi&21?(Mn(n,e)||(n=RT(),Ve.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function $2(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Ef.transition;Ef.transition={};try{t(!1),e()}finally{ve=n,Ef.transition=r}}function II(){return In().memoizedState}function z2(t,e,n){var r=vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CI(t))SI(e,n);else if(n=iI(t,e,n,r),n!==null){var s=Vt();Ln(n,t,r,s),bI(n,e,r)}}function H2(t,e,n){var r=vs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CI(t))SI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mn(a,o)){var u=e.interleaved;u===null?(s.next=s,ig(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=iI(t,e,s,r),n!==null&&(s=Vt(),Ln(n,t,r,s),bI(n,e,r))}}function CI(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function SI(t,e){Ya=zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}var Hc={readContext:Tn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},q2={readContext:Tn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:r_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,wI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z2.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:n_,useDebugValue:pg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=n_(!1),e=t[0];return t=$2.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Hn();if(Pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ct===null)throw Error(B(349));vi&30||cI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,r_(hI.bind(null,r,i,t),[t]),r.flags|=2048,Tl(9,dI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Hn(),e=ct.identifierPrefix;if(Pe){var n=yr,r=gr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=B2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W2={readContext:Tn,useCallback:_I,useContext:Tn,useEffect:fg,useImperativeHandle:vI,useInsertionEffect:gI,useLayoutEffect:yI,useMemo:EI,useReducer:Tf,useRef:mI,useState:function(){return Tf(El)},useDebugValue:pg,useDeferredValue:function(t){var e=In();return TI(e,nt.memoizedState,t)},useTransition:function(){var t=Tf(El)[0],e=In().memoizedState;return[t,e]},useMutableSource:lI,useSyncExternalStore:uI,useId:II,unstable_isNewReconciler:!1},K2={readContext:Tn,useCallback:_I,useContext:Tn,useEffect:fg,useImperativeHandle:vI,useInsertionEffect:gI,useLayoutEffect:yI,useMemo:EI,useReducer:If,useRef:mI,useState:function(){return If(El)},useDebugValue:pg,useDeferredValue:function(t){var e=In();return nt===null?e.memoizedState=t:TI(e,nt.memoizedState,t)},useTransition:function(){var t=If(El)[0],e=In().memoizedState;return[t,e]},useMutableSource:lI,useSyncExternalStore:uI,useId:II,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=vs(t),i=_r(r,s);i.payload=e,n!=null&&(i.callback=n),e=ys(t,i,s),e!==null&&(Ln(e,t,s,r),ac(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),s=vs(t),i=_r(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ys(t,i,s),e!==null&&(Ln(e,t,s,r),ac(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=vs(t),s=_r(n,r);s.tag=2,e!=null&&(s.callback=e),e=ys(t,s,r),e!==null&&(Ln(e,t,r,n),ac(e,t,r))}};function s_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(s,i):!0}function RI(t,e,n){var r=!1,s=Rs,i=e.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(s=Yt(e)?yi:Rt.current,r=e.contextTypes,i=(r=r!=null)?Io(t,s):Rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function i_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},og(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Tn(i):(i=Yt(e)?yi:Rt.current,s.context=Io(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Np(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bd.enqueueReplaceState(s,s.state,null),Bc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ro(t,e){try{var n="",r=e;do n+=Ex(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var G2=typeof WeakMap=="function"?WeakMap:Map;function AI(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wc||(Wc=!0,Hp=r),Dp(t,e)},n}function xI(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dp(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new G2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lk.bind(null,t,e,n),e.then(t,t))}function a_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ys(n,e,1))),n.lanes|=1),t)}var Q2=jr.ReactCurrentOwner,Gt=!1;function Lt(t,e,n,r){e.child=t===null?sI(e,null,n,r):So(e,t.child,n,r)}function u_(t,e,n,r,s){n=n.render;var i=e.ref;return mo(e,s),r=dg(t,e,n,r,i,s),n=hg(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(Pe&&n&&Zm(e),e.flags|=1,Lt(t,e,r,s),e.child)}function c_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Tg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kI(t,e,i,r,s)):(t=fc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(o,r)&&t.ref===e.ref)return kr(t,e,s)}return e.flags|=1,t=_s(i,r),t.ref=e.ref,t.return=e,e.child=t}function kI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pl(i,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,kr(t,e,s)}return Lp(t,e,n,r,s)}function PI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(lo,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(lo,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(lo,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(lo,nn),nn|=r;return Lt(t,e,s,n),e.child}function NI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,n,r,s){var i=Yt(n)?yi:Rt.current;return i=Io(e,i),mo(e,s),n=dg(t,e,n,r,i,s),r=hg(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(Pe&&r&&Zm(e),e.flags|=1,Lt(t,e,n,s),e.child)}function d_(t,e,n,r,s){if(Yt(n)){var i=!0;Vc(e)}else i=!1;if(mo(e,s),e.stateNode===null)cc(t,e),RI(e,n,r),Op(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=Yt(n)?yi:Rt.current,c=Io(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&i_(e,o,r,c),Zr=!1;var p=e.memoizedState;o.state=p,Bc(e,r,o,s),u=e.memoizedState,a!==r||p!==u||Qt.current||Zr?(typeof d=="function"&&(Np(e,n,d,r),u=e.memoizedState),(a=Zr||s_(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Tn(u):(u=Yt(n)?yi:Rt.current,u=Io(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&i_(e,o,r,u),Zr=!1,p=e.memoizedState,o.state=p,Bc(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||Qt.current||Zr?(typeof w=="function"&&(Np(e,n,w,r),v=e.memoizedState),(c=Zr||s_(e,n,c,r,p,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Vp(t,e,n,r,i,s)}function Vp(t,e,n,r,s,i){NI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Yv(e,n,!1),kr(t,e,i);r=e.stateNode,Q2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=So(e,t.child,null,i),e.child=So(e,null,a,i)):Lt(t,e,a,i),e.memoizedState=r.state,s&&Yv(e,n,!0),e.child}function OI(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),ag(t,e.containerInfo)}function h_(t,e,n,r,s){return Co(),tg(s),e.flags|=256,Lt(t,e,n,r),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function DI(t,e,n){var r=e.pendingProps,s=Oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),t===null)return kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hd(o,r,0,null),t=di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jp(n),e.memoizedState=Mp,t):mg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Y2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=_s(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_s(a,i):(i=di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Mp,r}return i=t.child,t=i.sibling,r=_s(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mg(t,e){return e=Hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&tg(r),So(e,t.child,null,n),t=mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cf(Error(B(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hd({mode:"visible",children:r.children},s,0,null),i=di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&So(e,t.child,null,o),e.child.memoizedState=jp(o),e.memoizedState=Mp,i);if(!(e.mode&1))return Fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Cf(i,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(t,s),Ln(r,t,s,-1))}return Eg(),r=Cf(Error(B(421))),Fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=gs(s.nextSibling),an=e,Pe=!0,Pn=null,t!==null&&(gn[yn++]=gr,gn[yn++]=yr,gn[yn++]=wi,gr=t.id,yr=t.overflow,wi=e),e=mg(e,r.children),e.flags|=4096,e)}function f_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pp(t.return,e,n)}function Sf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Lt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,n,e);else if(t.tag===19)f_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$c(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sf(e,!0,n,null,i);break;case"together":Sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=_s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X2(t,e,n){switch(e.tag){case 3:OI(e),Co();break;case 5:aI(e);break;case 1:Yt(e.type)&&Vc(e);break;case 4:ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Fc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?DI(t,e,n):(Ce(Oe,Oe.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,PI(t,e,n)}return kr(t,e,n)}var VI,Fp,MI,jI;VI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};MI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oi(Yn.current);var i=null;switch(n){case"input":s=ap(t,s),r=ap(t,r),i=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":s=cp(t,s),r=cp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dc)}hp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(al.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(al.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Re("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function J2(t,e,n){var r=e.pendingProps;switch(eg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Yt(e.type)&&Lc(),Et(e),null;case 3:return r=e.stateNode,bo(),xe(Qt),xe(Rt),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Kp(Pn),Pn=null))),Fp(t,e),Et(e),null;case 5:lg(e);var s=oi(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)MI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Et(e),null}if(t=oi(Yn.current),Mu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Kn]=e,r[yl]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Ma.length;s++)Re(Ma[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Tv(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Cv(r,i),Re("invalid",r)}hp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,a,t),s=["children",""+a]):al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Au(r),Iv(r,i,!0);break;case"textarea":Au(r),Sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[yl]=r,VI(t,e,!1,!1),e.stateNode=t;e:{switch(o=fp(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ma.length;s++)Re(Ma[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":Tv(t,r),s=ap(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Cv(t,r),s=cp(t,r),Re("invalid",t);break;default:s=r}hp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?mT(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fT(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ll(t,u):typeof u=="number"&&ll(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(al.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Re("scroll",t):u!=null&&Fm(t,i,u,o))}switch(n){case"input":Au(t),Iv(t,r,!1);break;case"textarea":Au(t),Sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?co(t,!!r.multiple,i,!1):r.defaultValue!=null&&co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)jI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=oi(vl.current),oi(Yn.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(i=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Et(e),null;case 13:if(xe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&rn!==null&&e.mode&1&&!(e.flags&128))nI(),Co(),e.flags|=98560,i=!1;else if(i=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Kn]=e}else Co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else Pn!==null&&(Kp(Pn),Pn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?rt===0&&(rt=3):Eg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return bo(),Fp(t,e),t===null&&ml(e.stateNode.containerInfo),Et(e),null;case 10:return sg(e.type._context),Et(e),null;case 17:return Yt(e.type)&&Lc(),Et(e),null;case 19:if(xe(Oe),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Aa(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$c(t),o!==null){for(e.flags|=128,Aa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Ao&&(e.flags|=128,r=!0,Aa(i,!1),e.lanes=4194304)}else{if(!r)if(t=$c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return Et(e),null}else 2*Ge()-i.renderingStartTime>Ao&&n!==1073741824&&(e.flags|=128,r=!0,Aa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return _g(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Z2(t,e){switch(eg(e),e.tag){case 1:return Yt(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),xe(Qt),xe(Rt),ug(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lg(e),null;case 13:if(xe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Oe),null;case 4:return bo(),null;case 10:return sg(e.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var Uu=!1,Ct=!1,ek=typeof WeakSet=="function"?WeakSet:Set,W=null;function ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Up(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var p_=!1;function tk(t,e){if(Ip=Pc,t=zT(),Jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(u=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cp={focusedElem:t,selectionRange:n},Pc=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,R=v.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:xn(e.type,S),R);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(O){Ue(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=p_,p_=!1,v}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Up(e,n,i)}s=s.next}while(s!==r)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FI(t){var e=t.alternate;e!==null&&(t.alternate=null,FI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[yl],delete e[Rp],delete e[M2],delete e[j2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UI(t){return t.tag===5||t.tag===3||t.tag===4}function m_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dc));else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var pt=null,kn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)BI(t,e,n),n=n.sibling}function BI(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:Ct||ao(n,e);case 6:var r=pt,s=kn;pt=null,Yr(t,e,n),pt=r,kn=s,pt!==null&&(kn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(kn?(t=pt,n=n.stateNode,t.nodeType===8?wf(t.parentNode,n):t.nodeType===1&&wf(t,n),hl(t)):wf(pt,n.stateNode));break;case 4:r=pt,s=kn,pt=n.stateNode.containerInfo,kn=!0,Yr(t,e,n),pt=r,kn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Up(n,e,o),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!Ct&&(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Yr(t,e,n),Ct=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function g_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ek),e.forEach(function(r){var s=ck.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,kn=!1;break e;case 3:pt=a.stateNode.containerInfo,kn=!0;break e;case 4:pt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(pt===null)throw Error(B(160));BI(i,o,s),pt=null,kn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$I(e,t),e=e.sibling}function $I(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),zn(t),r&4){try{Xa(3,t,t.return),$d(3,t)}catch(S){Ue(t,t.return,S)}try{Xa(5,t,t.return)}catch(S){Ue(t,t.return,S)}}break;case 1:Rn(e,t),zn(t),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Rn(e,t),zn(t),r&512&&n!==null&&ao(n,n.return),t.flags&32){var s=t.stateNode;try{ll(s,"")}catch(S){Ue(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cT(s,i),fp(a,o);var c=fp(a,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?mT(s,f):d==="dangerouslySetInnerHTML"?fT(s,f):d==="children"?ll(s,f):Fm(s,d,f,c)}switch(a){case"input":lp(s,i);break;case"textarea":dT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?co(s,!!i.multiple,w,!1):p!==!!i.multiple&&(i.defaultValue!=null?co(s,!!i.multiple,i.defaultValue,!0):co(s,!!i.multiple,i.multiple?[]:"",!1))}s[yl]=i}catch(S){Ue(t,t.return,S)}}break;case 6:if(Rn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Ue(t,t.return,S)}}break;case 3:if(Rn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(S){Ue(t,t.return,S)}break;case 4:Rn(e,t),zn(t);break;case 13:Rn(e,t),zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wg=Ge())),r&4&&g_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,Rn(e,t),Ct=c):Rn(e,t),zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(f=W=d;W!==null;){switch(p=W,w=p.child,p.tag){case 0:case 11:case 14:case 15:Xa(4,p,p.return);break;case 1:ao(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Ue(r,n,S)}}break;case 5:ao(p,p.return);break;case 22:if(p.memoizedState!==null){w_(f);continue}}w!==null?(w.return=p,W=w):w_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=pT("display",o))}catch(S){Ue(t,t.return,S)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Ue(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rn(e,t),zn(t),r&4&&g_(t);break;case 21:break;default:Rn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UI(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ll(s,""),r.flags&=-33);var i=m_(t);zp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=m_(t);$p(t,a,o);break;default:throw Error(B(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nk(t,e,n){W=t,zI(t)}function zI(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=Uu;var c=Ct;if(Uu=o,(Ct=u)&&!c)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?v_(s):u!==null?(u.return=o,W=u):v_(s);for(;i!==null;)W=i,zI(i),i=i.sibling;W=s,Uu=a,Ct=c}y_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):y_(t)}}function y_(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||$d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&t_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ct||e.flags&512&&Bp(e)}catch(p){Ue(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function w_(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function v_(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(u){Ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ue(e,s,u)}}var i=e.return;try{Bp(e)}catch(u){Ue(e,i,u)}break;case 5:var o=e.return;try{Bp(e)}catch(u){Ue(e,o,u)}}}catch(u){Ue(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var rk=Math.ceil,qc=jr.ReactCurrentDispatcher,gg=jr.ReactCurrentOwner,_n=jr.ReactCurrentBatchConfig,he=0,ct=null,Je=null,yt=0,nn=0,lo=Vs(0),rt=0,Il=null,_i=0,zd=0,yg=0,Ja=null,Ht=null,wg=0,Ao=1/0,dr=null,Wc=!1,Hp=null,ws=null,Bu=!1,ls=null,Kc=0,Za=0,qp=null,dc=-1,hc=0;function Vt(){return he&6?Ge():dc!==-1?dc:dc=Ge()}function vs(t){return t.mode&1?he&2&&yt!==0?yt&-yt:U2.transition!==null?(hc===0&&(hc=RT()),hc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:DT(t.type)),t):1}function Ln(t,e,n,r){if(50<Za)throw Za=0,qp=null,Error(B(185));Ul(t,n,r),(!(he&2)||t!==ct)&&(t===ct&&(!(he&2)&&(zd|=n),rt===4&&ns(t,yt)),Xt(t,r),n===1&&he===0&&!(e.mode&1)&&(Ao=Ge()+500,Fd&&Ms()))}function Xt(t,e){var n=t.callbackNode;Ux(t,e);var r=kc(t,t===ct?yt:0);if(r===0)n!==null&&Av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Av(n),e===1)t.tag===0?F2(__.bind(null,t)):ZT(__.bind(null,t)),L2(function(){!(he&6)&&Ms()}),n=null;else{switch(AT(r)){case 1:n=Hm;break;case 4:n=ST;break;case 16:n=xc;break;case 536870912:n=bT;break;default:n=xc}n=XI(n,HI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HI(t,e){if(dc=-1,hc=0,he&6)throw Error(B(327));var n=t.callbackNode;if(go()&&t.callbackNode!==n)return null;var r=kc(t,t===ct?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gc(t,r);else{e=r;var s=he;he|=2;var i=WI();(ct!==t||yt!==e)&&(dr=null,Ao=Ge()+500,ci(t,e));do try{ok();break}catch(a){qI(t,a)}while(!0);rg(),qc.current=i,he=s,Je!==null?e=0:(ct=null,yt=0,e=rt)}if(e!==0){if(e===2&&(s=wp(t),s!==0&&(r=s,e=Wp(t,s))),e===1)throw n=Il,ci(t,0),ns(t,r),Xt(t,Ge()),n;if(e===6)ns(t,r);else{if(s=t.current.alternate,!(r&30)&&!sk(s)&&(e=Gc(t,r),e===2&&(i=wp(t),i!==0&&(r=i,e=Wp(t,i))),e===1))throw n=Il,ci(t,0),ns(t,r),Xt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ti(t,Ht,dr);break;case 3:if(ns(t,r),(r&130023424)===r&&(e=wg+500-Ge(),10<e)){if(kc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bp(ti.bind(null,t,Ht,dr),e);break}ti(t,Ht,dr);break;case 4:if(ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rk(r/1960))-r,10<r){t.timeoutHandle=bp(ti.bind(null,t,Ht,dr),r);break}ti(t,Ht,dr);break;case 5:ti(t,Ht,dr);break;default:throw Error(B(329))}}}return Xt(t,Ge()),t.callbackNode===n?HI.bind(null,t):null}function Wp(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=Gc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Kp(e)),t}function Kp(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e){for(e&=~yg,e&=~zd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function __(t){if(he&6)throw Error(B(327));go();var e=kc(t,0);if(!(e&1))return Xt(t,Ge()),null;var n=Gc(t,e);if(t.tag!==0&&n===2){var r=wp(t);r!==0&&(e=r,n=Wp(t,r))}if(n===1)throw n=Il,ci(t,0),ns(t,e),Xt(t,Ge()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Ht,dr),Xt(t,Ge()),null}function vg(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ao=Ge()+500,Fd&&Ms())}}function Ei(t){ls!==null&&ls.tag===0&&!(he&6)&&go();var e=he;he|=1;var n=_n.transition,r=ve;try{if(_n.transition=null,ve=1,t)return t()}finally{ve=r,_n.transition=n,he=e,!(he&6)&&Ms()}}function _g(){nn=lo.current,xe(lo)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D2(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lc();break;case 3:bo(),xe(Qt),xe(Rt),ug();break;case 5:lg(r);break;case 4:bo();break;case 13:xe(Oe);break;case 19:xe(Oe);break;case 10:sg(r.type._context);break;case 22:case 23:_g()}n=n.return}if(ct=t,Je=t=_s(t.current,null),yt=nn=e,rt=0,Il=null,yg=zd=_i=0,Ht=Ja=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ii=null}return t}function qI(t,e){do{var n=Je;try{if(rg(),lc.current=Hc,zc){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zc=!1}if(vi=0,ut=nt=Ve=null,Ya=!1,_l=0,gg.current=null,n===null||n.return===null){rt=1,Il=e,Je=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=yt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=a_(o);if(w!==null){w.flags&=-257,l_(w,o,a,i,e),w.mode&1&&o_(i,c,e),e=w,u=c;var v=e.updateQueue;if(v===null){var S=new Set;S.add(u),e.updateQueue=S}else v.add(u);break e}else{if(!(e&1)){o_(i,c,e),Eg();break e}u=Error(B(426))}}else if(Pe&&a.mode&1){var R=a_(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),l_(R,o,a,i,e),tg(Ro(u,a));break e}}i=u=Ro(u,a),rt!==4&&(rt=2),Ja===null?Ja=[i]:Ja.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=AI(i,u,e);e_(i,_);break e;case 1:a=u;var E=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ws===null||!ws.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=xI(i,a,e);e_(i,O);break e}}i=i.return}while(i!==null)}GI(n)}catch(j){e=j,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function WI(){var t=qc.current;return qc.current=Hc,t===null?Hc:t}function Eg(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(_i&268435455)&&!(zd&268435455)||ns(ct,yt)}function Gc(t,e){var n=he;he|=2;var r=WI();(ct!==t||yt!==e)&&(dr=null,ci(t,e));do try{ik();break}catch(s){qI(t,s)}while(!0);if(rg(),he=n,qc.current=r,Je!==null)throw Error(B(261));return ct=null,yt=0,rt}function ik(){for(;Je!==null;)KI(Je)}function ok(){for(;Je!==null&&!Px();)KI(Je)}function KI(t){var e=YI(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?GI(t):Je=e,gg.current=null}function GI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Z2(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=J2(n,e,nn),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function ti(t,e,n){var r=ve,s=_n.transition;try{_n.transition=null,ve=1,ak(t,e,n,r)}finally{_n.transition=s,ve=r}return null}function ak(t,e,n,r){do go();while(ls!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bx(t,i),t===ct&&(Je=ct=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,XI(xc,function(){return go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=ve;ve=1;var a=he;he|=4,gg.current=null,tk(t,n),$I(n,t),R2(Cp),Pc=!!Ip,Cp=Ip=null,t.current=n,nk(n),Nx(),he=a,ve=o,_n.transition=i}else t.current=n;if(Bu&&(Bu=!1,ls=t,Kc=s),i=t.pendingLanes,i===0&&(ws=null),Lx(n.stateNode),Xt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wc)throw Wc=!1,t=Hp,Hp=null,t;return Kc&1&&t.tag!==0&&go(),i=t.pendingLanes,i&1?t===qp?Za++:(Za=0,qp=t):Za=0,Ms(),null}function go(){if(ls!==null){var t=AT(Kc),e=_n.transition,n=ve;try{if(_n.transition=null,ve=16>t?16:t,ls===null)var r=!1;else{if(t=ls,ls=null,Kc=0,he&6)throw Error(B(331));var s=he;for(he|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Xa(8,d,i)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var p=d.sibling,w=d.return;if(FI(d),d===c){W=null;break}if(p!==null){p.return=w,W=p;break}W=w}}}var v=i.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xa(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,W=_;break e}W=i.return}}var E=t.current;for(W=E;W!==null;){o=W;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,W=C;else e:for(o=E;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$d(9,a)}}catch(j){Ue(a,a.return,j)}if(a===o){W=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,W=O;break e}W=a.return}}if(he=s,Ms(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Dd,t)}catch{}r=!0}return r}finally{ve=n,_n.transition=e}}return!1}function E_(t,e,n){e=Ro(n,e),e=AI(t,e,1),t=ys(t,e,1),e=Vt(),t!==null&&(Ul(t,1,e),Xt(t,e))}function Ue(t,e,n){if(t.tag===3)E_(t,t,n);else for(;e!==null;){if(e.tag===3){E_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=Ro(n,t),t=xI(e,t,1),e=ys(e,t,1),t=Vt(),e!==null&&(Ul(e,1,t),Xt(e,t));break}}e=e.return}}function lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(yt&n)===n&&(rt===4||rt===3&&(yt&130023424)===yt&&500>Ge()-wg?ci(t,0):yg|=n),Xt(t,e)}function QI(t,e){e===0&&(t.mode&1?(e=Pu,Pu<<=1,!(Pu&130023424)&&(Pu=4194304)):e=1);var n=Vt();t=xr(t,e),t!==null&&(Ul(t,e,n),Xt(t,n))}function uk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QI(t,n)}function ck(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),QI(t,n)}var YI;YI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,X2(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Pe&&e.flags&1048576&&eI(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cc(t,e),t=e.pendingProps;var s=Io(e,Rt.current);mo(e,n),s=dg(null,e,r,t,s,n);var i=hg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(i=!0,Vc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,og(e),s.updater=Bd,e.stateNode=s,s._reactInternals=e,Op(e,r,t,n),e=Vp(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Zm(e),Lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hk(r),t=xn(r,t),s){case 0:e=Lp(null,e,r,t,n);break e;case 1:e=d_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=c_(null,e,r,xn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),Lp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),d_(t,e,r,s,n);case 3:e:{if(OI(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oI(t,e),Bc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ro(Error(B(423)),e),e=h_(t,e,r,n,s);break e}else if(r!==s){s=Ro(Error(B(424)),e),e=h_(t,e,r,n,s);break e}else for(rn=gs(e.stateNode.containerInfo.firstChild),an=e,Pe=!0,Pn=null,n=sI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),r===s){e=kr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return aI(e),t===null&&kp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sp(r,s)?o=null:i!==null&&Sp(r,i)&&(e.flags|=32),NI(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&kp(e),null;case 13:return DI(t,e,n);case 4:return ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=So(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),u_(t,e,r,s,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Fc,r._currentValue),r._currentValue=o,i!==null)if(Mn(i.value,o)){if(i.children===s.children&&!Qt.current){e=kr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=_r(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Pp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,mo(e,n),s=Tn(s),r=r(s),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,s=xn(r,e.pendingProps),s=xn(r.type,s),c_(t,e,r,s,n);case 15:return kI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:xn(r,s),cc(t,e),e.tag=1,Yt(r)?(t=!0,Vc(e)):t=!1,mo(e,n),RI(e,r,s),Op(e,r,s,n),Vp(null,e,r,!0,t,n);case 19:return LI(t,e,n);case 22:return PI(t,e,n)}throw Error(B(156,e.tag))};function XI(t,e){return CT(t,e)}function dk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new dk(t,e,n,r)}function Tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hk(t){if(typeof t=="function")return Tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bm)return 11;if(t===$m)return 14}return 2}function _s(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ji:return di(n.children,s,i,e);case Um:o=8,s|=8;break;case rp:return t=vn(12,n,e,s|2),t.elementType=rp,t.lanes=i,t;case sp:return t=vn(13,n,e,s),t.elementType=sp,t.lanes=i,t;case ip:return t=vn(19,n,e,s),t.elementType=ip,t.lanes=i,t;case aT:return Hd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iT:o=10;break e;case oT:o=9;break e;case Bm:o=11;break e;case $m:o=14;break e;case Jr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function di(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Hd(t,e,n,r){return t=vn(22,t,r,e),t.elementType=aT,t.lanes=n,t.stateNode={isHidden:!1},t}function bf(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Rf(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ig(t,e,n,r,s,i,o,a,u){return t=new fk(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(i),t}function pk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JI(t){if(!t)return Rs;t=t._reactInternals;e:{if(Ni(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Yt(n))return JT(t,n,e)}return e}function ZI(t,e,n,r,s,i,o,a,u){return t=Ig(n,r,!0,t,s,i,o,a,u),t.context=JI(null),n=t.current,r=Vt(),s=vs(n),i=_r(r,s),i.callback=e??null,ys(n,i,s),t.current.lanes=s,Ul(t,s,r),Xt(t,r),t}function qd(t,e,n,r){var s=e.current,i=Vt(),o=vs(s);return n=JI(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ys(s,e,o),t!==null&&(Ln(t,s,o,i),ac(t,s,o)),o}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cg(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function mk(){return null}var eC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sg(t){this._internalRoot=t}Wd.prototype.render=Sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));qd(t,e,null,null)};Wd.prototype.unmount=Sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){qd(null,t,null,null)}),e[Ar]=null}};function Wd(t){this._internalRoot=t}Wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=PT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ts.length&&e!==0&&e<ts[n].priority;n++);ts.splice(n,0,t),n===0&&OT(t)}};function bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I_(){}function gk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Qc(o);i.call(c)}}var o=ZI(e,r,t,0,null,!1,!1,"",I_);return t._reactRootContainer=o,t[Ar]=o.current,ml(t.nodeType===8?t.parentNode:t),Ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Qc(u);a.call(c)}}var u=Ig(t,0,!1,null,null,!1,!1,"",I_);return t._reactRootContainer=u,t[Ar]=u.current,ml(t.nodeType===8?t.parentNode:t),Ei(function(){qd(e,u,n,r)}),u}function Gd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Qc(o);a.call(u)}}qd(e,o,t,s)}else o=gk(n,e,t,s,r);return Qc(o)}xT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(qm(e,n|1),Xt(e,Ge()),!(he&6)&&(Ao=Ge()+500,Ms()))}break;case 13:Ei(function(){var r=xr(t,1);if(r!==null){var s=Vt();Ln(r,t,1,s)}}),Cg(t,1)}};Wm=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Vt();Ln(e,t,134217728,n)}Cg(t,134217728)}};kT=function(t){if(t.tag===13){var e=vs(t),n=xr(t,e);if(n!==null){var r=Vt();Ln(n,t,e,r)}Cg(t,e)}};PT=function(){return ve};NT=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};mp=function(t,e,n){switch(e){case"input":if(lp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jd(r);if(!s)throw Error(B(90));uT(r),lp(r,s)}}}break;case"textarea":dT(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};wT=vg;vT=Ei;var yk={usingClientEntryPoint:!1,Events:[$l,no,jd,gT,yT,vg]},xa={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wk={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TT(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Dd=$u.inject(wk),Qn=$u}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(e))throw Error(B(200));return pk(t,e,null,n)};dn.createRoot=function(t,e){if(!bg(t))throw Error(B(299));var n=!1,r="",s=eC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ig(t,1,!1,null,null,n,!1,r,s),t[Ar]=e.current,ml(t.nodeType===8?t.parentNode:t),new Sg(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=TT(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Ei(t)};dn.hydrate=function(t,e,n){if(!Kd(e))throw Error(B(200));return Gd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!bg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=eC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZI(e,null,t,1,n??null,s,!1,i,o),t[Ar]=e.current,ml(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wd(e)};dn.render=function(t,e,n){if(!Kd(e))throw Error(B(200));return Gd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Kd(t))throw Error(B(40));return t._reactRootContainer?(Ei(function(){Gd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};dn.unstable_batchedUpdates=vg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Gd(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function tC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tC)}catch(t){console.error(t)}}tC(),tT.exports=dn;var nC=tT.exports;const uo=Nd(nC);var C_=nC;tp.createRoot=C_.createRoot,tp.hydrateRoot=C_.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function vk(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cl(s)}return Ek(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _k(){return Math.random().toString(36).substring(2,10)}function b_(t,e){return{usr:t.state,key:t.key,idx:e}}function Gp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:n,key:e&&e.key||r||_k()}}function Cl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ek(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=d(),_=R==null?null:R-c;c=R,u&&u({action:a,location:S.location,delta:_})}function p(R,_){a="PUSH";let E=Gp(S.location,R,_);c=d()+1;let C=b_(E,c),O=S.createHref(E);try{o.pushState(C,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(O)}i&&u&&u({action:a,location:S.location,delta:1})}function w(R,_){a="REPLACE";let E=Gp(S.location,R,_);c=d();let C=b_(E,c),O=S.createHref(E);o.replaceState(C,"",O),i&&u&&u({action:a,location:S.location,delta:0})}function v(R){return Tk(R)}let S={get action(){return a},get location(){return t(s,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(S_,f),u=R,()=>{s.removeEventListener(S_,f),u=null}},createHref(R){return e(s,R)},createURL:v,encodeLocation(R){let _=v(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:w,go(R){return o.go(R)}};return S}function Tk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rC(t,e,n="/"){return Ik(t,e,n,!1)}function Ik(t,e,n,r){let s=typeof e=="string"?$o(e):e,i=Pr(s.pathname||"/",n);if(i==null)return null;let o=sC(t);Ck(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Lk(i);a=Ok(o[u],c,r)}return a}function sC(t,e=[],n=[],r="",s=!1){let i=(o,a,u=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;Ne(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Er([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Ne(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),sC(o.children,e,p,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:Pk(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of iC(o.path))i(o,a,!0,c)}),e}function iC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ck(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Nk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Sk=/^:[\w-]+$/,bk=3,Rk=2,Ak=1,xk=10,kk=-2,R_=t=>t==="*";function Pk(t,e){let n=t.split("/"),r=n.length;return n.some(R_)&&(r+=kk),e&&(r+=Rk),n.filter(s=>!R_(s)).reduce((s,i)=>s+(Sk.test(i)?bk:i===""?Ak:xk),r)}function Nk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ok(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Er([i,f.pathname]),pathnameBase:Fk(Er([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Er([i,f.pathnameBase]))}return o}function Yc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Dk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[p];return f&&!w?c[d]=void 0:c[d]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Dk(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vk=t=>oC.test(t);function Mk(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$o(t):t,i;if(n)if(Vk(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=A_(n.substring(1),"/"):i=A_(n,e)}else i=e;return{pathname:i,search:Uk(r),hash:Bk(s)}}function A_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Af(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rg(t){let e=jk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ag(t,e,n,r=!1){let s;typeof t=="string"?s=$o(t):(s={...t},Ne(!s.pathname||!s.pathname.includes("?"),Af("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),Af("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),Af("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=Mk(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Er=t=>t.join("/").replace(/\/\/+/g,"/"),Fk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,$k=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Hk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lC(t,e){let n=t;if(typeof n!="string"||!oC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(aC)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),a=Pr(o.pathname,e);o.origin===i.origin&&a!=null?n=a+o.search+o.hash:s=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uC=["POST","PUT","PATCH","DELETE"];new Set(uC);var qk=["GET",...uC];new Set(qk);var zo=y.createContext(null);zo.displayName="DataRouter";var Qd=y.createContext(null);Qd.displayName="DataRouterState";var Wk=y.createContext(!1),cC=y.createContext({isTransitioning:!1});cC.displayName="ViewTransition";var Kk=y.createContext(new Map);Kk.displayName="Fetchers";var Gk=y.createContext(null);Gk.displayName="Await";var fn=y.createContext(null);fn.displayName="Navigation";var Hl=y.createContext(null);Hl.displayName="Location";var Un=y.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var xg=y.createContext(null);xg.displayName="RouteError";var dC="REACT_ROUTER_ERROR",Qk="REDIRECT",Yk="ROUTE_ERROR_RESPONSE";function Xk(t){if(t.startsWith(`${dC}:${Qk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Jk(t){if(t.startsWith(`${dC}:${Yk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $k(e.status,e.statusText,e.data)}catch{}}function Zk(t,{relative:e}={}){Ne(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(fn),{hash:s,pathname:i,search:o}=ql(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Er([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Ho(){return y.useContext(Hl)!=null}function js(){return Ne(Ho(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Hl).location}var hC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fC(t){y.useContext(fn).static||y.useLayoutEffect(t)}function qo(){let{isDataRoute:t}=y.useContext(Un);return t?hP():eP()}function eP(){Ne(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(zo),{basename:e,navigator:n}=y.useContext(fn),{matches:r}=y.useContext(Un),{pathname:s}=js(),i=JSON.stringify(Rg(r)),o=y.useRef(!1);return fC(()=>{o.current=!0}),y.useCallback((u,c={})=>{if(Cn(o.current,hC),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Ag(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Er([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}y.createContext(null);function pC(){let{matches:t}=y.useContext(Un),e=t[t.length-1];return e?e.params:{}}function ql(t,{relative:e}={}){let{matches:n}=y.useContext(Un),{pathname:r}=js(),s=JSON.stringify(Rg(n));return y.useMemo(()=>Ag(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function tP(t,e){return mC(t,e)}function mC(t,e,n,r,s){var E;Ne(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(fn),{matches:o}=y.useContext(Un),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let C=f&&f.path||"";yC(c,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=js(),w;if(e){let C=typeof e=="string"?$o(e):e;Ne(d==="/"||((E=C.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=p;let v=w.pathname||"/",S=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let R=rC(t,{pathname:S});Cn(f||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=oP(R&&R.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Er([d,i.encodeLocation?i.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Er([d,i.encodeLocation?i.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,s);return e&&_?y.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function nP(){let t=dP(),e=zk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var rP=y.createElement(nP,null),gC=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Jk(t.digest);n&&(t=n)}let e=t!==void 0?y.createElement(Un.Provider,{value:this.props.routeContext},y.createElement(xg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?y.createElement(sP,{error:t},e):e}};gC.contextType=Wk;var xf=new WeakMap;function sP({children:t,error:e}){let{basename:n}=y.useContext(fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Xk(e.digest);if(r){let s=xf.get(e);if(s)throw s;let i=lC(r.location,n);if(aC&&!xf.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw xf.set(e,o),o}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function iP({routeContext:t,match:e,children:n}){let r=y.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Un.Provider,{value:t},n)}function oP(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ne(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:w}=n,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!w||w[f.route.id]===void 0);if(f.route.lazy||v){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let c=n&&r?(d,f)=>{var p,w;r(d,{location:n.location,params:((w=(p=n.matches)==null?void 0:p[0])==null?void 0:w.params)??{},unstable_pattern:Hk(n.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,p)=>{let w,v=!1,S=null,R=null;n&&(w=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||rP,a&&(u<0&&p===0?(yC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,R=null):u===p&&(v=!0,R=f.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,p+1)),E=()=>{let C;return w?C=S:v?C=R:f.route.Component?C=y.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,y.createElement(iP,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(gC,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):E()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aP(t){let e=y.useContext(zo);return Ne(e,kg(t)),e}function lP(t){let e=y.useContext(Qd);return Ne(e,kg(t)),e}function uP(t){let e=y.useContext(Un);return Ne(e,kg(t)),e}function Pg(t){let e=uP(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cP(){return Pg("useRouteId")}function dP(){var r;let t=y.useContext(xg),e=lP("useRouteError"),n=Pg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hP(){let{router:t}=aP("useNavigate"),e=Pg("useNavigate"),n=y.useRef(!1);return fC(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{Cn(n.current,hC),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var x_={};function yC(t,e,n){!e&&!x_[t]&&(x_[t]=!0,Cn(!1,n))}y.memo(fP);function fP({routes:t,future:e,state:n,onError:r}){return mC(t,void 0,n,r,e)}function wC({to:t,replace:e,state:n,relative:r}){Ne(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=y.useContext(fn);Cn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(Un),{pathname:o}=js(),a=qo(),u=Ag(t,Rg(i),o,r==="path"),c=JSON.stringify(u);return y.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function An(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){Ne(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof n=="string"&&(n=$o(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:w="default"}=n,v=y.useMemo(()=>{let S=Pr(c,a);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:w},navigationType:r}},[a,c,d,f,p,w,r]);return Cn(v!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(fn.Provider,{value:u},y.createElement(Hl.Provider,{children:e,value:v}))}function mP({children:t,location:e}){return tP(Qp(t),e)}function Qp(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Qp(r.props.children,i));return}Ne(r.type===An,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qp(r.props.children,i)),n.push(o)}),n}var pc="get",mc="application/x-www-form-urlencoded";function Yd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gP(t){return Yd(t)&&t.tagName.toLowerCase()==="button"}function yP(t){return Yd(t)&&t.tagName.toLowerCase()==="form"}function wP(t){return Yd(t)&&t.tagName.toLowerCase()==="input"}function vP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _P(t,e){return t.button===0&&(!e||e==="_self")&&!vP(t)}var zu=null;function EP(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var TP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(t){return t!=null&&!TP.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):t}function IP(t,e){let n,r,s,i,o;if(yP(t)){let a=t.getAttribute("action");r=a?Pr(a,e):null,n=t.getAttribute("method")||pc,s=kf(t.getAttribute("enctype"))||mc,i=new FormData(t)}else if(gP(t)||wP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Pr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||pc,s=kf(t.getAttribute("formenctype"))||kf(a.getAttribute("enctype"))||mc,i=new FormData(a,t),!EP()){let{name:c,type:d,value:f}=t;if(d==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,f)}}else{if(Yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pc,r=null,s=mc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ng(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function SP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RP(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await SP(i,n);return o.links?o.links():[]}return[]}));return PP(r.flat(1).filter(bP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function k_(t,e,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?e.filter((u,c)=>{var f;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function AP(t,e,{includeHydrateFallback:n}={}){return xP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function xP(t){return[...new Set(t)]}function kP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(kP(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function vC(){let t=y.useContext(zo);return Ng(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NP(){let t=y.useContext(Qd);return Ng(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Og=y.createContext(void 0);Og.displayName="FrameworkContext";function _C(){let t=y.useContext(Og);return Ng(t,"You must render this element inside a <HydratedRouter> element"),t}function OP(t,e){let n=y.useContext(Og),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=_=>{_.forEach(E=>{o(E.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),y.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{s(!0)},v=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ka(a,w),onBlur:ka(u,v),onMouseEnter:ka(c,w),onMouseLeave:ka(d,v),onTouchStart:ka(f,w)}]:[!1,p,{}]}function ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DP({page:t,...e}){let{router:n}=vC(),r=y.useMemo(()=>rC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(VP,{page:t,matches:r,...e}):null}function LP(t){let{manifest:e,routeModules:n}=_C(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return RP(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function VP({page:t,matches:e,...n}){let r=js(),{manifest:s,routeModules:i}=_C(),{basename:o}=vC(),{loaderData:a,matches:u}=NP(),c=y.useMemo(()=>k_(t,e,u,s,r,"data"),[t,e,u,s,r]),d=y.useMemo(()=>k_(t,e,u,s,r,"assets"),[t,e,u,s,r]),f=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,S=!1;if(e.forEach(_=>{var C;let E=s.routes[_.route.id];!E||!E.hasLoader||(!c.some(O=>O.route.id===_.route.id)&&_.route.id in a&&((C=i[_.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?S=!0:v.add(_.route.id))}),v.size===0)return[];let R=CP(t,o,"data");return S&&v.size>0&&R.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[R.pathname+R.search]},[o,a,r,s,c,e,t,i]),p=y.useMemo(()=>AP(d,s),[d,s]),w=LP(d);return y.createElement(y.Fragment,null,f.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),w.map(({key:v,link:S})=>y.createElement("link",{key:v,nonce:n.nonce,...S})))}function MP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jP&&(window.__reactRouterVersion="7.11.0")}catch{}function FP({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=y.useRef();s.current==null&&(s.current=vk({window:r,v5Compat:!0}));let i=s.current,[o,a]=y.useState({action:i.action,location:i.location}),u=y.useCallback(c=>{n===!1?a(c):y.startTransition(()=>a(c))},[n]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.createElement(pP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...w},v){let{basename:S,unstable_useTransitions:R}=y.useContext(fn),_=typeof c=="string"&&EC.test(c),E=lC(c,S);c=E.to;let C=Zk(c,{relative:s}),[O,j,V]=OP(r,w),b=$P(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:R});function T(P){e&&e(P),P.defaultPrevented||b(P)}let A=y.createElement("a",{...w,...V,href:E.absoluteURL||C,onClick:E.isExternal||i?e:T,ref:MP(v,j),target:u,"data-discover":!_&&n==="render"?"true":void 0});return O&&!_?y.createElement(y.Fragment,null,A,y.createElement(DP,{page:C})):A});$t.displayName="Link";var TC=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},d){let f=ql(o,{relative:c.relative}),p=js(),w=y.useContext(Qd),{navigator:v,basename:S}=y.useContext(fn),R=w!=null&&KP(f)&&a===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,E=p.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&S&&(C=Pr(C,S)||C);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let j=E===_||!s&&E.startsWith(_)&&E.charAt(O)==="/",V=C!=null&&(C===_||!s&&C.startsWith(_)&&C.charAt(_.length)==="/"),b={isActive:j,isPending:V,isTransitioning:R},T=j?e:void 0,A;typeof r=="function"?A=r(b):A=[r,j?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(b):i;return y.createElement($t,{...c,"aria-current":T,className:A,ref:d,style:P,to:o,viewTransition:a},typeof u=="function"?u(b):u)});TC.displayName="NavLink";var UP=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=pc,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...w},v)=>{let{unstable_useTransitions:S}=y.useContext(fn),R=qP(),_=WP(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&EC.test(a),O=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let V=j.nativeEvent.submitter,b=(V==null?void 0:V.getAttribute("formmethod"))||o,T=()=>R(V||j.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});S&&n!==!1?y.startTransition(()=>T()):T()};return y.createElement("form",{ref:v,method:E,action:_,onSubmit:r?u:O,...w,"data-discover":!C&&t==="render"?"true":void 0})});UP.displayName="Form";function BP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(t){let e=y.useContext(zo);return Ne(e,BP(t)),e}function $P(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:u}={}){let c=qo(),d=js(),f=ql(t,{relative:i});return y.useCallback(p=>{if(_P(p,e)){p.preventDefault();let w=n!==void 0?n:Cl(d)===Cl(f),v=()=>c(t,{replace:w,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a});u?y.startTransition(()=>v()):v()}},[d,c,f,n,r,e,t,s,i,o,a,u])}var zP=0,HP=()=>`__${String(++zP)}__`;function qP(){let{router:t}=IC("useSubmit"),{basename:e}=y.useContext(fn),n=cP(),r=t.fetch,s=t.navigate;return y.useCallback(async(i,o={})=>{let{action:a,method:u,encType:c,formData:d,body:f}=IP(i,e);if(o.navigate===!1){let p=o.fetcherKey||HP();await r(p,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await s(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function WP(t,{relative:e}={}){let{basename:n}=y.useContext(fn),r=y.useContext(Un);Ne(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...ql(t||".",{relative:e})},o=js();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Er([n,i.pathname])),Cl(i)}function KP(t,{relative:e}={}){let n=y.useContext(cC);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IC("useViewTransitionState"),s=ql(t,{relative:e});if(!n.isTransitioning)return!1;let i=Pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yc(s.pathname,o)!=null||Yc(s.pathname,i)!=null}var CC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(CC);var GP=CC.exports;const G=Nd(GP);function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(null,arguments)}function SC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P_(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function QP(t){var e=YP(t,"string");return typeof e=="symbol"?e:String(e)}function YP(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XP(t,e,n){var r=y.useRef(t!==void 0),s=y.useState(e),i=s[0],o=s[1],a=t!==void 0,u=r.current;return r.current=a,!a&&u&&i!==e&&o(e),[a?t:i,y.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(f)),o(c)},[n])]}function Dg(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[P_(r)],a=i[r],u=SC(i,[P_(r),r].map(QP)),c=e[r],d=XP(a,o,t[c]),f=d[0],p=d[1];return Yp({},u,(s={},s[r]=f,s[c]=p,s))},t)}function Xp(t,e){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xp(t,e)}function JP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xp(t,e)}const ZP=["xxl","xl","lg","md","sm","xs"],eN="xs",Wl=y.createContext({prefixes:{},breakpoints:ZP,minBreakpoint:eN}),{Consumer:KB,Provider:GB}=Wl;function J(t,e){const{prefixes:n}=y.useContext(Wl);return t||n[e]||e}function bC(){const{breakpoints:t}=y.useContext(Wl);return t}function RC(){const{minBreakpoint:t}=y.useContext(Wl);return t}function tN(){const{dir:t}=y.useContext(Wl);return t==="rtl"}function Xd(t){return t&&t.ownerDocument||document}function nN(t){var e=Xd(t);return e&&e.defaultView||window}function rN(t,e){return nN(t).getComputedStyle(t,e)}var sN=/([A-Z])/g;function iN(t){return t.replace(sN,"-$1").toLowerCase()}var oN=/^ms-/;function Hu(t){return iN(t).replace(oN,"-ms-")}var aN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function lN(t){return!!(t&&aN.test(t))}function Tr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hu(e))||rN(t).getPropertyValue(Hu(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(Hu(s)):lN(s)?r+=s+"("+i+") ":n+=Hu(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var AC={exports:{}},uN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cN=uN,dN=cN;function xC(){}function kC(){}kC.resetWarningCache=xC;var hN=function(){function t(r,s,i,o,a,u){if(u!==dN){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kC,resetWarningCache:xC};return n.PropTypes=n,n};AC.exports=hN();var fN=AC.exports;const Ir=Nd(fN),N_={disabled:!1},PC=Kt.createContext(null);var pN=function(e){return e.scrollTop},ja="unmounted",es="exited",Nn="entering",fr="entered",Sl="exiting",Fr=function(t){JP(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?a?(u=es,i.appearStatus=Nn):u=fr:r.unmountOnExit||r.mountOnEnter?u=ja:u=es,i.state={status:u},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===ja?{status:es}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Nn&&o!==fr&&(i=Nn):(o===Nn||o===fr)&&(i=Sl)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:uo.findDOMNode(this);o&&pN(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===es&&this.setState({status:ja})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,u=this.props.nodeRef?[a]:[uo.findDOMNode(this),a],c=u[0],d=u[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!s&&!o||N_.disabled){this.safeSetState({status:fr},function(){i.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Nn},function(){i.props.onEntering(c,d),i.onTransitionEnd(p,function(){i.safeSetState({status:fr},function(){i.props.onEntered(c,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:uo.findDOMNode(this);if(!i||N_.disabled){this.safeSetState({status:es},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Sl},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:es},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:uo.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===ja)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=SC(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Kt.createElement(PC.Provider,{value:null},typeof o=="function"?o(s,a):Kt.cloneElement(Kt.Children.only(o),a))},e}(Kt.Component);Fr.contextType=PC;Fr.propTypes={};function qi(){}Fr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qi,onEntering:qi,onEntered:qi,onExit:qi,onExiting:qi,onExited:qi};Fr.UNMOUNTED=ja;Fr.EXITED=es;Fr.ENTERING=Nn;Fr.ENTERED=fr;Fr.EXITING=Sl;function mN(t){return t.code==="Escape"||t.keyCode===27}function gN(){const t=y.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Wo(t){if(!t||typeof t=="function")return null;const{major:e}=gN();return e>=19?t.props.ref:t.ref}const Ko=!!(typeof window<"u"&&window.document&&window.document.createElement);var Jp=!1,Zp=!1;try{var Pf={get passive(){return Jp=!0},get once(){return Zp=Jp=!0}};Ko&&(window.addEventListener("test",Pf,Pf),window.removeEventListener("test",Pf,!0))}catch{}function NC(t,e,n,r){if(r&&typeof r!="boolean"&&!Zp){var s=r.once,i=r.capture,o=n;!Zp&&s&&(o=n.__once||function a(u){this.removeEventListener(e,a,i),n.call(this,u)},n.__once=o),t.addEventListener(e,o,Jp?r:i)}t.addEventListener(e,n,r)}function em(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Xc(t,e,n,r){return NC(t,e,n,r),function(){em(t,e,n,r)}}function yN(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function wN(t){var e=Tr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function vN(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||yN(t,"transitionend",!0)},e+n),i=Xc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function OC(t,e,n,r){n==null&&(n=wN(t)||0);var s=vN(t,n,r),i=Xc(t,"transitionend",e);return function(){s(),i()}}function O_(t,e){const n=Tr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Lg(t,e){const n=O_(t,"transitionDuration"),r=O_(t,"transitionDelay"),s=OC(t,i=>{i.target===t&&(s(),e(i))},n+r)}function Pa(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function DC(t){t.offsetHeight}const D_=t=>!t||typeof t=="function"?t:e=>{t.current=e};function _N(t,e){const n=D_(t),r=D_(e);return s=>{n&&n(s),r&&r(s)}}function LC(t,e){return y.useMemo(()=>_N(t,e),[t,e])}function EN(t){return t&&"setState"in t?uo.findDOMNode(t):t??null}const Jd=Kt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:a,childRef:u,...c},d)=>{const f=y.useRef(null),p=LC(f,u),w=V=>{p(EN(V))},v=V=>b=>{V&&f.current&&V(f.current,b)},S=y.useCallback(v(t),[t]),R=y.useCallback(v(e),[e]),_=y.useCallback(v(n),[n]),E=y.useCallback(v(r),[r]),C=y.useCallback(v(s),[s]),O=y.useCallback(v(i),[i]),j=y.useCallback(v(o),[o]);return m.jsx(Fr,{ref:d,...c,onEnter:S,onEntered:_,onEntering:R,onExit:E,onExited:O,onExiting:C,addEndListener:j,nodeRef:f,children:typeof a=="function"?(V,b)=>a(V,{...b,ref:w}):Kt.cloneElement(a,{ref:w})})});Jd.displayName="TransitionWrapper";const TN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function IN(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=TN[t];return r+parseInt(Tr(e,s[0]),10)+parseInt(Tr(e,s[1]),10)}const CN={[es]:"collapse",[Sl]:"collapsing",[Nn]:"collapsing",[fr]:"collapse show"},VC=Kt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:o,dimension:a="height",in:u=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:w=IN,...v},S)=>{const R=typeof a=="function"?a():a,_=y.useMemo(()=>Pa(V=>{V.style[R]="0"},t),[R,t]),E=y.useMemo(()=>Pa(V=>{const b=`scroll${R[0].toUpperCase()}${R.slice(1)}`;V.style[R]=`${V[b]}px`},e),[R,e]),C=y.useMemo(()=>Pa(V=>{V.style[R]=null},n),[R,n]),O=y.useMemo(()=>Pa(V=>{V.style[R]=`${w(R,V)}px`,DC(V)},r),[r,w,R]),j=y.useMemo(()=>Pa(V=>{V.style[R]=null},s),[R,s]);return m.jsx(Jd,{ref:S,addEndListener:Lg,...v,"aria-expanded":v.role?u:null,onEnter:_,onEntering:E,onEntered:C,onExit:O,onExiting:j,childRef:Wo(o),in:u,timeout:c,mountOnEnter:d,unmountOnExit:f,appear:p,children:(V,b)=>Kt.cloneElement(o,{...b,className:G(i,o.props.className,CN[V],R==="width"&&"collapse-horizontal")})})});VC.displayName="Collapse";function SN(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t},[t]),e}function Ti(t){const e=SN(t);return y.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Kl=t=>y.forwardRef((e,n)=>m.jsx("div",{...e,ref:n,className:G(e.className,t)})),MC=Kl("h4");MC.displayName="DivStyledAsH4";const jC=y.forwardRef(({className:t,bsPrefix:e,as:n=MC,...r},s)=>(e=J(e,"alert-heading"),m.jsx(n,{ref:s,className:G(t,e),...r})));jC.displayName="AlertHeading";function bN(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t},[t]),e}function pr(t){const e=bN(t);return y.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function RN(){const t=y.useRef(!0),e=y.useRef(()=>t.current);return y.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function AN(t){const e=y.useRef(null);return y.useEffect(()=>{e.current=t}),e.current}const xN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kN=typeof document<"u",L_=kN||xN?y.useLayoutEffect:y.useEffect,PN=["as","disabled"];function NN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ON(t){return!t||t.trim()==="#"}function Vg({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:a=0,type:u}){t||(n!=null||r!=null||s!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const d=p=>{if((e||t==="a"&&ON(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:d,onKeyDown:f},c]}const FC=y.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=NN(t,PN);const[i,{tagName:o}]=Vg(Object.assign({tagName:n,disabled:r},s));return m.jsx(o,Object.assign({},s,i,{ref:e}))});FC.displayName="Button";const DN=["onKeyDown"];function LN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VN(t){return!t||t.trim()==="#"}const Mg=y.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=LN(t,DN);const[s]=Vg(Object.assign({tagName:"a"},r)),i=pr(o=>{s.onKeyDown(o),n==null||n(o)});return VN(r.href)||r.role==="button"?m.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):m.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Mg.displayName="Anchor";const UC=y.forwardRef(({className:t,bsPrefix:e,as:n=Mg,...r},s)=>(e=J(e,"alert-link"),m.jsx(n,{ref:s,className:G(t,e),...r})));UC.displayName="AlertLink";const MN={[Nn]:"show",[fr]:"show"},xo=y.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},a=y.useCallback((u,c)=>{DC(u),r==null||r(u,c)},[r]);return m.jsx(Jd,{ref:i,addEndListener:Lg,...o,onEnter:a,childRef:Wo(e),children:(u,c)=>y.cloneElement(e,{...c,className:G("fade",t,e.props.className,MN[u],n[u])})})});xo.displayName="Fade";const jN={"aria-label":Ir.string,onClick:Ir.func,variant:Ir.oneOf(["white"])},Zd=y.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>m.jsx("button",{ref:s,type:"button",className:G("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Zd.displayName="CloseButton";Zd.propTypes=jN;const BC=y.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:o,children:a,variant:u="primary",onClose:c,dismissible:d,transition:f=xo,...p}=Dg(t,{show:"onClose"}),w=J(n,"alert"),v=Ti(_=>{c&&c(!1,_)}),S=f===!0?xo:f,R=m.jsxs("div",{role:"alert",...S?void 0:p,ref:e,className:G(o,w,u&&`${w}-${u}`,d&&`${w}-dismissible`),children:[d&&m.jsx(Zd,{onClick:v,"aria-label":s,variant:i}),a]});return S?m.jsx(S,{unmountOnExit:!0,...p,ref:void 0,in:r,children:R}):r?R:null});BC.displayName="Alert";const bl=Object.assign(BC,{Link:UC,Heading:jC}),jg=y.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:s,as:i="span",...o},a)=>{const u=J(t,"badge");return m.jsx(i,{ref:a,...o,className:G(s,u,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});jg.displayName="Badge";const De=y.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...a},u)=>{const c=J(e,"btn"),[d,{tagName:f}]=Vg({tagName:t,disabled:i,...a}),p=f;return m.jsx(p,{...d,...a,ref:u,disabled:i,className:G(o,c,s&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&i&&"disabled")})});De.displayName="Button";const Fg=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"card-body"),m.jsx(n,{ref:s,className:G(t,e),...r})));Fg.displayName="CardBody";const $C=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"card-footer"),m.jsx(n,{ref:s,className:G(t,e),...r})));$C.displayName="CardFooter";const Ug=y.createContext(null);Ug.displayName="CardHeaderContext";const zC=y.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=J(t,"card-header"),o=y.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return m.jsx(Ug.Provider,{value:o,children:m.jsx(n,{ref:s,...r,className:G(e,i)})})});zC.displayName="CardHeader";const HC=y.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const o=J(t,"card-img");return m.jsx(r,{ref:i,className:G(n?`${o}-${n}`:o,e),...s})});HC.displayName="CardImg";const qC=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"card-img-overlay"),m.jsx(n,{ref:s,className:G(t,e),...r})));qC.displayName="CardImgOverlay";const WC=y.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},s)=>(e=J(e,"card-link"),m.jsx(n,{ref:s,className:G(t,e),...r})));WC.displayName="CardLink";const FN=Kl("h6"),KC=y.forwardRef(({className:t,bsPrefix:e,as:n=FN,...r},s)=>(e=J(e,"card-subtitle"),m.jsx(n,{ref:s,className:G(t,e),...r})));KC.displayName="CardSubtitle";const GC=y.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},s)=>(e=J(e,"card-text"),m.jsx(n,{ref:s,className:G(t,e),...r})));GC.displayName="CardText";const UN=Kl("h5"),QC=y.forwardRef(({className:t,bsPrefix:e,as:n=UN,...r},s)=>(e=J(e,"card-title"),m.jsx(n,{ref:s,className:G(t,e),...r})));QC.displayName="CardTitle";const YC=y.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:o,as:a="div",...u},c)=>{const d=J(t,"card");return m.jsx(a,{ref:c,...u,className:G(e,d,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?m.jsx(Fg,{children:o}):o})});YC.displayName="Card";const _e=Object.assign(YC,{Img:HC,Title:QC,Subtitle:KC,Body:Fg,Link:WC,Text:GC,Header:zC,Footer:$C,ImgOverlay:qC});function BN(t){const e=y.useRef(t);return e.current=t,e}function $N(t){const e=BN(t);y.useEffect(()=>()=>e.current(),[])}function zN(t,e){return y.Children.toArray(t).some(n=>y.isValidElement(n)&&n.type===e)}function HN({as:t,bsPrefix:e,className:n,...r}){e=J(e,"col");const s=bC(),i=RC(),o=[],a=[];return s.forEach(u=>{const c=r[u];delete r[u];let d,f,p;typeof c=="object"&&c!=null?{span:d,offset:f,order:p}=c:d=c;const w=u!==i?`-${u}`:"";d&&o.push(d===!0?`${e}${w}`:`${e}${w}-${d}`),p!=null&&a.push(`order${w}-${p}`),f!=null&&a.push(`offset${w}-${f}`)}),[{...r,className:G(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const Ke=y.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=HN(t);return m.jsx(s,{...r,ref:e,className:G(n,!o.length&&i)})});Ke.displayName="Col";const Le=y.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const o=J(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return m.jsx(n,{ref:i,...s,className:G(r,e?`${o}${a}`:o)})});Le.displayName="Container";var qN=Function.prototype.bind.call(Function.prototype.call,[].slice);function ni(t,e){return qN(t.querySelectorAll(e))}function WN(){const[,t]=y.useReducer(e=>e+1,0);return t}function V_(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Jc=y.createContext(null),Bg=(t,e=null)=>t!=null?String(t):e||null,$g=y.createContext(null);$g.displayName="NavContext";const KN="data-rr-ui-",GN="rrUi";function eh(t){return`${KN}${t}`}function QN(t){return`${GN}${t}`}const XC=y.createContext(Ko?window:void 0);XC.Provider;function zg(){return y.useContext(XC)}const YN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",XN=typeof document<"u",JN=XN||YN?y.useLayoutEffect:y.useEffect,Go=y.createContext(null);Go.displayName="NavbarContext";const ZN={type:Ir.string,tooltip:Ir.bool,as:Ir.elementType},th=y.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>m.jsx(t,{...s,ref:i,className:G(e,`${n}-${r?"tooltip":"feedback"}`)}));th.displayName="Feedback";th.propTypes=ZN;const Nr=y.createContext({}),Hg=y.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...a},u)=>{const{controlId:c}=y.useContext(Nr);return e=J(e,"form-check-input"),m.jsx(o,{...a,ref:u,type:r,id:t||c,className:G(n,e,s&&"is-valid",i&&"is-invalid")})});Hg.displayName="FormCheckInput";const Zc=y.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=y.useContext(Nr);return t=J(t,"form-check-label"),m.jsx("label",{...r,ref:s,htmlFor:n||i,className:G(e,t)})});Zc.displayName="FormCheckLabel";const JC=y.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:d,className:f,style:p,title:w="",type:v="checkbox",label:S,children:R,as:_="input",...E},C)=>{e=J(e,"form-check"),n=J(n,"form-switch");const{controlId:O}=y.useContext(Nr),j=y.useMemo(()=>({controlId:t||O}),[O,t]),V=!R&&S!=null&&S!==!1||zN(R,Zc),b=m.jsx(Hg,{...E,type:v==="switch"?"checkbox":v,ref:C,isValid:o,isInvalid:a,disabled:i,as:_});return m.jsx(Nr.Provider,{value:j,children:m.jsx("div",{style:p,className:G(f,V&&e,r&&`${e}-inline`,s&&`${e}-reverse`,v==="switch"&&n),children:R||m.jsxs(m.Fragment,{children:[b,V&&m.jsx(Zc,{title:w,children:S}),c&&m.jsx(th,{type:d,tooltip:u,children:c})]})})})});JC.displayName="FormCheck";const ed=Object.assign(JC,{Input:Hg,Label:Zc}),ZC=y.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:a=!1,plaintext:u,readOnly:c,as:d="input",...f},p)=>{const{controlId:w}=y.useContext(Nr);return t=J(t,"form-control"),m.jsx(d,{...f,type:e,size:r,ref:p,readOnly:c,id:s||w,className:G(i,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});ZC.displayName="FormControl";const eO=Object.assign(ZC,{Feedback:th}),eS=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"form-floating"),m.jsx(n,{ref:s,className:G(t,e),...r})));eS.displayName="FormFloating";const qg=y.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=y.useMemo(()=>({controlId:t}),[t]);return m.jsx(Nr.Provider,{value:s,children:m.jsx(e,{...n,ref:r})})});qg.displayName="FormGroup";const tS=y.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},a)=>{const{controlId:u}=y.useContext(Nr);e=J(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=G(s,e,r&&"visually-hidden",n&&c);return i=i||u,n?m.jsx(Ke,{ref:a,as:"label",className:d,htmlFor:i,...o}):m.jsx(t,{ref:a,className:d,htmlFor:i,...o})});tS.displayName="FormLabel";const nS=y.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=y.useContext(Nr);return t=J(t,"form-range"),m.jsx("input",{...r,type:"range",ref:s,className:G(e,t),id:n||i})});nS.displayName="FormRange";const rS=y.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...a},u)=>{const{controlId:c}=y.useContext(Nr);return t=J(t,"form-select"),m.jsx("select",{...a,size:n,ref:u,className:G(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||c})});rS.displayName="FormSelect";const sS=y.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=J(t,"form-text"),m.jsx(n,{...s,ref:i,className:G(e,t,r&&"text-muted")})));sS.displayName="FormText";const iS=y.forwardRef((t,e)=>m.jsx(ed,{...t,ref:e,type:"switch"}));iS.displayName="Switch";const tO=Object.assign(iS,{Input:ed.Input,Label:ed.Label}),oS=y.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=J(t,"form-floating"),m.jsxs(qg,{ref:o,className:G(e,t),controlId:r,...i,children:[n,m.jsx("label",{htmlFor:r,children:s})]})));oS.displayName="FloatingLabel";const nO={_ref:Ir.any,validated:Ir.bool,as:Ir.elementType},Wg=y.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>m.jsx(n,{...r,ref:s,className:G(t,e&&"was-validated")}));Wg.displayName="Form";Wg.propTypes=nO;const Y=Object.assign(Wg,{Group:qg,Control:eO,Floating:eS,Check:ed,Switch:tO,Label:tS,Text:sS,Range:nS,Select:rS,FloatingLabel:oS}),M_=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rO(t,e){const n=M_(t),r=M_(e);return s=>{n&&n(s),r&&r(s)}}function nh(t,e){return y.useMemo(()=>rO(t,e),[t,e])}const aS=y.createContext(null),sO=["as","active","eventKey"];function iO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lS({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const o=y.useContext(Jc),a=y.useContext($g),u=y.useContext(aS);let c=n;const d={role:s};if(a){!s&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(t??null),p=a.getControlledId(t??null);d[eh("event-key")]=t,d.id=f||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=pr(f=>{i||(e==null||e(f),t!=null&&o&&!f.isPropagationStopped()&&o(t,f))}),[d,{isActive:c}]}const uS=y.forwardRef((t,e)=>{let{as:n=FC,active:r,eventKey:s}=t,i=iO(t,sO);const[o,a]=lS(Object.assign({key:Bg(s,i.href),active:r},i));return o[eh("active")]=a.isActive,m.jsx(n,Object.assign({},i,o,{ref:e}))});uS.displayName="NavItem";const oO=["as","onSelect","activeKey","role","onKeyDown"];function aO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const j_=()=>{},F_=eh("event-key"),cS=y.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:o}=t,a=aO(t,oO);const u=WN(),c=y.useRef(!1),d=y.useContext(Jc),f=y.useContext(aS);let p,w;f&&(i=i||"tablist",s=f.activeKey,p=f.getControlledId,w=f.getControllerId);const v=y.useRef(null),S=C=>{const O=v.current;if(!O)return null;const j=ni(O,`[${F_}]:not([aria-disabled=true])`),V=O.querySelector("[aria-selected=true]");if(!V||V!==document.activeElement)return null;const b=j.indexOf(V);if(b===-1)return null;let T=b+C;return T>=j.length&&(T=0),T<0&&(T=j.length-1),j[T]},R=(C,O)=>{C!=null&&(r==null||r(C,O),d==null||d(C,O))},_=C=>{if(o==null||o(C),!f)return;let O;switch(C.key){case"ArrowLeft":case"ArrowUp":O=S(-1);break;case"ArrowRight":case"ArrowDown":O=S(1);break;default:return}O&&(C.preventDefault(),R(O.dataset[QN("EventKey")]||null,C),c.current=!0,u())};y.useEffect(()=>{if(v.current&&c.current){const C=v.current.querySelector(`[${F_}][aria-selected=true]`);C==null||C.focus()}c.current=!1});const E=nh(e,v);return m.jsx(Jc.Provider,{value:R,children:m.jsx($g.Provider,{value:{role:i,activeKey:Bg(s),getControlledId:p||j_,getControllerId:w||j_},children:m.jsx(n,Object.assign({},a,{onKeyDown:_,ref:E,role:i}))})})});cS.displayName="Nav";const lO=Object.assign(cS,{Item:uS});var qu;function U_(t){if((!qu&&qu!==0||t)&&Ko){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),qu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return qu}function uO(){return y.useState(null)}function Nf(t){t===void 0&&(t=Xd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function cO(t){const e=y.useRef(t);return e.current=t,e}function dO(t){const e=cO(t);y.useEffect(()=>()=>e.current(),[])}function hO(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const B_=eh("modal-open");class Kg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return hO(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Tr(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(B_,""),Tr(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(B_),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Of=(t,e)=>Ko?t==null?(e||Xd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function fO(t,e){const n=zg(),[r,s]=y.useState(()=>Of(t,n==null?void 0:n.document));if(!r){const i=Of(t);i&&s(i)}return y.useEffect(()=>{},[e,r]),y.useEffect(()=>{const i=Of(t);i!==r&&s(i)},[t,r]),r}function pO({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=y.useRef(null),o=y.useRef(e),a=pr(n);y.useEffect(()=>{e?o.current=!0:a(i.current)},[e,a]);const u=nh(i,Wo(t)),c=y.cloneElement(t,{ref:u});return e?c:s||!o.current&&r?null:c}const mO=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function gO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yO(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:o,addEndListener:a,children:u}=t,c=gO(t,mO);const d=y.useRef(null),f=nh(d,Wo(u)),p=O=>j=>{O&&d.current&&O(d.current,j)},w=y.useCallback(p(e),[e]),v=y.useCallback(p(n),[n]),S=y.useCallback(p(r),[r]),R=y.useCallback(p(s),[s]),_=y.useCallback(p(i),[i]),E=y.useCallback(p(o),[o]),C=y.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:d},e&&{onEnter:w},n&&{onEntering:v},r&&{onEntered:S},s&&{onExit:R},i&&{onExiting:_},o&&{onExited:E},a&&{addEndListener:C},{children:typeof u=="function"?(O,j)=>u(O,Object.assign({},j,{ref:f})):y.cloneElement(u,{ref:f})})}const wO=["component"];function vO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const _O=y.forwardRef((t,e)=>{let{component:n}=t,r=vO(t,wO);const s=yO(r);return m.jsx(n,Object.assign({ref:e},s))});function EO({in:t,onTransition:e}){const n=y.useRef(null),r=y.useRef(!0),s=pr(e);return L_(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),L_(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function TO({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=y.useState(!e);e&&i&&o(!1);const a=EO({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(d,f=>{throw c.in||o(!0),f})}}),u=nh(a,Wo(t));return i&&!e?null:y.cloneElement(t,{ref:u})}function $_(t,e,n){return t?m.jsx(_O,Object.assign({},n,{component:t})):e?m.jsx(TO,Object.assign({},n,{transition:e})):m.jsx(pO,Object.assign({},n))}const IO=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function CO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Df;function SO(t){return Df||(Df=new Kg({ownerDocument:t==null?void 0:t.document})),Df}function bO(t){const e=zg(),n=t||SO(e),r=y.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:y.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:y.useCallback(s=>{r.current.backdrop=s},[])})}const dS=y.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:a=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:w,runBackdropTransition:v,autoFocus:S=!0,enforceFocus:R=!0,restoreFocus:_=!0,restoreFocusOptions:E,renderDialog:C,renderBackdrop:O=Te=>m.jsx("div",Object.assign({},Te)),manager:j,container:V,onShow:b,onHide:T=()=>{},onExit:A,onExited:P,onExiting:x,onEnter:N,onEntering:k,onEntered:pe}=t,kt=CO(t,IO);const it=zg(),Pt=fO(V),$=bO(j),X=RN(),te=AN(n),[ue,ye]=y.useState(!n),He=y.useRef(null);y.useImperativeHandle(e,()=>$,[$]),Ko&&!te&&n&&(He.current=Nf(it==null?void 0:it.document)),n&&ue&&ye(!1);const fe=pr(()=>{if($.add(),$r.current=Xc(document,"keydown",qs),Br.current=Xc(document,"focus",()=>setTimeout(Nt),!0),b&&b(),S){var Te,zr;const ur=Nf((Te=(zr=$.dialog)==null?void 0:zr.ownerDocument)!=null?Te:it==null?void 0:it.document);$.dialog&&ur&&!V_($.dialog,ur)&&(He.current=ur,$.dialog.focus())}}),ht=pr(()=>{if($.remove(),$r.current==null||$r.current(),Br.current==null||Br.current(),_){var Te;(Te=He.current)==null||Te.focus==null||Te.focus(E),He.current=null}});y.useEffect(()=>{!n||!Pt||fe()},[n,Pt,fe]),y.useEffect(()=>{ue&&ht()},[ue,ht]),dO(()=>{ht()});const Nt=pr(()=>{if(!R||!X()||!$.isTopModal())return;const Te=Nf(it==null?void 0:it.document);$.dialog&&Te&&!V_($.dialog,Te)&&$.dialog.focus()}),en=pr(Te=>{Te.target===Te.currentTarget&&(c==null||c(Te),a===!0&&T())}),qs=pr(Te=>{u&&mN(Te)&&$.isTopModal()&&(d==null||d(Te),Te.defaultPrevented||T())}),Br=y.useRef(),$r=y.useRef(),ji=(...Te)=>{ye(!0),P==null||P(...Te)};if(!Pt)return null;const or=Object.assign({role:r,ref:$.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},kt,{style:i,className:s,tabIndex:-1});let ar=C?C(or):m.jsx("div",Object.assign({},or,{children:y.cloneElement(o,{role:"document"})}));ar=$_(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:x,onExited:ji,onEnter:N,onEntering:k,onEntered:pe,children:ar});let lr=null;return a&&(lr=O({ref:$.setBackdropRef,onClick:en}),lr=$_(w,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:lr})),m.jsx(m.Fragment,{children:uo.createPortal(m.jsxs(m.Fragment,{children:[lr,ar]}),Pt)})});dS.displayName="Modal";const hS=Object.assign(dS,{Manager:Kg});function RO(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function AO(t,e){t.classList?t.classList.add(e):RO(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function z_(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xO(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=z_(t.className,e):t.setAttribute("class",z_(t.className&&t.className.baseVal||"",e))}const Wi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class fS extends Kg{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Tr(n,{[e]:`${parseFloat(Tr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Tr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(AO(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ni(n,Wi.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),ni(n,Wi.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),ni(n,Wi.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();xO(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ni(n,Wi.FIXED_CONTENT).forEach(i=>this.restore(r,i)),ni(n,Wi.STICKY_CONTENT).forEach(i=>this.restore(s,i)),ni(n,Wi.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let Lf;function pS(t){return Lf||(Lf=new fS(t)),Lf}const mS=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"modal-body"),m.jsx(n,{ref:s,className:G(t,e),...r})));mS.displayName="ModalBody";const Gg=y.createContext({onHide(){}}),Qg=y.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:o,scrollable:a,...u},c)=>{t=J(t,"modal");const d=`${t}-dialog`,f=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return m.jsx("div",{...u,ref:c,className:G(d,e,s&&`${t}-${s}`,r&&`${d}-centered`,a&&`${d}-scrollable`,i&&f),children:m.jsx("div",{className:G(`${t}-content`,n),children:o})})});Qg.displayName="ModalDialog";const gS=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"modal-footer"),m.jsx(n,{ref:s,className:G(t,e),...r})));gS.displayName="ModalFooter";const Yg=y.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const a=y.useContext(Gg),u=Ti(()=>{a==null||a.onHide(),r==null||r()});return m.jsxs("div",{ref:o,...i,children:[s,n&&m.jsx(Zd,{"aria-label":t,variant:e,onClick:u})]})});Yg.displayName="AbstractModalHeader";const yS=y.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=J(t,"modal-header"),m.jsx(Yg,{ref:i,...s,className:G(e,t),closeLabel:n,closeButton:r})));yS.displayName="ModalHeader";const kO=Kl("h4"),wS=y.forwardRef(({className:t,bsPrefix:e,as:n=kO,...r},s)=>(e=J(e,"modal-title"),m.jsx(n,{ref:s,className:G(t,e),...r})));wS.displayName="ModalTitle";function PO(t){return m.jsx(xo,{...t,timeout:null})}function NO(t){return m.jsx(xo,{...t,timeout:null})}const vS=y.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:o=Qg,"data-bs-theme":a,"aria-labelledby":u,"aria-describedby":c,"aria-label":d,show:f=!1,animation:p=!0,backdrop:w=!0,keyboard:v=!0,onEscapeKeyDown:S,onShow:R,onHide:_,container:E,autoFocus:C=!0,enforceFocus:O=!0,restoreFocus:j=!0,restoreFocusOptions:V,onEntered:b,onExit:T,onExiting:A,onEnter:P,onEntering:x,onExited:N,backdropClassName:k,manager:pe,...kt},it)=>{const[Pt,$]=y.useState({}),[X,te]=y.useState(!1),ue=y.useRef(!1),ye=y.useRef(!1),He=y.useRef(null),[fe,ht]=uO(),Nt=LC(it,ht),en=Ti(_),qs=tN();t=J(t,"modal");const Br=y.useMemo(()=>({onHide:en}),[en]);function $r(){return pe||pS({isRTL:qs})}function ji(de){if(!Ko)return;const cr=$r().getScrollbarWidth()>0,Ui=de.scrollHeight>Xd(de).documentElement.clientHeight;$({paddingRight:cr&&!Ui?U_():void 0,paddingLeft:!cr&&Ui?U_():void 0})}const or=Ti(()=>{fe&&ji(fe.dialog)});$N(()=>{em(window,"resize",or),He.current==null||He.current()});const ar=()=>{ue.current=!0},lr=de=>{ue.current&&fe&&de.target===fe.dialog&&(ye.current=!0),ue.current=!1},Te=()=>{te(!0),He.current=OC(fe.dialog,()=>{te(!1)})},zr=de=>{de.target===de.currentTarget&&Te()},ur=de=>{if(w==="static"){zr(de);return}if(ye.current||de.target!==de.currentTarget){ye.current=!1;return}_==null||_()},hu=de=>{v?S==null||S(de):(de.preventDefault(),w==="static"&&Te())},ot=(de,cr)=>{de&&ji(de),P==null||P(de,cr)},ft=de=>{He.current==null||He.current(),T==null||T(de)},Fi=(de,cr)=>{x==null||x(de,cr),NC(window,"resize",or)},jh=de=>{de&&(de.style.display=""),N==null||N(de),em(window,"resize",or)},fu=y.useCallback(de=>m.jsx("div",{...de,className:G(`${t}-backdrop`,k,!p&&"show")}),[p,k,t]),pu={...n,...Pt};pu.display="block";const Ws=de=>m.jsx("div",{role:"dialog",...de,style:pu,className:G(e,t,X&&`${t}-static`,!p&&"show"),onClick:w?ur:void 0,onMouseUp:lr,"data-bs-theme":a,"aria-label":d,"aria-labelledby":u,"aria-describedby":c,children:m.jsx(o,{...kt,onMouseDown:ar,className:r,contentClassName:s,children:i})});return m.jsx(Gg.Provider,{value:Br,children:m.jsx(hS,{show:f,ref:Nt,backdrop:w,container:E,keyboard:!0,autoFocus:C,enforceFocus:O,restoreFocus:j,restoreFocusOptions:V,onEscapeKeyDown:hu,onShow:R,onHide:_,onEnter:ot,onEntering:Fi,onEntered:b,onExit:ft,onExiting:A,onExited:jh,manager:$r(),transition:p?PO:void 0,backdropTransition:p?NO:void 0,renderBackdrop:fu,renderDialog:Ws})})});vS.displayName="Modal";const Na=Object.assign(vS,{Body:mS,Header:yS,Title:wS,Footer:gS,Dialog:Qg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),_S=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"nav-item"),m.jsx(n,{ref:s,className:G(t,e),...r})));_S.displayName="NavItem";const ES=y.forwardRef(({bsPrefix:t,className:e,as:n=Mg,active:r,eventKey:s,disabled:i=!1,...o},a)=>{t=J(t,"nav-link");const[u,c]=lS({key:Bg(s,o.href),active:r,disabled:i,...o});return m.jsx(n,{...o,...u,ref:a,disabled:i,className:G(e,t,i&&"disabled",c.isActive&&"active")})});ES.displayName="NavLink";const TS=y.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:o=!1,navbar:a,navbarScroll:u,className:c,activeKey:d,...f}=Dg(t,{activeKey:"onSelect"}),p=J(r,"nav");let w,v,S=!1;const R=y.useContext(Go),_=y.useContext(Ug);return R?(w=R.bsPrefix,S=a??!0):_&&({cardHeaderBsPrefix:v}=_),m.jsx(lO,{as:n,ref:e,activeKey:d,className:G(c,{[p]:!S,[`${w}-nav`]:S,[`${w}-nav-scroll`]:S&&u,[`${v}-${s}`]:!!v,[`${p}-${s}`]:!!s,[`${p}-fill`]:i,[`${p}-justified`]:o}),...f})});TS.displayName="Nav";const Js=Object.assign(TS,{Item:_S,Link:ES}),IS=y.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=J(t,"navbar-brand");const i=n||(r.href?"a":"span");return m.jsx(i,{...r,ref:s,className:G(e,t)})});IS.displayName="NavbarBrand";const CS=y.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=J(e,"navbar-collapse");const s=y.useContext(Go);return m.jsx(VC,{in:!!(s&&s.expanded),...n,children:m.jsx("div",{ref:r,className:e,children:t})})});CS.displayName="NavbarCollapse";const SS=y.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...o},a)=>{t=J(t,"navbar-toggler");const{onToggle:u,expanded:c}=y.useContext(Go)||{},d=Ti(f=>{i&&i(f),u&&u()});return s==="button"&&(o.type="button"),m.jsx(s,{...o,ref:a,onClick:d,"aria-label":r,className:G(e,t,!c&&"collapsed"),children:n||m.jsx("span",{className:`${t}-icon`})})});SS.displayName="NavbarToggle";const tm=new WeakMap,H_=(t,e)=>{if(!t||!e)return;const n=tm.get(e)||new Map;tm.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function OO(t,e=typeof window>"u"?void 0:window){const n=H_(t,e),[r,s]=y.useState(()=>n?n.matches:!1);return JN(()=>{let i=H_(t,e);if(!i)return s(!1);let o=tm.get(e);const a=()=>{s(i.matches)};return i.refCount++,i.addListener(a),a(),()=>{i.removeListener(a),i.refCount--,i.refCount<=0&&(o==null||o.delete(i.media)),i=void 0}},[t]),r}function DO(t){const e=Object.keys(t);function n(a,u){return a===u?u:a?`${a} and ${u}`:u}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function s(a){const u=r(a);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function i(a){let u=t[a];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(a,u,c){let d;typeof a=="object"?(d=a,c=u,u=!0):(u=u||!0,d={[a]:u});let f=y.useMemo(()=>Object.entries(d).reduce((p,[w,v])=>((v==="up"||v===!0)&&(p=n(p,i(w))),(v==="down"||v===!0)&&(p=n(p,s(w))),p),""),[JSON.stringify(d)]);return OO(f,c)}return o}const LO=DO({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),bS=y.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=J(e,"offcanvas-body"),m.jsx(n,{ref:s,className:G(t,e),...r})));bS.displayName="OffcanvasBody";const VO={[Nn]:"show",[fr]:"show"},RS=y.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:o=!1,...a},u)=>(t=J(t,"offcanvas"),m.jsx(Jd,{ref:u,addEndListener:Lg,in:r,mountOnEnter:s,unmountOnExit:i,appear:o,...a,childRef:Wo(n),children:(c,d)=>y.cloneElement(n,{...d,className:G(e,n.props.className,(c===Nn||c===Sl)&&`${t}-toggling`,VO[c])})})));RS.displayName="OffcanvasToggling";const AS=y.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=J(t,"offcanvas-header"),m.jsx(Yg,{ref:i,...s,className:G(e,t),closeLabel:n,closeButton:r})));AS.displayName="OffcanvasHeader";const MO=Kl("h5"),xS=y.forwardRef(({className:t,bsPrefix:e,as:n=MO,...r},s)=>(e=J(e,"offcanvas-title"),m.jsx(n,{ref:s,className:G(t,e),...r})));xS.displayName="OffcanvasTitle";function jO(t){return m.jsx(RS,{...t})}function FO(t){return m.jsx(xo,{...t})}const kS=y.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:o=!1,backdrop:a=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:w,autoFocus:v=!0,enforceFocus:S=!0,restoreFocus:R=!0,restoreFocusOptions:_,onEntered:E,onExit:C,onExiting:O,onEnter:j,onEntering:V,onExited:b,backdropClassName:T,manager:A,renderStaticNode:P=!1,...x},N)=>{const k=y.useRef();t=J(t,"offcanvas");const[pe,kt]=y.useState(!1),it=Ti(p),Pt=LO(i||"xs","up");y.useEffect(()=>{kt(i?o&&!Pt:o)},[o,i,Pt]);const $=y.useMemo(()=>({onHide:it}),[it]);function X(){return A||(c?(k.current||(k.current=new fS({handleContainerOverflow:!1})),k.current):pS())}const te=(fe,...ht)=>{fe&&(fe.style.visibility="visible"),j==null||j(fe,...ht)},ue=(fe,...ht)=>{fe&&(fe.style.visibility=""),b==null||b(...ht)},ye=y.useCallback(fe=>m.jsx("div",{...fe,className:G(`${t}-backdrop`,T)}),[T,t]),He=fe=>m.jsx("div",{...fe,...x,className:G(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return m.jsxs(m.Fragment,{children:[!pe&&(i||P)&&He({}),m.jsx(Gg.Provider,{value:$,children:m.jsx(hS,{show:pe,ref:N,backdrop:a,container:w,keyboard:u,autoFocus:v,enforceFocus:S&&!c,restoreFocus:R,restoreFocusOptions:_,onEscapeKeyDown:d,onShow:f,onHide:it,onEnter:te,onEntering:V,onEntered:E,onExit:C,onExiting:O,onExited:ue,manager:X(),transition:jO,backdropTransition:FO,renderBackdrop:ye,renderDialog:He})})]})});kS.displayName="Offcanvas";const UO=Object.assign(kS,{Body:bS,Header:AS,Title:xS}),PS=y.forwardRef(({onHide:t,...e},n)=>{const r=y.useContext(Go),s=Ti(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return m.jsx(UO,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});PS.displayName="NavbarOffcanvas";const NS=y.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},s)=>(e=J(e,"navbar-text"),m.jsx(n,{ref:s,className:G(t,e),...r})));NS.displayName="NavbarText";const OS=y.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:o,sticky:a,className:u,as:c="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:w=!1,...v}=Dg(t,{expanded:"onToggle"}),S=J(n,"navbar"),R=y.useCallback((...C)=>{p==null||p(...C),w&&d&&(f==null||f(!1))},[p,w,d,f]);v.role===void 0&&c!=="nav"&&(v.role="navigation");let _=`${S}-expand`;typeof r=="string"&&(_=`${_}-${r}`);const E=y.useMemo(()=>({onToggle:()=>f==null?void 0:f(!d),bsPrefix:S,expanded:!!d,expand:r}),[S,d,r,f]);return m.jsx(Go.Provider,{value:E,children:m.jsx(Jc.Provider,{value:R,children:m.jsx(c,{ref:e,...v,className:G(u,S,r&&_,s&&`${S}-${s}`,i&&`bg-${i}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});OS.displayName="Navbar";const Wu=Object.assign(OS,{Brand:IS,Collapse:CS,Offcanvas:PS,Text:NS,Toggle:SS}),un=y.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=J(t,"row"),o=bC(),a=RC(),u=`${i}-cols`,c=[];return o.forEach(d=>{const f=r[d];delete r[d];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const w=d!==a?`-${d}`:"";p!=null&&c.push(`${u}${w}-${p}`)}),m.jsx(n,{ref:s,...r,className:G(e,i,...c)})});un.displayName="Row";const Qo=y.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...o},a)=>{t=J(t,"spinner");const u=`${t}-${n}`;return m.jsx(s,{ref:a,...o,className:G(i,u,r&&`${u}-${r}`,e&&`text-${e}`)})});Qo.displayName="Spinner";const Xg=y.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:o,variant:a,responsive:u,...c},d)=>{const f=J(t,"table"),p=G(e,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,s&&`${f}-borderless`,i&&`${f}-hover`),w=m.jsx("table",{...c,className:p,ref:d});if(u){let v=`${f}-responsive`;return typeof u=="string"&&(v=`${v}-${u}`),m.jsx("div",{className:v,children:w})}return w});Xg.displayName="Table";const BO=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$O=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(p=64)),r.push(n[d],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$O(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new zO;const p=i<<2|a>>4;if(r.push(p),c!==64){const w=a<<4&240|c>>2;if(r.push(w),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HO=function(t){const e=DS(t);return LS.encodeByteArray(e,!0)},td=function(t){return HO(t).replace(/\./g,"")},VS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=()=>qO().__FIREBASE_DEFAULTS__,KO=()=>{if(typeof process>"u"||typeof q_>"u")return;const t=q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return BO()||WO()||KO()||GO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MS=t=>{var e,n;return(n=(e=rh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jS=t=>{const e=MS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FS=()=>{var t;return(t=rh())==null?void 0:t.config},US=t=>{var e;return(e=rh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[td(JSON.stringify(n)),td(JSON.stringify(o)),""].join(".")}const el={};function YO(){const t={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?t.emulator.push(e):t.prod.push(e);return t}function XO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let W_=!1;function Zg(t,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||el[t]===e||el[t]||W_)return;el[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=YO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{W_=!0,o()},p}function d(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=XO(r),w=n("text"),v=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;a(C),d(R,S);const O=c();u(E,_),C.append(E,v,R,O),document.body.appendChild(C)}i?(v.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function ZO(){var e;const t=(e=rh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rD(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sD(){return!ZO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iD(){try{return typeof indexedDB=="object"}catch{return!1}}function oD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="FirebaseError";class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aD,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?lD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ir(s,a,r)}}function lD(t,e){return t.replace(uD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uD=/\{\$([^}]+)}/g;function cD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ii(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(K_(i)&&K_(o)){if(!Ii(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function K_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dD(t,e){const n=new hD(t,e);return n.subscribe.bind(n)}class hD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vf),s.error===void 0&&(s.error=Vf),s.complete===void 0&&(s.complete=Vf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(t){return t===ri?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const wD={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},vD=oe.INFO,_D={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},ED=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_D[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ey{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=ED,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const TD=(t,e)=>e.some(n=>t instanceof n);let G_,Q_;function ID(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CD(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,nm=new WeakMap,zS=new WeakMap,Mf=new WeakMap,ty=new WeakMap;function SD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),ty.set(e,t),e}function bD(t){if(nm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});nm.set(t,e)}let rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RD(t){rm=t(rm)}function AD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jf(this),e,...n);return zS.set(r,e.sort?e.sort():[e]),Es(r)}:CD().includes(t)?function(...e){return t.apply(jf(this),e),Es($S.get(this))}:function(...e){return Es(t.apply(jf(this),e))}}function xD(t){return typeof t=="function"?AD(t):(t instanceof IDBTransaction&&bD(t),TD(t,ID())?new Proxy(t,rm):t)}function Es(t){if(t instanceof IDBRequest)return SD(t);if(Mf.has(t))return Mf.get(t);const e=xD(t);return e!==t&&(Mf.set(t,e),ty.set(e,t)),e}const jf=t=>ty.get(t);function kD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Es(o.result),u.oldVersion,u.newVersion,Es(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const PD=["get","getKey","getAll","getAllKeys","count"],ND=["put","add","delete","clear"],Ff=new Map;function Y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ND.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PD.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Ff.set(e,i),i}RD(t=>({...t,get:(e,n,r)=>Y_(e,n)||t.get(e,n,r),has:(e,n)=>!!Y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",X_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new ey("@firebase/app"),LD="@firebase/app-compat",VD="@firebase/analytics-compat",MD="@firebase/analytics",jD="@firebase/app-check-compat",FD="@firebase/app-check",UD="@firebase/auth",BD="@firebase/auth-compat",$D="@firebase/database",zD="@firebase/data-connect",HD="@firebase/database-compat",qD="@firebase/functions",WD="@firebase/functions-compat",KD="@firebase/installations",GD="@firebase/installations-compat",QD="@firebase/messaging",YD="@firebase/messaging-compat",XD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",eL="@firebase/remote-config-compat",tL="@firebase/storage",nL="@firebase/storage-compat",rL="@firebase/firestore",sL="@firebase/ai",iL="@firebase/firestore-compat",oL="firebase",aL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",lL={[sm]:"fire-core",[LD]:"fire-core-compat",[MD]:"fire-analytics",[VD]:"fire-analytics-compat",[FD]:"fire-app-check",[jD]:"fire-app-check-compat",[UD]:"fire-auth",[BD]:"fire-auth-compat",[$D]:"fire-rtdb",[zD]:"fire-data-connect",[HD]:"fire-rtdb-compat",[qD]:"fire-fn",[WD]:"fire-fn-compat",[KD]:"fire-iid",[GD]:"fire-iid-compat",[QD]:"fire-fcm",[YD]:"fire-fcm-compat",[XD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[eL]:"fire-rc-compat",[tL]:"fire-gcs",[nL]:"fire-gcs-compat",[rL]:"fire-fst",[iL]:"fire-fst-compat",[sL]:"fire-vertex","fire-js":"fire-js",[oL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,uL=new Map,om=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(om.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of nd.values())J_(n,t);for(const n of uL.values())J_(n,t);return!0}function sh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Gl("app","Firebase",cL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=aL;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:im,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=FS()),!n)throw Ts.create("no-options");const i=nd.get(s);if(i){if(Ii(n,i.options)&&Ii(r,i.config))return i;throw Ts.create("duplicate-app",{appName:s})}const o=new yD(s);for(const u of om.values())o.addComponent(u);const a=new dL(n,r,o);return nd.set(s,a),a}function ny(t=im){const e=nd.get(t);if(!e&&t===im&&FS())return HS();if(!e)throw Ts.create("no-app",{appName:t});return e}function Xn(t,e,n){let r=lL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(o.join(" "));return}Ci(new As(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firebase-heartbeat-database",fL=1,Rl="firebase-heartbeat-store";let Uf=null;function qS(){return Uf||(Uf=kD(hL,fL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),Uf}async function pL(t){try{const n=(await qS()).transaction(Rl),r=await n.objectStore(Rl).get(WS(t));return await n.done,r}catch(e){if(e instanceof ir)Or.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function Z_(t,e){try{const r=(await qS()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,WS(t)),await r.done}catch(n){if(n instanceof ir)Or.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function WS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=1024,gL=30;class yL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>gL){const o=_L(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:s}=wL(this._heartbeatsCache.heartbeats),i=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Or.warn(n),""}}}function eE(){return new Date().toISOString().substring(0,10)}function wL(t,e=mL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iD()?oD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tE(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function _L(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){Ci(new As("platform-logger",e=>new OD(e),"PRIVATE")),Ci(new As("heartbeat",e=>new yL(e),"PRIVATE")),Xn(sm,X_,t),Xn(sm,X_,"esm2020"),Xn("fire-js","")}EL("");function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TL=KS,GS=new Gl("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new ey("@firebase/auth");function IL(t,...e){rd.logLevel<=oe.WARN&&rd.warn(`Auth (${Oi}): ${t}`,...e)}function gc(t,...e){rd.logLevel<=oe.ERROR&&rd.error(`Auth (${Oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw sy(t,...e)}function Vn(t,...e){return sy(t,...e)}function ry(t,e,n){const r={...TL(),[e]:n};return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function Cr(t){return ry(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sn(t,"argument-error"),ry(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GS.create(t,...e)}function Z(t,e,...n){if(!t)throw sy(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gc(e),new Error(e)}function Dr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function SL(){return nE()==="http:"||nE()==="https:"}function nE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SL()||tD()||"connection"in navigator)?navigator.onLine:!0}function RL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=JO()||nD()}get(){return bL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kL=new Yl(3e4,6e4);function Us(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ur(t,e,n,r,s={}){return YS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ql({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return eD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(c.credentials="include"),QS.fetch()(await XS(t,t.config.apiHost,n,a),c)})}async function YS(t,e,n){t._canInitEmulator=!1;const r={...AL,...e};try{const s=new NL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ku(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ku(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ry(t,d,c);Sn(t,d)}}catch(s){if(s instanceof ir)throw s;Sn(t,"network-request-failed",{message:String(s)})}}async function Xl(t,e,n,r,s={}){const i=await Ur(t,e,n,r,s);return"mfaPendingCredential"in i&&Sn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function XS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?iy(t.config,s):`${t.config.apiScheme}://${s}`;return xL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function PL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),kL.get())})}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vn(t,e,r);return s.customData._tokenResponse=n,s}function rE(t){return t!==void 0&&t.enterprise!==void 0}class OL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DL(t,e){return Ur(t,"GET","/v2/recaptchaConfig",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){return Ur(t,"POST","/v1/accounts:delete",e)}async function sd(t,e){return Ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VL(t,e=!1){const n=ke(t),r=await n.getIdToken(e),s=oy(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:tl(Bf(s.auth_time)),issuedAtTime:tl(Bf(s.iat)),expirationTime:tl(Bf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bf(t){return Number(t)*1e3}function oy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const s=VS(n);return s?JSON.parse(s):(gc("Failed to decode base64 JWT payload"),null)}catch(s){return gc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sE(t){const e=oy(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ir&&ML(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ML({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ko(t,sd(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?JS(s.providerUserInfo):[],o=UL(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new lm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function FL(t){const e=ke(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){const n=await YS(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await XS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(u.credentials="include"),QS.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $L(t,e){return Ur(t,"POST","/v2/accounts:revokeToken",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new yo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new jL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VL(this,e)}reload(){return FL(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await ko(this,LL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:w,providerData:v,stsTokenManager:S}=n;Z(f&&S,e,"internal-error");const R=yo.fromJSON(this.name,S);Z(typeof f=="string",e,"internal-error"),Xr(r,e.name),Xr(s,e.name),Z(typeof p=="boolean",e,"internal-error"),Z(typeof w=="boolean",e,"internal-error"),Xr(i,e.name),Xr(o,e.name),Xr(a,e.name),Xr(u,e.name),Xr(c,e.name),Xr(d,e.name);const _=new On({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:R,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(_.providerData=v.map(E=>({...E}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new yo;s.updateFromServerResponse(n);const i=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await id(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new yo;a.updateFromIdToken(r);const u=new On({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new lm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function vr(t){Dr(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const oE=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yc(this.userKey,s.apiKey,i),this.fullPersistenceKey=yc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(vr(oE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||vr(oE);const o=yc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await sd(e,{idToken:d}).catch(()=>{});if(!p)break;f=await On._fromGetAccountInfoResponse(e,p,d)}else f=On._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new wo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(ob(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eb(t=At()){return/firefox\//i.test(t)}function tb(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(t=At()){return/crios\//i.test(t)}function rb(t=At()){return/iemobile/i.test(t)}function sb(t=At()){return/android/i.test(t)}function ib(t=At()){return/blackberry/i.test(t)}function ob(t=At()){return/webos/i.test(t)}function ay(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zL(t=At()){var e;return ay(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HL(){return rD()&&document.documentMode===10}function ab(t=At()){return ay(t)||sb(t)||ob(t)||ib(t)||/windows phone/i.test(t)||rb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e=[]){let n;switch(t){case"Browser":n=aE(At());break;case"Worker":n=`${aE(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e={}){return Ur(t,"GET","/v2/passwordPolicy",Us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=6;class GL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new qL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(Cr(this));const n=e?ke(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WL(this),n=new GL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $L(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bs(t){return ke(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dD(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(t){ih=t}function ub(t){return ih.loadJS(t)}function XL(){return ih.recaptchaEnterpriseScript}function JL(){return ih.gapiScript}function ZL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eV{constructor(){this.enterprise=new tV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nV="recaptcha-enterprise",cb="NO_RECAPTCHA";class rV{constructor(e){this.type=nV,this.auth=Bs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{DL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new OL(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;rE(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(cb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eV().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&rE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=XL();u.length!==0&&(u+=a),ub(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function uE(t,e,n,r=!1,s=!1){const i=new rV(t);let o;if(s)o=cb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function um(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await uE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e){const n=sh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ii(i,e??{}))return s;Sn(s,"already-initialized")}return n.initialize({options:e})}function iV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oV(t,e,n){const r=Bs(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=db(e),{host:o,port:a}=aV(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Ii(c,r.config.emulator)&&Ii(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fs(o)?(Jg(`${i}//${o}${u}`),Zg("Auth",!0)):lV()}function db(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aV(t){const e=db(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:cE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:cE(o)}}}function cE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function uV(t,e){return Ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){return Xl(t,"POST","/v1/accounts:signInWithPassword",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}async function hV(t,e){return Xl(t,"POST","/v1/accounts:signInWithEmailLink",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends ly{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Al(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Al(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,n,"signInWithPassword",cV);case"emailLink":return dV(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(e,r,"signUpPassword",uV);case"emailLink":return hV(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e){return Xl(t,"POST","/v1/accounts:signInWithIdp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="http://localhost";class Si extends ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Si(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:fV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mV(t){const e=Fa(Ua(t)).link,n=e?Fa(Ua(e)).deep_link_id:null,r=Fa(Ua(t)).deep_link_id;return(r?Fa(Ua(r)).link:null)||r||n||e||t}class uy{constructor(e){const n=Fa(Ua(e)),r=n.apiKey??null,s=n.oobCode??null,i=pV(n.mode??null);Z(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mV(e);try{return new uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uy.parseLink(n);return Z(r,"argument-error"),Al._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends cy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Jl{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Si._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Jl{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Jl{constructor(){super("twitter.com")}static credential(e,n){return Si._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Xl(t,"POST","/v1/accounts:signUp",Us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await On._fromIdTokenResponse(e,r,s),o=dE(r);return new bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dE(r);return new bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends ir{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new od(e,n,r,s)}}function hb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,i,e,r):i})}async function yV(t,e,n=!1){const r=await ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(Cr(r));const s="reauthenticate";try{const i=await ko(t,hb(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=oy(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t,e,n=!1){if(qt(t.app))return Promise.reject(Cr(t));const r="signIn",s=await hb(t,r,e),i=await bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vV(t,e){return fb(Bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(t){const e=Bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _V(t,e,n){if(qt(t.app))return Promise.reject(Cr(t));const r=Bs(t),o=await um(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&pb(t),u}),a=await bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EV(t,e,n){return qt(t.app)?Promise.reject(Cr(t)):vV(ke(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return Ur(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ko(r,TV(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function CV(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function SV(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function mb(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function bV(t){return ke(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=1e3,AV=10;class yb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);HL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yb.type="LOCAL";const xV=yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wb.type="SESSION";const vb=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await kV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=dy("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function NV(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function OV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LV(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",VV=1,ld="firebaseLocalStorage",Tb="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function MV(){const t=indexedDB.deleteDatabase(Eb);return new Zl(t).toPromise()}function cm(){const t=indexedDB.open(Eb,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:Tb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await MV(),e(await cm()))})})}async function hE(t,e,n){const r=ah(t,!0).put({[Tb]:e,value:n});return new Zl(r).toPromise()}async function jV(t,e){const n=ah(t,!1).get(e),r=await new Zl(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=ah(t,!0).delete(e);return new Zl(n).toPromise()}const FV=800,UV=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await hE(e,ad,"1"),await fE(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ah(s,!1).getAll();return new Zl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const BV=Ib;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){return e?vr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $V(t){return fb(t.auth,new hy(t),t.bypassAuthState)}function zV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),wV(n,new hy(t),t.bypassAuthState)}async function HV(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),yV(n,new hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $V;case"linkViaPopup":case"linkViaRedirect":return HV;case"reauthViaPopup":case"reauthViaRedirect":return zV;default:Sn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Yl(2e3,1e4);async function WV(t,e,n){if(qt(t.app))return Promise.reject(Vn(t,"operation-not-supported-in-this-environment"));const r=Bs(t);CL(t,e,cy);const s=Cb(r,n);return new ai(r,"signInViaPopup",e,s).executeNotNull()}class ai extends Sb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qV.get())};e()}}ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="pendingRedirect",wc=new Map;class GV extends Sb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await QV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QV(t,e){const n=JV(e),r=XV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YV(t,e){wc.set(t._key(),e)}function XV(t){return vr(t._redirectPersistence)}function JV(t){return yc(KV,t.config.apiKey,t.name)}async function ZV(t,e,n=!1){if(qt(t.app))return Promise.reject(Cr(t));const r=Bs(t),s=Cb(r,e),o=await new GV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=10*60*1e3;class tM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bb(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eM&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e={}){return Ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iM=/^https?/;async function oM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rM(t);for(const n of e)try{if(aM(n))return}catch{}Sn(t,"unauthorized-domain")}function aM(t){const e=am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iM.test(n))return!1;if(sM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Yl(3e4,6e4);function mE(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uM(t){return new Promise((e,n)=>{var s,i,o;function r(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Vn(t,"network-request-failed"))},timeout:lM.get()})}if((i=(s=Jn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Jn().gapi)!=null&&o.load)r();else{const a=ZL("iframefcb");return Jn()[a]=()=>{gapi.load?r():n(Vn(t,"network-request-failed"))},ub(`${JL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw vc=null,e})}let vc=null;function cM(t){return vc=vc||uM(t),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Yl(5e3,15e3),hM="__/auth/iframe",fM="emulator/auth/iframe",pM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gM(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iy(e,fM):`https://${t.config.authDomain}/${hM}`,r={apiKey:e.apiKey,appName:t.name,v:Oi},s=mM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ql(r).slice(1)}`}async function yM(t){const e=await cM(t),n=Jn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:gM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Jn().setTimeout(()=>{i(o)},dM.get());function u(){Jn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vM=500,_M=600,EM="_blank",TM="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IM(t,e,n,r=vM,s=_M){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...wM,width:r.toString(),height:s.toString(),top:i,left:o},c=At().toLowerCase();n&&(a=nb(c)?EM:n),eb(c)&&(e=e||TM,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[w,v])=>`${p}${w}=${v},`,"");if(zL(c)&&a!=="_self")return CM(e||"",a),new gE(null);const f=window.open(e||"",a,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new gE(f)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__/auth/handler",bM="emulator/auth/handler",RM=encodeURIComponent("fac");async function yE(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oi,eventId:s};if(e instanceof cy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Jl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${RM}=${encodeURIComponent(u)}`:"";return`${AM(t)}?${Ql(a).slice(1)}${c}`}function AM({config:t}){return t.emulator?iy(t,bM):`https://${t.authDomain}/${SM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class xM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=ZV,this._overrideRedirectResult=YV}async _openPopup(e,n,r,s){var o;Dr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await yE(e,n,r,am(),s);return IM(e,i,dy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yE(e,n,r,am(),s);return NV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Dr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yM(e),r=new tM(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($f,{type:$f},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[$f];i!==void 0&&n(!!i),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||tb()||ay()}}const kM=xM;var wE="@firebase/auth",vE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(t){Ci(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(t)},c=new QL(r,s,i,u);return iV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new As("auth-internal",e=>{const n=Bs(e.getProvider("auth").getImmediate());return(r=>new PM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(wE,vE,NM(t)),Xn(wE,vE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=5*60,LM=US("authIdTokenMaxAge")||DM;let _E=null;const VM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LM)return;const s=n==null?void 0:n.token;_E!==s&&(_E=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lh(t=ny()){const e=sh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sV(t,{popupRedirectResolver:kM,persistence:[BV,xV,vb]}),r=US("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=VM(i.toString());SV(n,o,()=>o(n.currentUser)),CV(n,a=>o(a))}}const s=MS("auth");return s&&oV(n,`http://${s}`),n}function MM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",MM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OM("Browser");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,Rb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function A(){}A.prototype=T.prototype,b.F=T.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(P,x,N){for(var k=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)k[pe-2]=arguments[pe];return T.prototype[x].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,T,A){A||(A=0);const P=Array(16);if(typeof T=="string")for(var x=0;x<16;++x)P[x]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(x=0;x<16;++x)P[x]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=b.g[0],A=b.g[1],x=b.g[2];let N=b.g[3],k;k=T+(N^A&(x^N))+P[0]+3614090360&4294967295,T=A+(k<<7&4294967295|k>>>25),k=N+(x^T&(A^x))+P[1]+3905402710&4294967295,N=T+(k<<12&4294967295|k>>>20),k=x+(A^N&(T^A))+P[2]+606105819&4294967295,x=N+(k<<17&4294967295|k>>>15),k=A+(T^x&(N^T))+P[3]+3250441966&4294967295,A=x+(k<<22&4294967295|k>>>10),k=T+(N^A&(x^N))+P[4]+4118548399&4294967295,T=A+(k<<7&4294967295|k>>>25),k=N+(x^T&(A^x))+P[5]+1200080426&4294967295,N=T+(k<<12&4294967295|k>>>20),k=x+(A^N&(T^A))+P[6]+2821735955&4294967295,x=N+(k<<17&4294967295|k>>>15),k=A+(T^x&(N^T))+P[7]+4249261313&4294967295,A=x+(k<<22&4294967295|k>>>10),k=T+(N^A&(x^N))+P[8]+1770035416&4294967295,T=A+(k<<7&4294967295|k>>>25),k=N+(x^T&(A^x))+P[9]+2336552879&4294967295,N=T+(k<<12&4294967295|k>>>20),k=x+(A^N&(T^A))+P[10]+4294925233&4294967295,x=N+(k<<17&4294967295|k>>>15),k=A+(T^x&(N^T))+P[11]+2304563134&4294967295,A=x+(k<<22&4294967295|k>>>10),k=T+(N^A&(x^N))+P[12]+1804603682&4294967295,T=A+(k<<7&4294967295|k>>>25),k=N+(x^T&(A^x))+P[13]+4254626195&4294967295,N=T+(k<<12&4294967295|k>>>20),k=x+(A^N&(T^A))+P[14]+2792965006&4294967295,x=N+(k<<17&4294967295|k>>>15),k=A+(T^x&(N^T))+P[15]+1236535329&4294967295,A=x+(k<<22&4294967295|k>>>10),k=T+(x^N&(A^x))+P[1]+4129170786&4294967295,T=A+(k<<5&4294967295|k>>>27),k=N+(A^x&(T^A))+P[6]+3225465664&4294967295,N=T+(k<<9&4294967295|k>>>23),k=x+(T^A&(N^T))+P[11]+643717713&4294967295,x=N+(k<<14&4294967295|k>>>18),k=A+(N^T&(x^N))+P[0]+3921069994&4294967295,A=x+(k<<20&4294967295|k>>>12),k=T+(x^N&(A^x))+P[5]+3593408605&4294967295,T=A+(k<<5&4294967295|k>>>27),k=N+(A^x&(T^A))+P[10]+38016083&4294967295,N=T+(k<<9&4294967295|k>>>23),k=x+(T^A&(N^T))+P[15]+3634488961&4294967295,x=N+(k<<14&4294967295|k>>>18),k=A+(N^T&(x^N))+P[4]+3889429448&4294967295,A=x+(k<<20&4294967295|k>>>12),k=T+(x^N&(A^x))+P[9]+568446438&4294967295,T=A+(k<<5&4294967295|k>>>27),k=N+(A^x&(T^A))+P[14]+3275163606&4294967295,N=T+(k<<9&4294967295|k>>>23),k=x+(T^A&(N^T))+P[3]+4107603335&4294967295,x=N+(k<<14&4294967295|k>>>18),k=A+(N^T&(x^N))+P[8]+1163531501&4294967295,A=x+(k<<20&4294967295|k>>>12),k=T+(x^N&(A^x))+P[13]+2850285829&4294967295,T=A+(k<<5&4294967295|k>>>27),k=N+(A^x&(T^A))+P[2]+4243563512&4294967295,N=T+(k<<9&4294967295|k>>>23),k=x+(T^A&(N^T))+P[7]+1735328473&4294967295,x=N+(k<<14&4294967295|k>>>18),k=A+(N^T&(x^N))+P[12]+2368359562&4294967295,A=x+(k<<20&4294967295|k>>>12),k=T+(A^x^N)+P[5]+4294588738&4294967295,T=A+(k<<4&4294967295|k>>>28),k=N+(T^A^x)+P[8]+2272392833&4294967295,N=T+(k<<11&4294967295|k>>>21),k=x+(N^T^A)+P[11]+1839030562&4294967295,x=N+(k<<16&4294967295|k>>>16),k=A+(x^N^T)+P[14]+4259657740&4294967295,A=x+(k<<23&4294967295|k>>>9),k=T+(A^x^N)+P[1]+2763975236&4294967295,T=A+(k<<4&4294967295|k>>>28),k=N+(T^A^x)+P[4]+1272893353&4294967295,N=T+(k<<11&4294967295|k>>>21),k=x+(N^T^A)+P[7]+4139469664&4294967295,x=N+(k<<16&4294967295|k>>>16),k=A+(x^N^T)+P[10]+3200236656&4294967295,A=x+(k<<23&4294967295|k>>>9),k=T+(A^x^N)+P[13]+681279174&4294967295,T=A+(k<<4&4294967295|k>>>28),k=N+(T^A^x)+P[0]+3936430074&4294967295,N=T+(k<<11&4294967295|k>>>21),k=x+(N^T^A)+P[3]+3572445317&4294967295,x=N+(k<<16&4294967295|k>>>16),k=A+(x^N^T)+P[6]+76029189&4294967295,A=x+(k<<23&4294967295|k>>>9),k=T+(A^x^N)+P[9]+3654602809&4294967295,T=A+(k<<4&4294967295|k>>>28),k=N+(T^A^x)+P[12]+3873151461&4294967295,N=T+(k<<11&4294967295|k>>>21),k=x+(N^T^A)+P[15]+530742520&4294967295,x=N+(k<<16&4294967295|k>>>16),k=A+(x^N^T)+P[2]+3299628645&4294967295,A=x+(k<<23&4294967295|k>>>9),k=T+(x^(A|~N))+P[0]+4096336452&4294967295,T=A+(k<<6&4294967295|k>>>26),k=N+(A^(T|~x))+P[7]+1126891415&4294967295,N=T+(k<<10&4294967295|k>>>22),k=x+(T^(N|~A))+P[14]+2878612391&4294967295,x=N+(k<<15&4294967295|k>>>17),k=A+(N^(x|~T))+P[5]+4237533241&4294967295,A=x+(k<<21&4294967295|k>>>11),k=T+(x^(A|~N))+P[12]+1700485571&4294967295,T=A+(k<<6&4294967295|k>>>26),k=N+(A^(T|~x))+P[3]+2399980690&4294967295,N=T+(k<<10&4294967295|k>>>22),k=x+(T^(N|~A))+P[10]+4293915773&4294967295,x=N+(k<<15&4294967295|k>>>17),k=A+(N^(x|~T))+P[1]+2240044497&4294967295,A=x+(k<<21&4294967295|k>>>11),k=T+(x^(A|~N))+P[8]+1873313359&4294967295,T=A+(k<<6&4294967295|k>>>26),k=N+(A^(T|~x))+P[15]+4264355552&4294967295,N=T+(k<<10&4294967295|k>>>22),k=x+(T^(N|~A))+P[6]+2734768916&4294967295,x=N+(k<<15&4294967295|k>>>17),k=A+(N^(x|~T))+P[13]+1309151649&4294967295,A=x+(k<<21&4294967295|k>>>11),k=T+(x^(A|~N))+P[4]+4149444226&4294967295,T=A+(k<<6&4294967295|k>>>26),k=N+(A^(T|~x))+P[11]+3174756917&4294967295,N=T+(k<<10&4294967295|k>>>22),k=x+(T^(N|~A))+P[2]+718787259&4294967295,x=N+(k<<15&4294967295|k>>>17),k=A+(N^(x|~T))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+x&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.v=function(b,T){T===void 0&&(T=b.length);const A=T-this.blockSize,P=this.C;let x=this.h,N=0;for(;N<T;){if(x==0)for(;N<=A;)s(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<T;)if(P[x++]=b.charCodeAt(N++),x==this.blockSize){s(this,P),x=0;break}}else for(;N<T;)if(P[x++]=b[N++],x==this.blockSize){s(this,P),x=0;break}}this.h=x,this.o+=T},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;T=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=T&255,T/=256;for(this.v(b),b=Array(16),T=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)b[T++]=this.g[A]>>>P&255;return b};function i(b,T){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=T(b)}function o(b,T){this.h=T;const A=[];let P=!0;for(let x=b.length-1;x>=0;x--){const N=b[x]|0;P&&N==T||(A[x]=N,P=!1)}this.g=A}var a={};function u(b){return-128<=b&&b<128?i(b,function(T){return new o([T|0],T<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return R(c(-b));const T=[];let A=1;for(let P=0;b>=A;P++)T[P]=b/A|0,A*=4294967296;return new o(T,0)}function d(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return R(d(b.substring(1),T));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(T,8));let P=f;for(let N=0;N<b.length;N+=8){var x=Math.min(8,b.length-N);const k=parseInt(b.substring(N,N+x),T);x<8?(x=c(Math.pow(T,x)),P=P.j(x).add(c(k))):(P=P.j(A),P=P.add(c(k)))}return P}var f=u(0),p=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-R(this).m();let b=0,T=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);b+=(P>=0?P:4294967296+P)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(v(this))return"0";if(S(this))return"-"+R(this).toString(b);const T=c(Math.pow(b,6));var A=this;let P="";for(;;){const x=O(A,T).g;A=_(A,x.j(T));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=x,v(A))return N+P;for(;N.length<6;)N="0"+N;P=N+P}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function v(b){if(b.h!=0)return!1;for(let T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=_(this,b),S(b)?-1:v(b)?0:1};function R(b){const T=b.g.length,A=[];for(let P=0;P<T;P++)A[P]=~b.g[P];return new o(A,~b.h).add(p)}t.abs=function(){return S(this)?R(this):this},t.add=function(b){const T=Math.max(this.g.length,b.g.length),A=[];let P=0;for(let x=0;x<=T;x++){let N=P+(this.i(x)&65535)+(b.i(x)&65535),k=(N>>>16)+(this.i(x)>>>16)+(b.i(x)>>>16);P=k>>>16,N&=65535,k&=65535,A[x]=k<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(b,T){return b.add(R(T))}t.j=function(b){if(v(this)||v(b))return f;if(S(this))return S(b)?R(this).j(R(b)):R(R(this).j(b));if(S(b))return R(this.j(R(b)));if(this.l(w)<0&&b.l(w)<0)return c(this.m()*b.m());const T=this.g.length+b.g.length,A=[];for(var P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let x=0;x<b.g.length;x++){const N=this.i(P)>>>16,k=this.i(P)&65535,pe=b.i(x)>>>16,kt=b.i(x)&65535;A[2*P+2*x]+=k*kt,E(A,2*P+2*x),A[2*P+2*x+1]+=N*kt,E(A,2*P+2*x+1),A[2*P+2*x+1]+=k*pe,E(A,2*P+2*x+1),A[2*P+2*x+2]+=N*pe,E(A,2*P+2*x+2)}for(b=0;b<T;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=T;b<2*T;b++)A[b]=0;return new o(A,0)};function E(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function C(b,T){this.g=b,this.h=T}function O(b,T){if(v(T))throw Error("division by zero");if(v(b))return new C(f,f);if(S(b))return T=O(R(b),T),new C(R(T.g),R(T.h));if(S(T))return T=O(b,R(T)),new C(R(T.g),T.h);if(b.g.length>30){if(S(b)||S(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,P=T;P.l(b)<=0;)A=j(A),P=j(P);var x=V(A,1),N=V(P,1);for(P=V(P,2),A=V(A,2);!v(P);){var k=N.add(P);k.l(b)<=0&&(x=x.add(A),N=k),P=V(P,1),A=V(A,1)}return T=_(b,x.j(T)),new C(x,T)}for(x=f;b.l(T)>=0;){for(A=Math.max(1,Math.floor(b.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),N=c(A),k=N.j(T);S(k)||k.l(b)>0;)A-=P,N=c(A),k=N.j(T);v(N)&&(N=p),x=x.add(N),b=_(b,k)}return new C(x,b)}t.B=function(b){return O(this,b).h},t.and=function(b){const T=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)&b.i(P);return new o(A,this.h&b.h)},t.or=function(b){const T=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)|b.i(P);return new o(A,this.h|b.h)},t.xor=function(b){const T=Math.max(this.g.length,b.g.length),A=[];for(let P=0;P<T;P++)A[P]=this.i(P)^b.i(P);return new o(A,this.h^b.h)};function j(b){const T=b.g.length+1,A=[];for(let P=0;P<T;P++)A[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(A,b.h)}function V(b,T){const A=T>>5;T%=32;const P=b.g.length-A,x=[];for(let N=0;N<P;N++)x[N]=T>0?b.i(N+A)>>>T|b.i(N+A+1)<<32-T:b.i(N+A);return new o(x,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Rb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Is=o}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Ba,xb,_c,dm,kb,Pb,Nb;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var D=l[I];if(!(D in g))break e;g=g[D]}l=l[l.length-1],I=g[l],h=h(I),h!=I&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var g=[],I;for(I in h)Object.prototype.hasOwnProperty.call(h,I)&&g.push([I,h[I]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,g){return l.call.apply(l.bind,arguments)}function c(l,h,g){return c=u,c.apply(null,arguments)}function d(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function f(l,h){function g(){}g.prototype=h.prototype,l.Z=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(I,D,L){for(var z=Array(arguments.length-2),se=2;se<arguments.length;se++)z[se-2]=arguments[se];return h.prototype[D].apply(I,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function w(l){const h=l.length;if(h>0){const g=Array(h);for(let I=0;I<h;I++)g[I]=l[I];return g}return[]}function v(l,h){for(let I=1;I<arguments.length;I++){const D=arguments[I];var g=typeof D;if(g=g!="object"?g:D?Array.isArray(D)?"array":g:"null",g=="array"||g=="object"&&typeof D.length=="number"){g=l.length||0;const L=D.length||0;l.length=g+L;for(let z=0;z<L;z++)l[g+z]=D[z]}else l.push(D)}}class S{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function R(l){o.setTimeout(()=>{throw l},0)}function _(){var l=b;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class E{constructor(){this.h=this.g=null}add(h,g){const I=C.get();I.set(h,g),this.h?this.h.next=I:this.g=I,this.h=I}}var C=new S(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let j,V=!1,b=new E,T=()=>{const l=Promise.resolve(void 0);j=()=>{l.then(A)}};function A(){for(var l;l=_();){try{l.h.call(l.g)}catch(g){R(g)}var h=C;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return l}();function k(l){return/^[\s\xa0]*$/.test(l)}function pe(l,h){x.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(pe,x),pe.prototype.init=function(l,h){const g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),it=0;function Pt(l,h,g,I,D){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!I,this.ha=D,this.key=++it,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function X(l,h,g){for(const I in l)h.call(g,l[I],I,l)}function te(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function ue(l){const h={};for(const g in l)h[g]=l[g];return h}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(l,h){let g,I;for(let D=1;D<arguments.length;D++){I=arguments[D];for(g in I)l[g]=I[g];for(let L=0;L<ye.length;L++)g=ye[L],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function fe(l){this.src=l,this.g={},this.h=0}fe.prototype.add=function(l,h,g,I,D){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const z=Nt(l,h,I,D);return z>-1?(h=l[z],g||(h.fa=!1)):(h=new Pt(h,this.src,L,!!I,D),h.fa=g,l.push(h)),h};function ht(l,h){const g=h.type;if(g in l.g){var I=l.g[g],D=Array.prototype.indexOf.call(I,h,void 0),L;(L=D>=0)&&Array.prototype.splice.call(I,D,1),L&&($(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Nt(l,h,g,I){for(let D=0;D<l.length;++D){const L=l[D];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==I)return D}return-1}var en="closure_lm_"+(Math.random()*1e6|0),qs={};function Br(l,h,g,I,D){if(Array.isArray(h)){for(let L=0;L<h.length;L++)Br(l,h[L],g,I,D);return null}return g=hu(g),l&&l[kt]?l.J(h,g,a(I)?!!I.capture:!1,D):$r(l,h,g,!1,I,D)}function $r(l,h,g,I,D,L){if(!h)throw Error("Invalid event type");const z=a(D)?!!D.capture:!!D;let se=zr(l);if(se||(l[en]=se=new fe(l)),g=se.add(h,g,I,z,L),g.proxy)return g;if(I=ji(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)N||(D=z),D===void 0&&(D=!1),l.addEventListener(h.toString(),I,D);else if(l.attachEvent)l.attachEvent(lr(h.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ji(){function l(g){return h.call(l.src,l.listener,g)}const h=Te;return l}function or(l,h,g,I,D){if(Array.isArray(h))for(var L=0;L<h.length;L++)or(l,h[L],g,I,D);else I=a(I)?!!I.capture:!!I,g=hu(g),l&&l[kt]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],g=Nt(h,g,I,D),g>-1&&($(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=zr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Nt(h,g,I,D)),(g=l>-1?h[l]:null)&&ar(g))}function ar(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[kt])ht(h.i,l);else{var g=l.type,I=l.proxy;h.removeEventListener?h.removeEventListener(g,I,l.capture):h.detachEvent?h.detachEvent(lr(g),I):h.addListener&&h.removeListener&&h.removeListener(I),(g=zr(h))?(ht(g,l),g.h==0&&(g.src=null,h[en]=null)):$(l)}}}function lr(l){return l in qs?qs[l]:qs[l]="on"+l}function Te(l,h){if(l.da)l=!0;else{h=new pe(h,this);const g=l.listener,I=l.ha||l.src;l.fa&&ar(l),l=g.call(I,h)}return l}function zr(l){return l=l[en],l instanceof fe?l:null}var ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function hu(l){return typeof l=="function"?l:(l[ur]||(l[ur]=function(h){return l.handleEvent(h)}),l[ur])}function ot(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}f(ot,P),ot.prototype[kt]=!0,ot.prototype.removeEventListener=function(l,h,g,I){or(this,l,h,g,I)};function ft(l,h){var g,I=l.G;if(I)for(g=[];I;I=I.G)g.push(I);if(l=l.M,I=h.type||h,typeof h=="string")h=new x(h,l);else if(h instanceof x)h.target=h.target||l;else{var D=h;h=new x(I,l),He(h,D)}D=!0;let L,z;if(g)for(z=g.length-1;z>=0;z--)L=h.g=g[z],D=Fi(L,I,!0,h)&&D;if(L=h.g=l,D=Fi(L,I,!0,h)&&D,D=Fi(L,I,!1,h)&&D,g)for(z=0;z<g.length;z++)L=h.g=g[z],D=Fi(L,I,!1,h)&&D}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const g=l.g[h];for(let I=0;I<g.length;I++)$(g[I]);delete l.g[h],l.h--}}this.G=null},ot.prototype.J=function(l,h,g,I){return this.i.add(String(l),h,!1,g,I)},ot.prototype.K=function(l,h,g,I){return this.i.add(String(l),h,!0,g,I)};function Fi(l,h,g,I){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let D=!0;for(let L=0;L<h.length;++L){const z=h[L];if(z&&!z.da&&z.capture==g){const se=z.listener,tt=z.ha||z.src;z.fa&&ht(l.i,z),D=se.call(tt,I)!==!1&&D}}return D&&!I.defaultPrevented}function jh(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function fu(l){l.g=jh(()=>{l.g=null,l.i&&(l.i=!1,fu(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class pu extends P{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(l){P.call(this),this.h=l,this.g={}}f(Ws,P);var de=[];function cr(l){X(l.g,function(h,g){this.g.hasOwnProperty(g)&&ar(h)},l),l.g={}}Ws.prototype.N=function(){Ws.Z.N.call(this),cr(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=o.JSON.stringify,CA=o.JSON.parse,SA=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Sw(){}function bw(){}var aa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fh(){x.call(this,"d")}f(Fh,x);function Uh(){x.call(this,"c")}f(Uh,x);var Ks={},Rw=null;function mu(){return Rw=Rw||new ot}Ks.Ia="serverreachability";function Aw(l){x.call(this,Ks.Ia,l)}f(Aw,x);function la(l){const h=mu();ft(h,new Aw(h))}Ks.STAT_EVENT="statevent";function xw(l,h){x.call(this,Ks.STAT_EVENT,l),this.stat=h}f(xw,x);function Ot(l){const h=mu();ft(h,new xw(h,l))}Ks.Ja="timingevent";function kw(l,h){x.call(this,Ks.Ja,l),this.size=h}f(kw,x);function ua(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function ca(){this.g=!0}ca.prototype.ua=function(){this.g=!1};function bA(l,h,g,I,D,L){l.info(function(){if(l.g)if(L){var z="",se=L.split("&");for(let Ee=0;Ee<se.length;Ee++){var tt=se[Ee].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const $n=at.split("_");z=$n.length>=2&&$n[1]=="type"?z+(at+"="+tt+"&"):z+(at+"=redacted&")}}}else z=null;else z=L;return"XMLHTTP REQ ("+I+") [attempt "+D+"]: "+h+`
`+g+`
`+z})}function RA(l,h,g,I,D,L,z){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+D+"]: "+h+`
`+g+`
`+L+" "+z})}function Bi(l,h,g,I){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+xA(l,g)+(I?" "+I:"")})}function AA(l,h){l.info(function(){return"TIMEOUT: "+h})}ca.prototype.info=function(){};function xA(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var g=L[l];if(!(g.length<2)){var I=g[1];if(Array.isArray(I)&&!(I.length<1)){var D=I[0];if(D!="noop"&&D!="stop"&&D!="close")for(let z=1;z<I.length;z++)I[z]=""}}}}return Ui(L)}catch{return h}}var gu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nw;function Bh(){}f(Bh,Sw),Bh.prototype.g=function(){return new XMLHttpRequest},Nw=new Bh;function da(l){return encodeURIComponent(String(l))}function kA(l){var h=1;l=l.split(":");const g=[];for(;h>0&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function Hr(l,h,g,I){this.j=l,this.i=h,this.l=g,this.S=I||1,this.V=new Ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ow}function Ow(){this.i=null,this.g="",this.h=!1}var Dw={},$h={};function zh(l,h,g){l.M=1,l.A=wu(Bn(h)),l.u=g,l.R=!0,Lw(l,null)}function Lw(l,h){l.F=Date.now(),yu(l),l.B=Bn(l.A);var g=l.B,I=l.S;Array.isArray(I)||(I=[String(I)]),Gw(g.i,"t",I),l.C=0,g=l.j.L,l.h=new Ow,l.g=hv(l.j,g?h:null,!l.u),l.P>0&&(l.O=new pu(c(l.Y,l,l.g),l.P)),h=l.V,g=l.g,I=l.ba;var D="readystatechange";Array.isArray(D)||(D&&(de[0]=D.toString()),D=de);for(let L=0;L<D.length;L++){const z=Br(g,D[L],I||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.J?ue(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),la(),bA(l.i,l.v,l.B,l.l,l.S,l.u)}Hr.prototype.ba=function(l){l=l.target;const h=this.O;h&&Kr(l)==3?h.j():this.Y(l)},Hr.prototype.Y=function(l){try{if(l==this.g)e:{const se=Kr(this.g),tt=this.g.ya(),Ee=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||tv(this.g)))){this.K||se!=4||tt==7||(tt==8||Ee<=0?la(3):la(2)),Hh(this);var h=this.g.ca();this.X=h;var g=PA(this);if(this.o=h==200,RA(this.i,this.v,this.B,this.l,this.S,se,h),this.o){if(this.U&&!this.L){t:{if(this.g){var I,D=this.g;if((I=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var L=I;break t}}L=null}if(l=L)Bi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qh(this,l);else{this.o=!1,this.m=3,Ot(12),Gs(this),ha(this);break e}}if(this.R){l=!0;let at;for(;!this.K&&this.C<g.length;)if(at=NA(this,g),at==$h){se==4&&(this.m=4,Ot(14),l=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Dw){this.m=4,Ot(15),Bi(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Bi(this.i,this.l,at,null),qh(this,at);if(Vw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||g.length!=0||this.h.h||(this.m=1,Ot(16),l=!1),this.o=this.o&&l,!l)Bi(this.i,this.l,g,"[Invalid Chunked Response]"),Gs(this),ha(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Zh(z),z.P=!0,Ot(11))}}else Bi(this.i,this.l,g,null),qh(this,g);se==4&&Gs(this),this.o&&!this.K&&(se==4?lv(this.j,this):(this.o=!1,yu(this)))}else WA(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Gs(this),ha(this)}}}catch{}finally{}};function PA(l){if(!Vw(l))return l.g.la();const h=tv(l.g);if(h==="")return"";let g="";const I=h.length,D=Kr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Gs(l),ha(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<I;L++)l.h.h=!0,g+=l.h.i.decode(h[L],{stream:!(D&&L==I-1)});return h.length=0,l.h.g+=g,l.C=0,l.h.g}function Vw(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function NA(l,h){var g=l.C,I=h.indexOf(`
`,g);return I==-1?$h:(g=Number(h.substring(g,I)),isNaN(g)?Dw:(I+=1,I+g>h.length?$h:(h=h.slice(I,I+g),l.C=I+g,h)))}Hr.prototype.cancel=function(){this.K=!0,Gs(this)};function yu(l){l.T=Date.now()+l.H,Mw(l,l.H)}function Mw(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ua(c(l.aa,l),h)}function Hh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Hr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(AA(this.i,this.B),this.M!=2&&(la(),Ot(17)),Gs(this),this.m=2,ha(this)):Mw(this,this.T-l)};function ha(l){l.j.I==0||l.K||lv(l.j,l)}function Gs(l){Hh(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,cr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function qh(l,h){try{var g=l.j;if(g.I!=0&&(g.g==l||Wh(g.h,l))){if(!l.L&&Wh(g.h,l)&&g.I==3){try{var I=g.Ba.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var D=I;if(D[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Iu(g),Eu(g);else break e;Jh(g),Ot(18)}}else g.xa=D[1],0<g.xa-g.K&&D[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ua(c(g.Va,g),6e3));Uw(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ys(g,11)}else if((l.L||g.g==l)&&Iu(g),!k(h))for(D=g.Ba.g.parse(h),h=0;h<D.length;h++){let Ee=D[h];const at=Ee[0];if(!(at<=g.K))if(g.K=at,Ee=Ee[1],g.I==2)if(Ee[0]=="c"){g.M=Ee[1],g.ba=Ee[2];const $n=Ee[3];$n!=null&&(g.ka=$n,g.j.info("VER="+g.ka));const Xs=Ee[4];Xs!=null&&(g.za=Xs,g.j.info("SVER="+g.za));const Gr=Ee[5];Gr!=null&&typeof Gr=="number"&&Gr>0&&(I=1.5*Gr,g.O=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const Qr=l.g;if(Qr){const Su=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var L=I.h;L.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Kh(L,L.h),L.h=null))}if(I.G){const ef=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(I.wa=ef,be(I.J,I.G,ef))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),I=g;var z=l;if(I.na=dv(I,I.L?I.ba:null,I.W),z.L){Bw(I.h,z);var se=z,tt=I.O;tt&&(se.H=tt),se.D&&(Hh(se),yu(se)),I.g=z}else ov(I);g.i.length>0&&Tu(g)}else Ee[0]!="stop"&&Ee[0]!="close"||Ys(g,7);else g.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ys(g,7):Xh(g):Ee[0]!="noop"&&g.l&&g.l.qa(Ee),g.A=0)}}la(4)}catch{}}var OA=class{constructor(l,h){this.g=l,this.map=h}};function jw(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fw(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Uw(l){return l.h?1:l.g?l.g.size:0}function Wh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Kh(l,h){l.g?l.g.add(h):l.h=h}function Bw(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}jw.prototype.cancel=function(){if(this.i=$w(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $w(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.G);return h}return w(l.i)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DA(l,h){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const I=l[g].indexOf("=");let D,L=null;I>=0?(D=l[g].substring(0,I),L=l[g].substring(I+1)):D=l[g],h(D,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function qr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof qr?(this.l=l.l,fa(this,l.j),this.o=l.o,this.g=l.g,pa(this,l.u),this.h=l.h,Gh(this,Qw(l.i)),this.m=l.m):l&&(h=String(l).match(zw))?(this.l=!1,fa(this,h[1]||"",!0),this.o=ma(h[2]||""),this.g=ma(h[3]||"",!0),pa(this,h[4]),this.h=ma(h[5]||"",!0),Gh(this,h[6]||"",!0),this.m=ma(h[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}qr.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(ga(h,Hw,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ga(h,Hw,!0),"@"),l.push(da(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ga(g,g.charAt(0)=="/"?MA:VA,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ga(g,FA)),l.join("")},qr.prototype.resolve=function(l){const h=Bn(this);let g=!!l.j;g?fa(h,l.j):g=!!l.o,g?h.o=l.o:g=!!l.g,g?h.g=l.g:g=l.u!=null;var I=l.h;if(g)pa(h,l.u);else if(g=!!l.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var D=h.h.lastIndexOf("/");D!=-1&&(I=h.h.slice(0,D+1)+I)}if(D=I,D==".."||D==".")I="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){I=D.lastIndexOf("/",0)==0,D=D.split("/");const L=[];for(let z=0;z<D.length;){const se=D[z++];se=="."?I&&z==D.length&&L.push(""):se==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&z==D.length&&L.push("")):(L.push(se),I=!0)}I=L.join("/")}else I=D}return g?h.h=I:g=l.i.toString()!=="",g?Gh(h,Qw(l.i)):g=!!l.m,g&&(h.m=l.m),h};function Bn(l){return new qr(l)}function fa(l,h,g){l.j=g?ma(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function pa(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Gh(l,h,g){h instanceof ya?(l.i=h,UA(l.i,l.l)):(g||(h=ga(h,jA)),l.i=new ya(h,l.l))}function be(l,h,g){l.i.set(h,g)}function wu(l){return be(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ma(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ga(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,LA),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function LA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Hw=/[#\/\?@]/g,VA=/[#\?:]/g,MA=/[#\?]/g,jA=/[#\?@]/g,FA=/#/g;function ya(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Qs(l){l.g||(l.g=new Map,l.h=0,l.i&&DA(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=ya.prototype,t.add=function(l,h){Qs(this),this.i=null,l=$i(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function qw(l,h){Qs(l),h=$i(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Ww(l,h){return Qs(l),h=$i(l,h),l.g.has(h)}t.forEach=function(l,h){Qs(this),this.g.forEach(function(g,I){g.forEach(function(D){l.call(h,D,I,this)},this)},this)};function Kw(l,h){Qs(l);let g=[];if(typeof h=="string")Ww(l,h)&&(g=g.concat(l.g.get($i(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)g=g.concat(l[h]);return g}t.set=function(l,h){return Qs(this),this.i=null,l=$i(this,l),Ww(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Kw(this,l),l.length>0?String(l[0]):h):h};function Gw(l,h,g){qw(l,h),g.length>0&&(l.i=null,l.g.set($i(l,h),w(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let I=0;I<h.length;I++){var g=h[I];const D=da(g);g=Kw(this,g);for(let L=0;L<g.length;L++){let z=D;g[L]!==""&&(z+="="+da(g[L])),l.push(z)}}return this.i=l.join("&")};function Qw(l){const h=new ya;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function $i(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function UA(l,h){h&&!l.j&&(Qs(l),l.i=null,l.g.forEach(function(g,I){const D=I.toLowerCase();I!=D&&(qw(this,I),Gw(this,D,g))},l)),l.j=h}function BA(l,h){const g=new ca;if(o.Image){const I=new Image;I.onload=d(Wr,g,"TestLoadImage: loaded",!0,h,I),I.onerror=d(Wr,g,"TestLoadImage: error",!1,h,I),I.onabort=d(Wr,g,"TestLoadImage: abort",!1,h,I),I.ontimeout=d(Wr,g,"TestLoadImage: timeout",!1,h,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else h(!1)}function $A(l,h){const g=new ca,I=new AbortController,D=setTimeout(()=>{I.abort(),Wr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:I.signal}).then(L=>{clearTimeout(D),L.ok?Wr(g,"TestPingServer: ok",!0,h):Wr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Wr(g,"TestPingServer: error",!1,h)})}function Wr(l,h,g,I,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),I(g)}catch{}}function zA(){this.g=new SA}function Qh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Qh,Sw),Qh.prototype.g=function(){return new vu(this.i,this.h)};function vu(l,h){ot.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(vu,ot),t=vu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,va(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yw(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yw(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?wa(this):va(this),this.readyState==3&&Yw(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,wa(this))},t.Na=function(l){this.g&&(this.response=l,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,va(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function va(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Xw(l){let h="";return X(l,function(g,I){h+=I,h+=":",h+=g,h+=`\r
`}),h}function Yh(l,h,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=Xw(g),typeof l=="string"?g!=null&&da(g):be(l,h,g))}function Fe(l){ot.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Fe,ot);var HA=/^https?$/i,qA=["POST","PUT"];t=Fe.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nw.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){Jw(this,L);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var D in I)g.set(D,I[D]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())g.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),D=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(qA,h,void 0)>=0)||I||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of g)this.g.setRequestHeader(L,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Jw(this,L)}};function Jw(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,Zw(l),_u(l)}function Zw(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ft(this,"complete"),ft(this,"abort"),_u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_u(this,!0)),Fe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ev(this):this.Xa())},t.Xa=function(){ev(this)};function ev(l){if(l.h&&typeof i<"u"){if(l.v&&Kr(l)==4)setTimeout(l.Ca.bind(l),0);else if(ft(l,"readystatechange"),Kr(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var I;if(I=L===0){let z=String(l.D).match(zw)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),I=!HA.test(z?z.toLowerCase():"")}g=I}if(g)ft(l,"complete"),ft(l,"success");else{l.o=6;try{var D=Kr(l)>2?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.ca()+"]",Zw(l)}}finally{_u(l)}}}}function _u(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,h||ft(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Kr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),CA(h)}};function tv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function WA(l){const h={};l=(l.g&&Kr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(k(l[I]))continue;var g=kA(l[I]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[D]||[];h[D]=L,L.push(g)}te(h,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function nv(l){this.za=0,this.i=[],this.j=new ca,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_a("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_a("baseRetryDelayMs",5e3,l),this.Za=_a("retryDelaySeedMs",1e4,l),this.Ta=_a("forwardChannelMaxRetries",2,l),this.va=_a("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new jw(l&&l.concurrentRequestLimit),this.Ba=new zA,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nv.prototype,t.ka=8,t.I=1,t.connect=function(l,h,g,I){Ot(0),this.W=l,this.H=h||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.J=dv(this,null,this.W),Tu(this)};function Xh(l){if(rv(l),l.I==3){var h=l.V++,g=Bn(l.J);if(be(g,"SID",l.M),be(g,"RID",h),be(g,"TYPE","terminate"),Ea(l,g),h=new Hr(l,l.j,h),h.M=2,h.A=wu(Bn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=hv(h.j,null),h.g.ea(h.A)),h.F=Date.now(),yu(h)}cv(l)}function Eu(l){l.g&&(Zh(l),l.g.cancel(),l.g=null)}function rv(l){Eu(l),l.v&&(o.clearTimeout(l.v),l.v=null),Iu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Tu(l){if(!Fw(l.h)&&!l.m){l.m=!0;var h=l.Ea;j||T(),V||(j(),V=!0),b.add(h,l),l.D=0}}function KA(l,h){return Uw(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ua(c(l.Ea,l,h),uv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const D=new Hr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=ue(L),He(L,this.U)):L=this.U),this.u!==null||this.R||(D.J=L,L=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=iv(this,D,h),g=Bn(this.J),be(g,"RID",l),be(g,"CVER",22),this.G&&be(g,"X-HTTP-Session-Id",this.G),Ea(this,g),L&&(this.R?h="headers="+da(Xw(L))+"&"+h:this.u&&Yh(g,this.u,L)),Kh(this.h,D),this.Ra&&be(g,"TYPE","init"),this.S?(be(g,"$req",h),be(g,"SID","null"),D.U=!0,zh(D,g,null)):zh(D,g,h),this.I=2}}else this.I==3&&(l?sv(this,l):this.i.length==0||Fw(this.h)||sv(this))};function sv(l,h){var g;h?g=h.l:g=l.V++;const I=Bn(l.J);be(I,"SID",l.M),be(I,"RID",g),be(I,"AID",l.K),Ea(l,I),l.u&&l.o&&Yh(I,l.u,l.o),g=new Hr(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),h&&(l.i=h.G.concat(l.i)),h=iv(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Kh(l.h,g),zh(g,I,h)}function Ea(l,h){l.H&&X(l.H,function(g,I){be(h,I,g)}),l.l&&X({},function(g,I){be(h,I,g)})}function iv(l,h,g){g=Math.min(l.i.length,g);const I=l.l?c(l.l.Ka,l.l,l):null;e:{var D=l.i;let se=-1;for(;;){const tt=["count="+g];se==-1?g>0?(se=D[0].g,tt.push("ofs="+se)):se=0:tt.push("ofs="+se);let Ee=!0;for(let at=0;at<g;at++){var L=D[at].g;const $n=D[at].map;if(L-=se,L<0)se=Math.max(0,D[at].g-100),Ee=!1;else try{L="req"+L+"_"||"";try{var z=$n instanceof Map?$n:Object.entries($n);for(const[Xs,Gr]of z){let Qr=Gr;a(Gr)&&(Qr=Ui(Gr)),tt.push(L+Xs+"="+encodeURIComponent(Qr))}}catch(Xs){throw tt.push(L+"type="+encodeURIComponent("_badmap")),Xs}}catch{I&&I($n)}}if(Ee){z=tt.join("&");break e}}z=void 0}return l=l.i.splice(0,g),h.G=l,z}function ov(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;j||T(),V||(j(),V=!0),b.add(h,l),l.A=0}}function Jh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ua(c(l.Da,l),uv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,av(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ua(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Eu(this),av(this))};function Zh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function av(l){l.g=new Hr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Bn(l.na);be(h,"RID","rpc"),be(h,"SID",l.M),be(h,"AID",l.K),be(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&be(h,"TO",l.ia),be(h,"TYPE","xmlhttp"),Ea(l,h),l.u&&l.o&&Yh(h,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=wu(Bn(h)),g.u=null,g.R=!0,Lw(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Eu(this),Jh(this),Ot(19))};function Iu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function lv(l,h){var g=null;if(l.g==h){Iu(l),Zh(l),l.g=null;var I=2}else if(Wh(l.h,h))g=h.G,Bw(l.h,h),I=1;else return;if(l.I!=0){if(h.o)if(I==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var D=l.D;I=mu(),ft(I,new kw(I,g)),Tu(l)}else ov(l);else if(D=h.m,D==3||D==0&&h.X>0||!(I==1&&KA(l,h)||I==2&&Jh(l)))switch(g&&g.length>0&&(h=l.h,h.i=h.i.concat(g)),D){case 1:Ys(l,5);break;case 4:Ys(l,10);break;case 3:Ys(l,6);break;default:Ys(l,2)}}}function uv(l,h){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*h}function Ys(l,h){if(l.j.info("Error code "+h),h==2){var g=c(l.bb,l),I=l.Ua;const D=!I;I=new qr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fa(I,"https"),wu(I),D?BA(I.toString(),g):$A(I.toString(),g)}else Ot(2);l.I=0,l.l&&l.l.pa(h),cv(l),rv(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function cv(l){if(l.I=0,l.ja=[],l.l){const h=$w(l.h);(h.length!=0||l.i.length!=0)&&(v(l.ja,h),v(l.ja,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.oa()}}function dv(l,h,g){var I=g instanceof qr?Bn(g):new qr(g);if(I.g!="")h&&(I.g=h+"."+I.g),pa(I,I.u);else{var D=o.location;I=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;const L=new qr(null);I&&fa(L,I),h&&(L.g=h),D&&pa(L,D),g&&(L.h=g),I=L}return g=l.G,h=l.wa,g&&h&&be(I,g,h),be(I,"VER",l.ka),Ea(l,I),I}function hv(l,h,g){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Fe(new Qh({ab:g})):new Fe(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fv(){}t=fv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cu(){}Cu.prototype.g=function(l,h){return new tn(l,h)};function tn(l,h){ot.call(this),this.g=new nv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!k(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!k(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new zi(this)}f(tn,ot),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xh(this.g)},tn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Ui(l),l=g);h.i.push(new OA(h.Ya++,l)),h.I==3&&Tu(h)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xh(this.g),delete this.g,tn.Z.N.call(this)};function pv(l){Fh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(pv,Fh);function mv(){Uh.call(this),this.status=1}f(mv,Uh);function zi(l){this.g=l}f(zi,fv),zi.prototype.ra=function(){ft(this.g,"a")},zi.prototype.qa=function(l){ft(this.g,new pv(l))},zi.prototype.pa=function(l){ft(this.g,new mv)},zi.prototype.oa=function(){ft(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Nb=function(){return new Cu},Pb=function(){return mu()},kb=Ks,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,_c=gu,Pw.COMPLETE="complete",xb=Pw,bw.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Ba=bw,Fe.prototype.listenOnce=Fe.prototype.K,Fe.prototype.getLastError=Fe.prototype.Ha,Fe.prototype.getLastErrorCode=Fe.prototype.ya,Fe.prototype.getStatus=Fe.prototype.ca,Fe.prototype.getResponseJson=Fe.prototype.La,Fe.prototype.getResponseText=Fe.prototype.la,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Fa,Ab=Fe}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",IE="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new ey("@firebase/firestore");function Ki(){return Ri.logLevel}function q(t,...e){if(Ri.logLevel<=oe.DEBUG){const n=e.map(fy);Ri.debug(`Firestore (${Xo}): ${t}`,...n)}}function Lr(t,...e){if(Ri.logLevel<=oe.ERROR){const n=e.map(fy);Ri.error(`Firestore (${Xo}): ${t}`,...n)}}function Po(t,...e){if(Ri.logLevel<=oe.WARN){const n=e.map(fy);Ri.warn(`Firestore (${Xo}): ${t}`,...n)}}function fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ob(t,r,n)}function Ob(t,e,n){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Lr(r),new Error(r)}function we(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Ob(e,s,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class FM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Sr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new Db(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class BM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $M{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=HM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function hm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zf(s)===zf(i)?ae(s,i):zf(s)?1:-1}return ae(t.length,e.length)}const qM=55296,WM=57343;function zf(t){const e=t.charCodeAt(0);return e>=qM&&e<=WM}function No(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__name__";class qn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=qn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ae(e.length,n.length)}static compareSegments(e,n){const r=qn.isNumericId(e),s=qn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?qn.extractNumericId(e).compare(qn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class Ie extends qn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const KM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends qn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return KM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new gt([SE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ie.fromString(e))}static fromName(e){return new Q(Ie.fromString(e).popFirst(5))}static empty(){return new Q(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GM(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bE(t){if(!Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RE(t){if(Q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function eu(t,e){if(!Vb(t))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new H(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,xE=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xE);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AE)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:et("string",Ae._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ae(0,0))}static max(){return new ne(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function QM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new xs(s,Q.empty(),e)}function YM(t){return new xs(t.readTime,t.key,xl)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(ne.min(),Q.empty(),xl)}static max(){return new xs(ne.max(),Q.empty(),xl)}}function XM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==JM)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ej(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function dh(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function tj(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function nj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kE(e)),e=rj(t.get(n),e);return kE(e)}function rj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Mb:n+="";break;default:n+=i}}return n}function kE(t){return t+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mt.RED,this.left=s??mt.EMPTY,this.right=i??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new st(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fb("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=sj.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",Bb="__type__",$b="__previous_value__",zb="__local_write_time__";function gy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Bb])==null?void 0:r.stringValue)===Ub}function hh(t){const e=t.mapValue.fields[$b];return gy(e)?hh(e):e}function kl(t){const e=ks(t.mapValue.fields[zb].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,s,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const cd="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||cd}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__type__",oj="__max__",Yu={mapValue:{}},qb="__vector__",dd="value";function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gy(t)?4:lj(t)?9007199254740991:aj(t)?10:11:ee(28295,{value:t})}function rr(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ks(s.timestampValue),a=ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ps(s.bytesValue).isEqual(Ps(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?ud(o)===ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(PE(o)!==PE(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!rr(o[u],a[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Nl(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),u=We(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(kl(t),kl(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ps(i),u=Ps(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ae(a[c],u[c]);if(d!==0)return d}return ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ae(We(i.latitude),We(o.latitude));return a!==0?a:ae(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,w,v,S;const a=i.fields||{},u=o.fields||{},c=(p=a[dd])==null?void 0:p.arrayValue,d=(w=u[dd])==null?void 0:w.arrayValue,f=ae(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((S=d==null?void 0:d.values)==null?void 0:S.length)||0);return f!==0?f:DE(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Yu.mapValue&&o===Yu.mapValue)return 0;if(i===Yu.mapValue)return 1;if(o===Yu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=hm(u[f],d[f]);if(p!==0)return p;const w=Oo(a[u[f]],c[d[f]]);if(w!==0)return w}return ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=ks(t),r=ks(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oo(n[s],r[s]);if(i)return i}return ae(n.length,r.length)}function Do(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Ec(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(t);return e?16+Ec(e):16;case 5:return 2*t.stringValue.length;case 6:return Ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ec(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return $s(r.fields,(i,o)=>{s+=i.length+Ec(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function LE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function yy(t){return!!t&&"arrayValue"in t}function VE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tc(t){return!!t&&"mapValue"in t}function aj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Hb])==null?void 0:r.stringValue)===qb}function nl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return{...t}}function lj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=nl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(nl(this.value))}}function Wb(t){const e=[];return $s(t.fields,(n,r)=>{const s=new gt([n]);if(Tc(r)){const i=Wb(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ne.min(),ne.min(),ne.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ne.min(),ne.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ne.min(),ne.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Oo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function uj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Ze extends Kb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dj(e,n,r):n==="array-contains"?new pj(e,r):n==="in"?new mj(e,r):n==="not-in"?new gj(e,r):n==="array-contains-any"?new yj(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hj(e,r):new fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Kb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jn(e,n)}matches(e){return Gb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gb(t){return t.op==="and"}function Qb(t){return cj(t)&&Gb(t)}function cj(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function mm(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(Qb(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function Yb(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&rr(r.value,s.value)}(t,e):t instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Yb(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function Xb(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(t):"Filter"}class dj extends Ze{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class hj extends Ze{constructor(e,n){super(e,"in",n),this.keys=Jb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fj extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=Jb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class pj extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yy(n)&&Nl(n.arrayValue,this.value)}}class mj extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class gj extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class yj extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function UE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new wj(t,e,n,r,s,i,o)}function wy(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.Te=n}return e.Te}function vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function gm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vj(t,e,n,r,s,i,o,a){return new ea(t,e,n,r,s,i,o,a)}function fh(t){return new ea(t)}function BE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zb(t){return t.collectionGroup!==null}function rl(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(gt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ol(i,r))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new Ol(gt.keyField(),r))}return e.Ie}function Zn(t){const e=re(t);return e.Ee||(e.Ee=_j(e,rl(t))),e.Ee}function _j(t,e){if(t.limitType==="F")return UE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ol(s.field,i)});const n=t.endAt?new hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hd(t.startAt.position,t.startAt.inclusive):null;return UE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){const n=t.filters.concat([e]);return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wm(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return vy(Zn(t),Zn(e))&&t.limitType===e.limitType}function eR(t){return`${wy(Zn(t))}|lt:${t.limitType}`}function Gi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Xb(s)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Do(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Do(s)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of rl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=jE(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,rl(r),s)||r.endAt&&!function(o,a,u){const c=jE(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,rl(r),s))}(t,e)}function Ej(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tR(t){return(e,n)=>{let r=!1;for(const s of rl(t)){const i=Tj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Tj(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Oo(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new je(Q.comparator);function Vr(){return Ij}const nR=new je(Q.comparator);function $a(...t){let e=nR;for(const n of t)e=e.insert(n.key,n);return e}function rR(t){let e=nR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return sl()}function sR(){return sl()}function sl(){return new Di(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cj=new je(Q.comparator),Sj=new st(Q.comparator);function le(...t){let e=Sj;for(const n of t)e=e.add(n);return e}const bj=new st(ae);function Rj(){return bj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function iR(t){return{integerValue:""+t}}function Aj(t,e){return tj(e)?iR(e):_y(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function xj(t,e,n){return t instanceof Dl?function(s,i){const o={fields:{[Bb]:{stringValue:Ub},[zb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gy(i)&&(i=hh(i)),i&&(o.fields[$b]=i),{mapValue:o}}(n,e):t instanceof Ll?aR(t,e):t instanceof Vl?lR(t,e):function(s,i){const o=oR(s,i),a=$E(o)+$E(s.Ae);return pm(o)&&pm(s.Ae)?iR(a):_y(s.serializer,a)}(t,e)}function kj(t,e,n){return t instanceof Ll?aR(t,e):t instanceof Vl?lR(t,e):n}function oR(t,e){return t instanceof fd?function(r){return pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dl extends gh{}class Ll extends gh{constructor(e){super(),this.elements=e}}function aR(t,e){const n=uR(e);for(const r of t.elements)n.some(s=>rr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends gh{constructor(e){super(),this.elements=e}}function lR(t,e){let n=uR(e);for(const r of t.elements)n=n.filter(s=>!rr(s,r));return{arrayValue:{values:n}}}class fd extends gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(t){return We(t.integerValue||t.doubleValue)}function uR(t){return yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.field=e,this.transform=n}}function Nj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ll&&s instanceof Ll||r instanceof Vl&&s instanceof Vl?No(r.elements,s.elements,rr):r instanceof fd&&s instanceof fd?rr(r.Ae,s.Ae):r instanceof Dl&&s instanceof Dl}(t.transform,e.transform)}class Oj{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function cR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ey(t.key,En.none()):new tu(t.key,t.data,En.none());{const n=t.data,r=Wt.empty();let s=new st(gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zs(t.key,r,new sn(s.toArray()),En.none())}}function Dj(t,e,n){t instanceof tu?function(s,i,o){const a=s.value.clone(),u=HE(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,o){if(!Ic(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=HE(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(dR(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof tu?function(i,o,a,u){if(!Ic(i.precondition,o))return a;const c=i.value.clone(),d=qE(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,o,a,u){if(!Ic(i.precondition,o))return a;const c=qE(i.fieldTransforms,u,o),d=o.data;return d.setAll(dR(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Ic(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Lj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oR(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function zE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&No(r,s,(i,o)=>Nj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends yh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends yh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,kj(o,a,n[s]))}return r}function qE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,xj(i,o,e))}return r}class Ey extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vj extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Dj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=cR(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>zE(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>zE(n,r))}}class Ty{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Cj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ty(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ce;function Uj(t){switch(t){case F.OK:return ee(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function hR(t){if(t===void 0)return Lr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ye.OK:return F.OK;case Ye.CANCELLED:return F.CANCELLED;case Ye.UNKNOWN:return F.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return F.INTERNAL;case Ye.UNAVAILABLE:return F.UNAVAILABLE;case Ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ye.NOT_FOUND:return F.NOT_FOUND;case Ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ye.ABORTED:return F.ABORTED;case Ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ye.DATA_LOSS:return F.DATA_LOSS;default:return ee(39323,{code:t})}}(ce=Ye||(Ye={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new Is([4294967295,4294967295],0);function WE(t){const e=Bj().encode(t),n=new Rb;return n.update(e),new Uint8Array(n.digest())}function KE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Is([n,r],0),new Is([s,i],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Is.fromNumber(r)));return s.compare($j)===1&&(s=new Is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WE(e),[r,s]=KE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Iy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=WE(e),[r,s]=KE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wh(ne.min(),s,new je(ae),Vr(),le())}}class nu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fR{constructor(e,n){this.targetId=e,this.Ce=n}}class pR{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class GE{constructor(){this.ve=0,this.Fe=QE(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),r=le();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new nu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Xu(),this.He=Xu(),this.Ye=new je(ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gm(i))if(r===0){const o=new Q(i.path);this.et(n,o,St.newNoDocument(o,ne.min()))}else we(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ps(r).toUint8Array()}catch(u){if(u instanceof Fb)return Po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Iy(o,s,i)}catch(u){return Po(u instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&gm(a.target)){const u=new Q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,St.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=le();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new wh(e,n,this.Ye,this.je,r);return this.je=Vr(),this.Je=Xu(),this.He=Xu(),this.Ye=new je(ae),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xu(){return new je(Q.comparator)}function QE(){return new je(Q.comparator)}const Hj={asc:"ASCENDING",desc:"DESCENDING"},qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"};class Kj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gj(t,e){return pd(t,e.toTimestamp())}function er(t){return we(!!t,49232),ne.fromTimestamp(function(n){const r=ks(n);return new Ae(r.seconds,r.nanos)}(t))}function Cy(t,e){return _m(t,e).canonicalString()}function _m(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gR(t){const e=Ie.fromString(t);return we(ER(e),10190,{key:e.toString()}),e}function Em(t,e){return Cy(t.databaseId,e.path)}function Hf(t,e){const n=gR(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(wR(n))}function yR(t,e){return Cy(t.databaseId,e)}function Qj(t){const e=gR(t);return e.length===4?Ie.emptyPath():wR(e)}function Tm(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wR(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YE(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(we(d===void 0||typeof d=="string",58123),vt.fromBase64String(d||"")):(we(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:hR(c.code);return new H(d,c.message||"")}(o);n=new pR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hf(t,r.document.name),i=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):ne.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=St.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Cc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hf(t,r.document),i=r.readTime?er(r.readTime):ne.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hf(t,r.document),i=r.removedTargetIds||[];n=new Cc([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Fj(s,i),a=r.targetId;n=new fR(a,o)}}return n}function Xj(t,e){let n;if(e instanceof tu)n={update:YE(t,e.key,e.value)};else if(e instanceof Ey)n={delete:Em(t,e.key)};else if(e instanceof zs)n={update:YE(t,e.key,e.data),updateMask:o4(e.fieldMask)};else{if(!(e instanceof Vj))return ee(16599,{Vt:e.type});n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Gj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function Jj(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?er(s.updateTime):er(i);return o.isEqual(ne.min())&&(o=er(i)),new Oj(o,s.transformResults||[])}(n,e))):[]}function Zj(t,e){return{documents:[yR(t,e.path)]}}function e4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yR(t,s);const i=function(c){if(c.length!==0)return _R(jn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Qi(p.field),direction:r4(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function t4(t){let e=Qj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){we(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=vR(f);return p instanceof jn&&Qb(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Ol(Yi(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,dh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,w=f.values||[];return new hd(w,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,w=f.values||[];return new hd(w,p)}(n.endAt)),vj(e,s,o,i,a,"F",u,c)}function n4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yi(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yi(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yi(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yi(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Yi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>vR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function r4(t){return Hj[t]}function s4(t){return qj[t]}function i4(t){return Wj[t]}function Qi(t){return{fieldPath:t.canonicalString()}}function Yi(t){return gt.fromServerFormat(t.fieldPath)}function _R(t){return t instanceof Ze?function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:Qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(n.field),op:s4(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(s=>_R(s));return r.length===1?r[0]:{compositeFilter:{op:i4(n.op),filters:r}}}(t):ee(54877,{filter:t})}function o4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ER(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,i=ne.min(),o=ne.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.yt=e}}function l4(t){const e=t4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.Cn=new c4}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(xs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class c4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TR=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(TR,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",d4=1048576;function ZE([t,e],[n,r]){const s=ae(t,n);return s===0?ae(e,r):s}class h4{constructor(e){this.Ir=e,this.buffer=new st(ZE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?q(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Vr(3e5)})}}class p4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ch.ce);const r=new h4(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(XE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ki()<=oe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function m4(t,e){return new p4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&il(r.mutation,s,sn.empty(),Ae.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$a();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Vr();const o=sl(),a=function(){return sl()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof zs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),il(d.mutation,c,d.mutation.getFieldMask(),Ae.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new y4(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=sl();let s=new je((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||sn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||le()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=sR();d.forEach(p=>{if(!i.has(p)){const w=cR(n.get(p),r.get(p));w!==null&&f.set(p,w),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(li());let a=xl,u=i;return o.next(c=>U.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,le())).next(d=>({batchId:a,changes:rR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=$a();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$a();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const c=function(f,p){return new ea(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=$a();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&il(d.mutation,c,sn.empty(),Ae.now()),mh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:l4(s.bundledQuery),readTime:er(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.overlays=new je(Q.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=li(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=li(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=li(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jj(n,r));let i=this.qr.get(n);i===void 0&&(i=le(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Qr=new st(lt.$r),this.Ur=new st(lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Ie([])),r=new lt(n,e),s=new lt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Ie([])),r=new lt(n,e),s=new lt(n,e+1);let i=le();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ae(e.Yr,n.Yr)}static Kr(e,n){return ae(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(lt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new lt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?my:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),s=new lt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ae);return n.forEach(s=>{const i=new lt(s,0),o=new lt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new lt(new Q(i),0);let a=new st(ae);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new lt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.ri=e,this.docs=function(){return new je(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||XM(YM(d),r)<=0||(s.has(d.key)||mh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C4(this)}getSize(e){return U.resolve(this.size)}}class C4 extends g4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.persistence=e,this.si=new Di(n=>wy(n),vy),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Sy,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new E4,this.referenceDelegate=e(this),this.Pi=new S4(this),this.indexManager=new u4,this.remoteDocumentCache=function(s){return new I4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new a4(n),this.Ii=new v4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new T4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new b4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class b4 extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ri=new Sy,this.Vi=null}static mi(e){return new by(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class md{constructor(e,n){this.persistence=e,this.pi=new Di(r=>nj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m4(this,n)}static mi(e,n){return new md(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ec(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ry(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sD()?8:ej(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new R4;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ki()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Gi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Ki()<=oe.DEBUG&&q("QueryEngine","Query:",Gi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ki()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Gi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):U.resolve())}ys(e,n){if(BE(n))return U.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=wm(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,wm(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return BE(n)||s.isEqual(ne.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Ki()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gi(n)),this.vs(e,o,n,QM(s,xl)).next(a=>a))})}Ds(e,n){let r=new st(tR(e));return n.forEach((s,i)=>{mh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ki()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Gi(n)),this.ps.getDocumentsMatchingQuery(e,n,xs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LocalStore",x4=3e8;class k4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new je(ae),this.xs=new Di(i=>wy(i),vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function P4(t,e,n,r){return new k4(t,e,n,r)}async function CR(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=le();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function N4(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let w=U.resolve();return p.forEach(v=>{w=w.next(()=>d.getEntry(u,v)).next(S=>{const R=c.docVersions.get(v);we(R!==null,48541),S.version.compareTo(R)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function SR(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function O4(t,e){const n=re(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let w=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(vt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),s=s.insert(f,w),function(S,R,_){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=x4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,w,d)&&a.push(n.Pi.updateTargetData(i,w))});let u=Vr(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(D4(i,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function D4(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(Ay,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function L4(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=my),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V4(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new us(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Im(t,e,n){const r=re(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Zo(o))throw o;q(Ay,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function e0(t,e,n){const r=re(t);let s=ne.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=re(u),p=f.xs.get(d);return p!==void 0?U.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,Zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:le())).next(a=>(M4(r,Ej(e),a),{documents:a,Qs:i})))}function M4(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class t0{constructor(){this.activeTargetIds=Rj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j4{constructor(){this.Mo=new t0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="ConnectivityMonitor";class r0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(n0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(n0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Cm(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",U4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===cd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Cm(),a=this.zo(e,n.toUriEncodedString());q(qf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(a),d=Fs(c);return this.Jo(e,a,u,r,d).then(f=>(q(qf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Po(qf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=U4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class z4 extends B4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Cm();return new Promise((a,u)=>{const c=new Ab;c.setWithCredentials(!0),c.listenOnce(xb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _c.NO_ERROR:const f=c.getResponseJson();q(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case _c.TIMEOUT:q(Tt,`RPC '${e}' ${o} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const p=c.getStatus();if(q(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const v=w==null?void 0:w.error;if(v&&v.status&&v.message){const S=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(v.status);u(new H(S,v.message))}else u(new H(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);q(Tt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Cm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nb(),a=Pb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");q(Tt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);this.I_(f);let p=!1,w=!1;const v=new $4({Yo:R=>{w?q(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(p||(q(Tt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),q(Tt,`RPC '${e}' stream ${s} sending:`,R),f.send(R))},Zo:()=>f.close()}),S=(R,_,E)=>{R.listen(_,C=>{try{E(C)}catch(O){setTimeout(()=>{throw O},0)}})};return S(f,Ba.EventType.OPEN,()=>{w||(q(Tt,`RPC '${e}' stream ${s} transport opened.`),v.o_())}),S(f,Ba.EventType.CLOSE,()=>{w||(w=!0,q(Tt,`RPC '${e}' stream ${s} transport closed`),v.a_(),this.E_(f))}),S(f,Ba.EventType.ERROR,R=>{w||(w=!0,Po(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),v.a_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),S(f,Ba.EventType.MESSAGE,R=>{var _;if(!w){const E=R.data[0];we(!!E,16349);const C=E,O=(C==null?void 0:C.error)||((_=C[0])==null?void 0:_.error);if(O){q(Tt,`RPC '${e}' stream ${s} received error:`,O);const j=O.status;let V=function(A){const P=Ye[A];if(P!==void 0)return hR(P)}(j),b=O.message;V===void 0&&(V=F.INTERNAL,b="Unknown error status: "+j+" with message "+O.message),w=!0,v.a_(new H(V,b)),f.close()}else q(Tt,`RPC '${e}' stream ${s} received:`,E),v.u_(E)}}),S(a,kb.STAT_EVENT,R=>{R.stat===dm.PROXY?q(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===dm.NOPROXY&&q(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new Kj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="PersistentStream";class RR{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(s0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H4 extends RR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?er(o.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=gm(u)?{documents:Zj(i,u)}:{query:e4(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mR(i,o.resumeToken);const c=vm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=pd(i,o.snapshotVersion.toTimestamp());const c=vm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=n4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.q_(n)}}class q4 extends RR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Jj(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Xj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{}class K4 extends W4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,_m(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,_m(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class G4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="RemoteStore";class Q4{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Li(this)&&(q(Ai,"Restarting streams for network reachability change."),await async function(u){const c=re(u);c.Ea.add(4),await ru(c),c.Ra.set("Unknown"),c.Ea.delete(4),await _h(c)}(this))})}),this.Ra=new G4(r,s)}}async function _h(t){if(Li(t))for(const e of t.da)await e(!0)}async function ru(t){for(const e of t.da)await e(!1)}function AR(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ny(n)?Py(n):ta(n).O_()&&ky(n,e))}function xy(t,e){const n=re(t),r=ta(n);n.Ia.delete(e),r.O_()&&xR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Li(n)&&n.Ra.set("Unknown"))}function ky(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).Y_(e)}function xR(t,e){t.Va.Ue(e),ta(t).Z_(e)}function Py(t){t.Va=new zj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.Ra.ua()}function Ny(t){return Li(t)&&!ta(t).x_()&&t.Ia.size>0}function Li(t){return re(t).Ea.size===0}function kR(t){t.Va=void 0}async function Y4(t){t.Ra.set("Online")}async function X4(t){t.Ia.forEach((e,n)=>{ky(t,e)})}async function J4(t,e){kR(t),Ny(t)?(t.Ra.ha(e),Py(t)):t.Ra.set("Unknown")}async function Z4(t,e,n){if(t.Ra.set("Online"),e instanceof pR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){q(Ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(t,r)}else if(e instanceof Cc?t.Va.Ze(e):e instanceof fR?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await SR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),xR(i,u);const f=new us(d.target,u,c,d.sequenceNumber);ky(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(Ai,"Failed to raise snapshot:",r),await gd(t,r)}}async function gd(t,e,n){if(!Zo(e))throw e;t.Ea.add(1),await ru(t),t.Ra.set("Offline"),n||(n=()=>SR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Ai,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _h(t)})}function PR(t,e){return e().catch(n=>gd(t,n,e))}async function Eh(t){const e=re(t),n=Os(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:my;for(;eF(e);)try{const s=await L4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,tF(e,s)}catch(s){await gd(e,s)}NR(e)&&OR(e)}function eF(t){return Li(t)&&t.Ta.length<10}function tF(t,e){t.Ta.push(e);const n=Os(t);n.O_()&&n.X_&&n.ea(e.mutations)}function NR(t){return Li(t)&&!Os(t).x_()&&t.Ta.length>0}function OR(t){Os(t).start()}async function nF(t){Os(t).ra()}async function rF(t){const e=Os(t);for(const n of t.Ta)e.ea(n.mutations)}async function sF(t,e,n){const r=t.Ta.shift(),s=Ty.from(r,e,n);await PR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Eh(t)}async function iF(t,e){e&&Os(t).X_&&await async function(r,s){if(function(o){return Uj(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();Os(r).B_(),await PR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Eh(r)}}(t,e),NR(t)&&OR(t)}async function i0(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),q(Ai,"RemoteStore received new credentials");const r=Li(n);n.Ea.add(3),await ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _h(n)}async function oF(t,e){const n=re(t);e?(n.Ea.delete(2),await _h(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function ta(t){return t.ma||(t.ma=function(n,r,s){const i=re(n);return i.sa(),new H4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Y4.bind(null,t),t_:X4.bind(null,t),r_:J4.bind(null,t),H_:Z4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ny(t)?Py(t):t.Ra.set("Unknown")):(await t.ma.stop(),kR(t))})),t.ma}function Os(t){return t.fa||(t.fa=function(n,r,s){const i=re(n);return i.sa(),new q4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nF.bind(null,t),r_:iF.bind(null,t),ta:rF.bind(null,t),na:sF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Ai,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Oy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),Zo(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.ga=new je(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,_o.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class lF{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=a0(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function a0(){return new Di(t=>eR(t),ph)}async function Ly(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new aF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dy(o,`Initialization of query '${Gi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&My(n)}async function Vy(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uF(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&My(n)}function cF(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function My(t){t.Ca.forEach(e=>{e.next()})}var Sm,l0;(l0=Sm||(Sm={})).Ma="default",l0.Cache="cache";class jy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.key=e}}class LR{constructor(e){this.key=e}}class dF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=tR(e),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new o0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),w=mh(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;p&&w?p.data.isEqual(w.data)?v!==S&&(r.track({type:3,doc:w}),R=!0):this.su(p,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.eu(w,u)>0||c&&this.eu(w,c)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),R=!0):p&&!w&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(a=!0)),R&&(w?(o=o.add(w),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(w,v){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:R})}};return S(w)-S(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Vo(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new LR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new DR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fy="SyncEngine";class hF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fF{constructor(e){this.key=e,this.hu=!1}}class pF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Di(a=>eR(a),ph),this.Iu=new Map,this.Eu=new Set,this.du=new je(Q.comparator),this.Au=new Map,this.Ru=new Sy,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mF(t,e,n=!0){const r=BR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await VR(r,e,n,!0),s}async function gF(t,e){const n=BR(t);await VR(n,e,!0,!1)}async function VR(t,e,n,r){const s=await V4(t.localStore,Zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await yF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AR(t.remoteStore,s),a}async function yF(t,e,n,r,s){t.pu=(f,p,w)=>async function(S,R,_,E){let C=R.view.ru(_);C.Cs&&(C=await e0(S.localStore,R.query,!1).then(({documents:b})=>R.view.ru(b,C)));const O=E&&E.targetChanges.get(R.targetId),j=E&&E.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(C,S.isPrimaryClient,O,j);return c0(S,R.targetId,V.au),V.snapshot}(t,f,p,w);const i=await e0(t.localStore,e,!0),o=new dF(e,i.Qs),a=o.ru(i.documents),u=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);c0(t,n,c.au);const d=new hF(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function wF(t,e,n){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ph(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Im(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xy(r.remoteStore,s.targetId),bm(r,s.targetId)}).catch(Jo)):(bm(r,s.targetId),await Im(r.localStore,s.targetId,!0))}async function vF(t,e){const n=re(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xy(n.remoteStore,r.targetId))}async function _F(t,e,n){const r=RF(t);try{const s=await function(o,a){const u=re(o),c=Ae.now(),d=a.reduce((w,v)=>w.add(v.key),le());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let v=Vr(),S=le();return u.Ns.getEntries(w,d).next(R=>{v=R,v.forEach((_,E)=>{E.isValidDocument()||(S=S.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,v)).next(R=>{f=R;const _=[];for(const E of a){const C=Lj(E,f.get(E.key).overlayedDocument);C!=null&&_.push(new zs(E.key,C,Wb(C.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,_,a)}).next(R=>{p=R;const _=R.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(w,R.batchId,_)})}).then(()=>({batchId:p.batchId,changes:rR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new je(ae)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await su(r,s.changes),await Eh(r.remoteStore)}catch(s){const i=Dy(s,"Failed to persist write");n.reject(i)}}async function MR(t,e){const n=re(t);try{const r=await O4(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?we(o.hu,14607):s.removedDocuments.size>0&&(we(o.hu,42227),o.hu=!1))}),await su(n,r,e)}catch(r){await Jo(r)}}function u0(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=re(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&My(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EF(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new je(Q.comparator);o=o.insert(i,St.newNoDocument(i,ne.min()));const a=le().add(i),u=new wh(ne.min(),new Map,new je(ae),o,a);await MR(r,u),r.du=r.du.remove(i),r.Au.delete(e),Uy(r)}else await Im(r.localStore,e,!1).then(()=>bm(r,e,n)).catch(Jo)}async function TF(t,e){const n=re(t),r=e.batch.batchId;try{const s=await N4(n.localStore,e);FR(n,r,null),jR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,s)}catch(s){await Jo(s)}}async function IF(t,e,n){const r=re(t);try{const s=await function(o,a){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(we(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);FR(r,e,n),jR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,s)}catch(s){await Jo(s)}}function jR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function FR(t,e,n){const r=re(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UR(t,r)})}function UR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uy(t))}function c0(t,e,n){for(const r of n)r instanceof DR?(t.Ru.addReference(r.key,e),CF(t,r)):r instanceof LR?(q(Fy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UR(t,r.key)):ee(19791,{wu:r})}function CF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(Fy,"New document in limbo: "+n),t.Eu.add(r),Uy(t))}function Uy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ie.fromString(e)),r=t.fu.next();t.Au.set(r,new fF(n)),t.du=t.du.insert(n,r),AR(t.remoteStore,new us(Zn(fh(n.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function su(t,e,n){const r=re(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Ry.As(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const d=re(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,p=>U.forEach(p.Es,w=>d.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>U.forEach(p.ds,w=>d.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!Zo(f))throw f;q(Ay,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const w=d.Ms.get(p),v=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(p,S)}}}(r.localStore,i))}async function SF(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){q(Fy,"User change. New user:",e.toKey());const r=await CR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ls)}}function bF(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return le().add(r.key);{let s=le();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function BR(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EF.bind(null,e),e.Pu.H_=uF.bind(null,e.eventManager),e.Pu.yu=cF.bind(null,e.eventManager),e}function RF(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IF.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return P4(this.persistence,new A4,e.initialUser,this.serializer)}Cu(e){return new IR(by.mi,this.serializer)}Du(e){return new j4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class AF extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof md,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new IR(r=>md.mi(r,n),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SF.bind(null,this.syncEngine),await oF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lF}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=function(i){return new z4(i)}(e.databaseInfo);return function(i,o,a,u){return new K4(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Q4(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u0(this.syncEngine,n,0),function(){return r0.v()?new r0:new F4}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const f=new pF(s,i,o,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);q(Ai,"RemoteStore shutting down."),i.Ea.add(5),await ru(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class xF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await CR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kF(t);q(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>i0(e.remoteStore,s)),t._onlineComponents=e}async function kF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ds,"Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new yd)}}else q(Ds,"Using default OfflineComponentProvider"),await Kf(t,new AF(void 0));return t._offlineComponents}async function $R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ds,"Using user provided OnlineComponentProvider"),await d0(t,t._uninitializedComponentsProvider._online)):(q(Ds,"Using default OnlineComponentProvider"),await d0(t,new Rm))),t._onlineComponents}function PF(t){return $R(t).then(e=>e.syncEngine)}async function wd(t){const e=await $R(t),n=e.eventManager;return n.onListen=mF.bind(null,e.syncEngine),n.onUnlisten=wF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vF.bind(null,e.syncEngine),n}function NF(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new By({next:p=>{d.Nu(),o.enqueueAndForget(()=>Vy(i,f));const w=p.docs.has(a);!w&&p.fromCache?c.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&u&&u.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new jy(fh(a.path),d,{includeMetadataChanges:!0,qa:!0});return Ly(i,f)}(await wd(t),t.asyncQueue,e,n,r)),r.promise}function OF(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new By({next:p=>{d.Nu(),o.enqueueAndForget(()=>Vy(i,f)),p.fromCache&&u.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new jy(a,d,{includeMetadataChanges:!0,qa:!0});return Ly(i,f)}(await wd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firestore.googleapis.com",f0=!0;class p0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HR,this.ssl=f0}else this.host=e.host,this.ssl=e.ssl??f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d4)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jM;switch(r.type){case"firstParty":return new $M(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h0.get(n);r&&(q("ComponentProvider","Removing Datastore"),h0.delete(n),r.terminate())}(this),Promise.resolve()}}function DF(t,e,n,r={}){var c;t=Jt(t,Th);const s=Fs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Jg(`https://${a}`),Zg("Firestore",!0)),i.host!==HR&&i.host!==a&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Ii(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=It.MOCK_USER;else{d=BS(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new It(p)}t._authCredentials=new FM(new Db(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eu(n,Be._jsonSchema))return new Be(e,r||null,new Q(Ie.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:et("string",Be._jsonSchemaVersion),referencePath:et("string")};class Cs extends Hs{constructor(e,n,r){super(e,n,fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new Q(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function na(t,e,...n){if(t=ke(t),Lb("collection","path",e),t instanceof Th){const r=Ie.fromString(e,...n);return RE(r),new Cs(t,null,r)}{if(!(t instanceof Be||t instanceof Cs))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return RE(r),new Cs(t.firestore,null,r)}}function Fn(t,e,...n){if(t=ke(t),arguments.length===1&&(e=py.newId()),Lb("doc","path",e),t instanceof Th){const r=Ie.fromString(e,...n);return bE(r),new Be(t,null,new Q(r))}{if(!(t instanceof Be||t instanceof Cs))throw new H(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return bE(r),new Be(t.firestore,t instanceof Cs?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class g0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bR(this,"async_queue_retry"),this._c=()=>{const r=Wf();r&&q(m0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;q(m0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",y0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Oy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function y0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Mr extends Th{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new g0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g0(e),this._firestoreClient=void 0,await e}}}function LF(t,e){const n=typeof t=="object"?t:ny(),r=typeof t=="string"?t:cd,s=sh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jS("firestore");i&&DF(s,...i)}return s}function Ih(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VF(t),t._firestoreClient}function VF(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,c,d){return new ij(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(vt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:et("string",wn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(eu(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:et("string",tr._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new nr(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:et("string",nr._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=/^__.*__$/;class jF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class qR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class $y{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WR(this.Ac)&&MF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Cc(e,n,r,s=!1){return new $y({Ac:e,methodName:n,Dc:r,path:gt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new FF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Hy("Data must be an object, but it was:",o,r);const a=GR(r,o);let u,c;if(i.merge)u=new sn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=Am(e,f,n);if(!o.contains(p))throw new H(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YR(d,p)||d.push(p)}u=new sn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new jF(new Wt(a),u,c)}class Rh extends Sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}class zy extends Sh{_toFieldTransform(e){return new Pj(e.path,new Dl)}isEqual(e){return e instanceof zy}}function UF(t,e,n,r){const s=t.Cc(1,e,n);Hy("Data must be an object, but it was:",s,r);const i=[],o=Wt.empty();$s(r,(u,c)=>{const d=qy(e,u,n);c=ke(c);const f=s.yc(d);if(c instanceof Rh)i.push(d);else{const p=iu(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new sn(i);return new qR(o,a,s.fieldTransforms)}function BF(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Am(e,r,n)],u=[s];if(i.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Am(e,i[p])),u.push(i[p+1]);const c=[],d=Wt.empty();for(let p=a.length-1;p>=0;--p)if(!YR(c,a[p])){const w=a[p];let v=u[p];v=ke(v);const S=o.yc(w);if(v instanceof Rh)c.push(w);else{const R=iu(v,S);R!=null&&(c.push(w),d.set(w,R))}}const f=new sn(c);return new qR(d,f,o.fieldTransforms)}function $F(t,e,n,r=!1){return iu(n,t.Cc(r?4:3,e))}function iu(t,e){if(QR(t=ke(t)))return Hy("Unsupported field value:",e,t),GR(t,e);if(t instanceof Sh)return function(r,s){if(!WR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=iu(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:pd(s.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pd(s.serializer,i)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wn)return{bytesValue:mR(s.serializer,r._byteString)};if(r instanceof Be){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nr)return function(o,a){return{mapValue:{fields:{[Hb]:{stringValue:qb},[dd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return _y(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${uh(r)}`)}(t,e)}function GR(t,e){const n={};return jb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,s)=>{const i=iu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function QR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof tr||t instanceof wn||t instanceof Be||t instanceof Sh||t instanceof nr)}function Hy(t,e,n){if(!QR(n)||!Vb(n)){const r=uh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Am(t,e,n){if((e=ke(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return qy(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const zF=new RegExp("[~\\*/\\[\\]]");function qy(t,e,n){if(e.search(zF)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new H(F.INVALID_ARGUMENT,a+t+u)}function YR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ah("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HF extends XR{data(){return super.data()}}function Ah(t,e){return typeof e=="string"?qy(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class ZR extends Wy{}function Ky(t,e,...n){let r=[];e instanceof Wy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Gy).length,a=i.filter(u=>u instanceof xh).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xh extends ZR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xh(e,n,r)}_apply(e){const n=this._parse(e);return t1(e._query,n),new Hs(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=bh(e.firestore);return function(i,o,a,u,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_0(f,d);const v=[];for(const S of f)v.push(v0(u,i,S));p={arrayValue:{values:v}}}else p=v0(u,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_0(f,d),p=$F(a,o,f,d==="in"||d==="not-in");return Ze.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function e1(t,e,n){const r=e,s=Ah("where",t);return xh._create(s,r,n)}class Gy extends Wy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)t1(o,u),o=ym(o,u)}(e._query,n),new Hs(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qy extends ZR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(i,o)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ea(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yy(t,e="asc"){const n=e,r=Ah("orderBy",t);return Qy._create(r,n)}function v0(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!Q.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LE(t,new Q(r))}if(n instanceof Be)return LE(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function _0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t1(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qF{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $s(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[dd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>We(o.doubleValue));return new nr(n)}convertGeoPoint(e){return new tr(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=ks(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);we(ER(r),9688,{name:e});const s=new Pl(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends XR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",hi._jsonSchema={type:et("string",hi._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Sc extends hi{data(e={}){return super.data(e)}}class fi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ha(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:WF(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){t=Jt(t,Be);const e=Jt(t.firestore,Mr);return NF(Ih(e),t._key).then(n=>s1(e,t,n))}fi._jsonSchemaVersion="firestore/querySnapshot/1.0",fi._jsonSchema={type:et("string",fi._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};class Xy extends qF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function KF(t){t=Jt(t,Hs);const e=Jt(t.firestore,Mr),n=Ih(e),r=new Xy(e);return JR(t._query),OF(n,t._query).then(s=>new fi(e,r,t,s))}function r1(t,e,n){t=Jt(t,Be);const r=Jt(t.firestore,Mr),s=n1(t.converter,e);return kh(r,[KR(bh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function Ed(t,e,n,...r){t=Jt(t,Be);const s=Jt(t.firestore,Mr),i=bh(s);let o;return o=typeof(e=ke(e))=="string"||e instanceof Ch?BF(i,"updateDoc",t._key,e,n,r):UF(i,"updateDoc",t._key,e),kh(s,[o.toMutation(t._key,En.exists(!0))])}function GF(t){return kh(Jt(t.firestore,Mr),[new Ey(t._key,En.none())])}function Jy(t,e){const n=Jt(t.firestore,Mr),r=Fn(t),s=n1(t.converter,e);return kh(n,[KR(bh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function Zy(t,...e){var u,c,d;t=ke(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||w0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(w0(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof Be)o=Jt(t.firestore,Mr),a=fh(t._key.path),i={next:f=>{e[r]&&e[r](s1(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Jt(t,Hs);o=Jt(f.firestore,Mr),a=f._query;const p=new Xy(o);i={next:w=>{e[r]&&e[r](new fi(o,p,f,w))},error:e[r+1],complete:e[r+2]},JR(t._query)}return function(p,w,v,S){const R=new By(S),_=new jy(w,R,v);return p.asyncQueue.enqueueAndForget(async()=>Ly(await wd(p),_)),()=>{R.Nu(),p.asyncQueue.enqueueAndForget(async()=>Vy(await wd(p),_))}}(Ih(o),a,s,i)}function kh(t,e){return function(r,s){const i=new Sr;return r.asyncQueue.enqueueAndForget(async()=>_F(await PF(r),s,i)),i.promise}(Ih(t),e)}function s1(t,e,n){const r=n.docs.get(e._key),s=new Xy(t);return new hi(t,s,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}function pi(){return new zy("serverTimestamp")}(function(e,n=!0){(function(s){Xo=s})(Oi),Ci(new As("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Mr(new UM(r.getProvider("auth-internal")),new zM(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xn(TE,IE,e),Xn(TE,IE,"esm2020")})();var QF="firebase",YF="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(QF,YF,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebasestorage.googleapis.com",o1="storageBucket",XF=2*60*1e3,JF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends ir{constructor(e,n,r=0){super(Gf(e),`Firebase Storage: ${n} (${Gf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Gf(t){return"storage/"+t}function ew(){const t="An unknown error occurred, please check the error payload for server response.";return new ze($e.UNKNOWN,t)}function ZF(t){return new ze($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eU(t){return new ze($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze($e.UNAUTHENTICATED,t)}function nU(){return new ze($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rU(t){return new ze($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sU(){return new ze($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iU(){return new ze($e.CANCELED,"User canceled the upload/download.")}function oU(t){return new ze($e.INVALID_URL,"Invalid URL '"+t+"'.")}function aU(t){return new ze($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lU(){return new ze($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o1+"' property when initializing the app?")}function uU(){return new ze($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cU(){return new ze($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dU(t){return new ze($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xm(t){return new ze($e.INVALID_ARGUMENT,t)}function a1(){return new ze($e.APP_DELETED,"The Firebase app was deleted.")}function hU(t){return new ze($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ol(t,e){return new ze($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Oa(t){throw new ze($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=on.makeFromUrl(e,n)}catch{return new on(e,"")}if(r.path==="")return r;throw aU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",w=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},S=n===i1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",_=new RegExp(`^https?://${S}/${s}/${R}`,"i"),C=[{regex:a,indices:u,postModify:i},{regex:w,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<C.length;O++){const j=C[O],V=j.regex.exec(e);if(V){const b=V[j.indices.bucket];let T=V[j.indices.path];T||(T=""),r=new on(b,T),j.postModify(r);break}}if(r==null)throw oU(e);return r}}class fU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...R){c||(c=!0,e.apply(null,R))}function f(R){s=setTimeout(()=>{s=null,t(w,u())},R)}function p(){i&&clearTimeout(i)}function w(R,..._){if(c){p();return}if(R){p(),d.call(null,R,..._);return}if(u()||o){p(),d.call(null,R,..._);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,f(C)}let v=!1;function S(R){v||(v=!0,p(),!c&&(s!==null?(R||(a=2),clearTimeout(s),f(0)):R||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,S(!0)},n),S}function mU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return t!==void 0}function yU(t){return typeof t=="object"&&!Array.isArray(t)}function tw(t){return typeof t=="string"||t instanceof String}function E0(t){return nw()&&t instanceof Blob}function nw(){return typeof Blob<"u"}function T0(t,e,n,r){if(r<e)throw xm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function l1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var mi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mi||(mi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,s,i,o,a,u,c,d,f,p=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,S)=>{this.resolve_=v,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Zu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===mi.NO_ERROR,u=i.getStatus();if(!a||wU(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===mi.ABORT;r(!1,new Zu(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Zu(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());gU(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=ew();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?a1():iU();o(u)}else{const u=sU();o(u)}};this.canceled_?n(!1,new Zu(!1,null,!0)):this.backoffId_=pU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _U(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CU(t,e,n,r,s,i,o=!0,a=!1){const u=l1(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return TU(d,e),_U(d,n),EU(d,i),IU(d,r),new vU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bU(...t){const e=SU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nw())return new Blob(t);throw new ze($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){if(typeof atob>"u")throw dU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qf{constructor(e,n){this.data=e,this.contentType=n||null}}function xU(t,e){switch(t){case Gn.RAW:return new Qf(u1(e));case Gn.BASE64:case Gn.BASE64URL:return new Qf(c1(t,e));case Gn.DATA_URL:return new Qf(PU(e),NU(e))}throw ew()}function u1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kU(t){let e;try{e=decodeURIComponent(t)}catch{throw ol(Gn.DATA_URL,"Malformed data URL.")}return u1(e)}function c1(t,e){switch(t){case Gn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ol(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Gn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ol(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AU(e)}catch(s){throw s.message.includes("polyfill")?s:ol(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class d1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ol(Gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PU(t){const e=new d1(t);return e.base64?c1(Gn.BASE64,e.rest):kU(e.rest)}function NU(t){return new d1(t).contentType}function OU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){let r=0,s="";E0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(E0(this.data_)){const r=this.data_,s=RU(r,e,n);return s===null?null:new os(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new os(r,!0)}}static getBlob(...e){if(nw()){const n=e.map(r=>r instanceof os?r.data_:r);return new os(bU.apply(null,n))}else{const n=e.map(o=>tw(o)?xU(Gn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new os(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){let e;try{e=JSON.parse(t)}catch{return null}return yU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function f1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e){return e}class Dt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||VU}}let ec=null;function MU(t){return!tw(t)||t.length<2?t:f1(t)}function p1(){if(ec)return ec;const t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(i,o){return MU(o)}const n=new Dt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Dt("size");return s.xform=r,t.push(s),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),ec=t,ec}function jU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new on(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function FU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return jU(r,t),r}function m1(t,e,n){const r=h1(e);return r===null?null:FU(t,r,n)}function UU(t,e,n,r){const s=h1(e);if(s===null||!tw(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),w=Ph(p,n,r),v=l1({alt:"media",token:c});return w+v})[0]}function BU(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class rw{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){if(!t)throw ew()}function $U(t,e){function n(r,s){const i=m1(t,s,e);return g1(i!==null),i}return n}function zU(t,e){function n(r,s){const i=m1(t,s,e);return g1(i!==null),UU(i,s,t.host,t._protocol)}return n}function y1(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=nU():s=tU():n.getStatus()===402?s=eU(t.bucket):n.getStatus()===403?s=rU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function w1(t){const e=y1(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=ZF(t.path)),i.serverResponse=s.serverResponse,i}return n}function HU(t,e,n){const r=e.fullServerUrl(),s=Ph(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new rw(s,i,zU(t,n),o);return a.errorHandler=w1(e),a}function qU(t,e){const n=e.fullServerUrl(),r=Ph(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,c){}const a=new rw(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=w1(e),a}function WU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function KU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=WU(null,e)),r}function GU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let C="";for(let O=0;O<2;O++)C=C+Math.random().toString().slice(2);return C}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=KU(e,r,s),d=BU(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+u+"--",w=os.getBlob(f,r,p);if(w===null)throw uU();const v={name:c.fullPath},S=Ph(i,t.host,t._protocol),R="POST",_=t.maxUploadRetryTime,E=new rw(S,R,$U(t,n),_);return E.urlParams=v,E.headers=o,E.body=w.uploadData(),E.errorHandler=y1(e),E}class QU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Oa("cannot .send() more than once");if(Fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YU extends QU{initXhr(){this.xhr_.responseType="text"}}function sw(){return new YU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xi(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return f1(this._location.path)}get storage(){return this._service}get parent(){const e=DU(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new xi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hU(e)}}function XU(t,e,n){t._throwIfRoot("uploadBytes");const r=GU(t.storage,t._location,p1(),new os(e,!0),n);return t.storage.makeRequestWithTokens(r,sw).then(s=>({metadata:s,ref:t}))}function JU(t){t._throwIfRoot("getDownloadURL");const e=HU(t.storage,t._location,p1());return t.storage.makeRequestWithTokens(e,sw).then(n=>{if(n===null)throw cU();return n})}function ZU(t){t._throwIfRoot("deleteObject");const e=qU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,sw)}function e3(t,e){const n=LU(t._location.path,e),r=new on(t._location.bucket,n);return new xi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return/^[A-Za-z]+:\/\//.test(t)}function n3(t,e){return new xi(t,e)}function v1(t,e){if(t instanceof iw){const n=t;if(n._bucket==null)throw lU();const r=new xi(n,n._bucket);return e!=null?v1(r,e):r}else return e!==void 0?e3(t,e):t}function r3(t,e){if(e&&t3(e)){if(t instanceof iw)return n3(t,e);throw xm("To use ref(service, url), the first argument must be a Storage instance.")}else return v1(t,e)}function I0(t,e){const n=e==null?void 0:e[o1];return n==null?null:on.makeFromBucketSpec(n,t)}function s3(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fs(e);s&&(Jg(`https://${t.host}/b`),Zg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BS(i,t.app.options.projectId))}class iw{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=i1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XF,this._maxUploadRetryTime=JF,this._requests=new Set,s!=null?this._bucket=on.makeFromBucketSpec(s,this._host):this._bucket=I0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=I0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new fU(a1());{const o=CU(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const C0="@firebase/storage",S0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="storage";function i3(t,e,n){return t=ke(t),XU(t,e,n)}function o3(t){return t=ke(t),JU(t)}function b0(t){return t=ke(t),ZU(t)}function Yf(t,e){return t=ke(t),r3(t,e)}function a3(t=ny(),e){t=ke(t);const r=sh(t,_1).getImmediate({identifier:e}),s=jS("storage");return s&&l3(r,...s),r}function l3(t,e,n,r={}){s3(t,e,n,r)}function u3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new iw(n,r,s,e,Oi)}function c3(){Ci(new As(_1,u3,"PUBLIC").setMultipleInstances(!0)),Xn(C0,S0,""),Xn(C0,S0,"esm2020")}c3();const d3={apiKey:"AIzaSyChSKQRju4JOYwoCDiDWwQB5S7EZmLOnJk",authDomain:"vianelo-26cd0.firebaseapp.com",projectId:"vianelo-26cd0",storageBucket:"vianelo-26cd0.firebasestorage.app",messagingSenderId:"643755407371",appId:"1:643755407371:web:9110dc4dd9b1764dd5af0e",measurementId:"G-50G9RN6JN0"},ow=HS(d3),Ml=lh(ow),bt=LF(ow),Xf=a3(ow),E1=y.createContext(null),aw=()=>y.useContext(E1);function h3({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(!1);y.useEffect(()=>mb(Ml,async c=>{var d;if(n(c),c)try{const f=await _d(Fn(bt,"roles",c.uid));o(f.exists()&&((d=f.data())==null?void 0:d.role)==="admin")}catch(f){console.error("Error leyendo rol:",f),o(!1)}else o(!1);s(!1)}),[]);const a=async()=>{await bV(Ml)};return m.jsx(E1.Provider,{value:{user:e,loading:r,isAdmin:i,logout:a},children:!r&&t})}function f3(){const{user:t,logout:e,isAdmin:n}=aw(),r=async()=>{await e()};return m.jsx(Wu,{expand:"lg",className:"shadow-sm bg-white",sticky:"top",children:m.jsxs(Le,{children:[m.jsx(Wu.Brand,{as:$t,to:"/",className:"d-flex align-items-center",children:m.jsx("img",{src:"/logo.png",alt:"Vianelo",height:"44"})}),m.jsx(Wu.Toggle,{"aria-controls":"nav"}),m.jsx(Wu.Collapse,{id:"nav",children:m.jsxs(Js,{className:"ms-auto align-items-center",children:[m.jsx(Js.Link,{as:$t,to:"/menu",children:"Men"}),m.jsx(Js.Link,{as:$t,to:"/sucursales",children:"Sucursales"}),m.jsx(Js.Link,{href:"https://wa.me/5216671234567?text=Hola%20me%20interesa%20tu%20servicio",target:"_blank",children:"Contacto"}),m.jsx(Js.Link,{as:$t,to:"/mis-pedidos",children:"Mis Pedidos"}),m.jsx(Js.Link,{as:$t,to:"/cart",children:"Carrito "}),n&&m.jsx(Js.Link,{as:$t,to:"/admin",className:"fw-semibold text-danger",children:"Panel Admin"}),t?m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"ms-3 me-2 text-secondary small",children:[" ",(t==null?void 0:t.displayName)||(t==null?void 0:t.email)]}),m.jsx(De,{variant:"outline-danger",size:"sm",onClick:r,children:"Cerrar sesin"})]}):m.jsx(De,{as:$t,to:"/login",variant:"outline-primary",size:"sm",className:"ms-2",children:"Iniciar Sesin"})]})})]})})}const T1=y.createContext(null);function Nh(){const t=y.useContext(T1);if(!t)throw new Error("useCart debe usarse dentro de un <CartProvider>");return t}const R0="cart_vianelo";function p3({children:t}){const[e,n]=y.useState([]),[r,s]=y.useState(null);y.useEffect(()=>{try{const v=JSON.parse(localStorage.getItem(R0)||"[]");n(v)}catch(v){console.error("Error leyendo carrito de localStorage",v)}},[]),y.useEffect(()=>{localStorage.setItem(R0,JSON.stringify(e))},[e]);function i(v,S=1){!v||!v.id||(n(R=>{const _=R.findIndex(E=>E.id===v.id);if(_>=0){const E=[...R];return E[_]={...E[_],qty:E[_].qty+S},E}return[...R,{id:v.id,name:v.name,price:Number(v.price)||0,imageUrl:v.imageUrl||"",qty:S}]}),s({id:v.id,name:v.name,price:Number(v.price)||0,imageUrl:v.imageUrl||""}),setTimeout(()=>s(null),2500))}function o(v){n(S=>S.filter(R=>R.id!==v))}function a(v,S){const R=Number(S);n(_=>_.map(E=>E.id===v?{...E,qty:R}:E).filter(E=>E.qty>0))}function u(v){n(S=>S.map(R=>R.id===v?{...R,qty:R.qty+1}:R))}function c(v){n(S=>S.map(R=>R.id===v?{...R,qty:R.qty-1}:R).filter(R=>R.qty>0))}function d(){n([])}const f=y.useMemo(()=>e.reduce((v,S)=>v+S.price*S.qty,0),[e]),p=y.useMemo(()=>e.reduce((v,S)=>v+S.qty,0),[e]),w={items:e,addToCart:i,removeFromCart:o,updateQty:a,increaseQty:u,decreaseQty:c,clearCart:d,total:f,count:p,lastAdded:r};return m.jsx(T1.Provider,{value:w,children:t})}function I1({item:t}){const{addToCart:e}=Nh(),[n,r]=y.useState(!1),s=qo(),i=Number(t.stock)<=0;function o(){if(i)return;if(!lh().currentUser){s("/login");return}e(t,1),r(!0),setTimeout(()=>r(!1),180)}return m.jsxs(_e,{className:`h-100 product-card ${n?"press":""}`,children:[m.jsxs("div",{className:"position-relative overflow-hidden rounded-3",children:[m.jsx(_e.Img,{variant:"top",src:t.imageUrl||"/placeholder.jpg",className:"product-img"}),i&&m.jsx("span",{className:"badge bg-danger position-absolute top-0 start-0 m-2",children:"Agotado"})]}),m.jsxs(_e.Body,{className:"d-flex flex-column",children:[m.jsx(_e.Title,{children:t.name}),m.jsx(_e.Text,{className:"text-muted small",children:t.description}),m.jsxs("div",{className:"mt-auto d-flex justify-content-between align-items-center",children:[m.jsxs("span",{className:"price fw-semibold",children:["$",Number(t.price).toFixed(2)," MXN"]}),m.jsx(De,{id:"btn-add",variant:"primary",disabled:i,onClick:o,children:i?"No disponible":"Agregar"})]})]})]})}function lw(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(null),o=na(bt,"products");y.useEffect(()=>{const p=Zy(o,w=>{const v=w.docs.map(S=>({id:S.id,...S.data()}));e(v),r(!1)},w=>{console.error("onSnapshot error(products):",w),i(w),r(!1)});return()=>p()},[]);function a(p=""){return p.replace(/\s+/g,"_").replace(/[^\w.\-]/g,"")}async function u(p,w){if(!p)return{imageUrl:null,imagePath:null};if(w)try{await b0(Yf(Xf,w))}catch(E){console.warn("No se pudo borrar imagen previa:",w,E==null?void 0:E.code)}const v=a(p.name),S=`products/${Date.now()}_${v}`,R=Yf(Xf,S);return await i3(R,p),{imageUrl:await o3(R),imagePath:S}}async function c(p,w){try{const{imageUrl:v,imagePath:S}=await u(w);await Jy(o,{name:p.name||"",description:p.description||"",category:p.category||"",price:Number(p.price??0),stock:Number(p.stock??0),isActive:p.isActive??!0,imageUrl:v||"",imagePath:S||"",createdAt:pi(),updatedAt:pi()})}catch(v){throw console.error("createProduct error:",v),i(v),v}}async function d(p,w,v,S){try{const R=Fn(bt,"products",p),_={name:w.name??"",description:w.description??"",category:w.category??"",price:Number(w.price??0),stock:Number(w.stock??0),isActive:w.isActive??!0,updatedAt:pi()};if(v){const{imageUrl:E,imagePath:C}=await u(v,S);_.imageUrl=E||"",_.imagePath=C||""}await Ed(R,_)}catch(R){throw console.error("updateProduct error:",R),i(R),R}}async function f(p,w){try{if(await GF(Fn(bt,"products",p)),w)try{await b0(Yf(Xf,w))}catch(v){console.warn("No se pudo borrar la imagen asociada:",w,v==null?void 0:v.code)}}catch(v){throw console.error("removeProduct error:",v),i(v),v}}return{products:t,loading:n,error:s,createProduct:c,updateProduct:d,removeProduct:f}}function m3(){const{products:t,loading:e}=lw(),r=t.filter(s=>s.isActive!==!1).filter(s=>s.featured);return e?m.jsx(Le,{className:"py-5 text-center",children:m.jsx("h4",{children:"Cargando productos..."})}):m.jsxs("main",{children:[m.jsx("section",{id:"home",className:"hero",children:m.jsx(Le,{children:m.jsx(un,{className:"justify-content-center",children:m.jsxs(Ke,{lg:8,children:[m.jsx("h1",{className:"display-5 fw-bold",children:"Antojos dementes, corazn y ensueo"}),m.jsx("p",{className:"lead",children:"Disfruta nuestras versiones de clsicos y experimentos repostero-gastronmicos."})]})})})}),m.jsx("section",{id:"destacados",className:"py-5",children:m.jsxs(Le,{children:[m.jsx("h2",{className:"section-title text-center mb-4 text-light",children:"Destacados"}),m.jsx(un,{className:"g-3",children:r.map(s=>m.jsx(Ke,{md:4,children:m.jsx(I1,{item:s})},s.id))}),m.jsx("div",{className:"text-center mt-4",children:m.jsx(TC,{to:"/menu",className:"text-decoration-none",children:m.jsx(De,{variant:"outline-light",size:"lg",className:"px-4",children:"Ver men completo"})})})]})})]})}function g3(){const{products:t,loading:e}=lw();if(e)return m.jsx(Le,{className:"py-5 text-center",children:m.jsx("h4",{className:"text-light",children:"Cargando men..."})});if(!t||!t.length)return m.jsx(Le,{className:"py-5 text-center",children:m.jsx("h4",{className:"text-light",children:"No hay productos en el men."})});const n=t.filter(i=>i.isActive!==!1);if(!n.length)return m.jsx(Le,{className:"py-5 text-center",children:m.jsx("h4",{className:"text-light",children:"No hay productos activos en el men."})});const r=n.map(i=>({...i,category:i.category||"Otros"})),s=Array.from(new Set(r.map(i=>i.category)));return m.jsx("main",{className:"py-5",children:m.jsxs(Le,{children:[m.jsx("h1",{className:"text-center mb-5 text-light",children:"Men completo"}),s.map(i=>{const o=r.filter(a=>a.category===i);return m.jsxs("section",{className:"mb-5",children:[m.jsx("h2",{className:"h4 text-light mb-3",children:i}),m.jsx(un,{className:"g-3",children:o.map(a=>m.jsx(Ke,{md:3,sm:6,children:m.jsx(I1,{item:a})},a.id))})]},i)})]})})}function y3(){const[t,e]=y.useState({email:"",password:""}),[n,r]=y.useState({}),[s,i]=y.useState(!1),[o,a]=y.useState(""),u=qo(),c=v=>{const{name:S,value:R}=v.target;e(_=>({..._,[S]:R})),a(""),n[S]&&r(_=>({..._,[S]:""}))},d=()=>{const v={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(v.email="Email invlido"):v.email="El email es requerido",t.password||(v.password="La contrasea es requerida"),v};async function f(v){try{const R=(await _d(Fn(bt,"roles",v.uid))).data()||{};console.log("ROLE DATA:",R),R.role==="admin"?u("/admin"):R.role==="branch"&&R.branchId?u(`/sucursal/${R.branchId}`):u("/")}catch(S){console.error("Error leyendo rol del usuario:",S),u("/")}}const p=async v=>{v.preventDefault();const S=d();if(Object.keys(S).length>0)return r(S);i(!0),a("");try{const _=(await EV(Ml,t.email,t.password)).user;await f(_)}catch(R){switch(console.error("Error al iniciar sesin:",R),R.code){case"auth/invalid-credential":a("Credenciales incorrectas");break;case"auth/user-not-found":a("No existe una cuenta con este email");break;case"auth/wrong-password":a("Contrasea incorrecta");break;case"auth/too-many-requests":a("Demasiados intentos. Intenta ms tarde");break;default:a("Error al iniciar sesin")}}finally{i(!1)}},w=async()=>{i(!0),a("");try{const v=new mr,R=(await WV(Ml,v)).user,_=Fn(bt,"roles",R.uid);(await _d(_)).exists()||await r1(_,{role:"user",createdAt:new Date}),await f(R)}catch(v){console.error("Error con Google:",v),a("Error al iniciar sesin con Google")}finally{i(!1)}};return m.jsx(Le,{fluid:!0,className:"min-vh-100 d-flex align-items-center justify-content-center login-bg",children:m.jsx(un,{className:"w-100 justify-content-center",children:m.jsx(Ke,{xs:12,sm:8,md:6,lg:4,children:m.jsx(_e,{className:"shadow-lg border-0 login-card",children:m.jsxs(_e.Body,{className:"p-5",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h2",{className:"fw-bold login-title",children:"Iniciar Sesin"}),m.jsx("p",{className:"login-subtitle",children:"Bienvenido de vuelta"})]}),o&&m.jsx(bl,{variant:"danger",children:o}),m.jsxs(Y,{onSubmit:p,children:[m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Email"}),m.jsx(Y.Control,{type:"email",name:"email",value:t.email,onChange:c,isInvalid:!!n.email,placeholder:"Correo electrnico"})]}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.email}),m.jsxs(Y.Group,{className:"mb-4",children:[m.jsx(Y.Label,{children:"Contrasea"}),m.jsx(Y.Control,{type:"password",name:"password",value:t.password,onChange:c,isInvalid:!!n.password,placeholder:"Contrasea"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.password})]}),m.jsx(De,{type:"submit",className:"w-100 py-2 mb-3 btn-login",disabled:s,children:s?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{as:"span",animation:"border",size:"sm",className:"me-2"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]}),m.jsx("div",{className:"text-center mb-3 divider-text",children:"o"}),m.jsxs(De,{className:"w-100 py-2 mb-3 btn-google",variant:"outline-danger",onClick:w,disabled:s,children:[m.jsx("i",{className:"bi bi-google me-2"})," Continuar con Google"]}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"mb-0",children:["No tienes cuenta?"," ",m.jsx($t,{to:"/register",className:"text-decoration-none login-link",children:"Regstrate aqu"})]})})]})})})})})}/*!
* sweetalert2 v11.26.17
* Released under the MIT License.
*/function C1(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function w3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A0(t,e){return t.get(C1(t,e))}function v3(t,e,n){w3(t,e),e.set(t,n)}function _3(t,e,n){return t.set(C1(t,e),n),n}const E3=100,K={},T3=()=>{K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus()},I3=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;K.restoreFocusTimeout=setTimeout(()=>{T3(),e()},E3),window.scrollTo(n,r)}),S1="swal2-",C3=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],M=C3.reduce((t,e)=>(t[e]=S1+e,t),{}),S3=["success","warning","info","question","error"],Td=S3.reduce((t,e)=>(t[e]=S1+e,t),{}),b1="SweetAlert2:",uw=t=>t.charAt(0).toUpperCase()+t.slice(1),Mt=t=>{console.warn(`${b1} ${typeof t=="object"?t.join(" "):t}`)},Vi=t=>{console.error(`${b1} ${t}`)},x0=[],b3=t=>{x0.includes(t)||(x0.push(t),Mt(t))},R1=(t,e=null)=>{b3(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Oh=t=>typeof t=="function"?t():t,cw=t=>t&&typeof t.toPromise=="function",ou=t=>cw(t)?t.toPromise():Promise.resolve(t),dw=t=>t&&Promise.resolve(t)===t,Ut=()=>document.body.querySelector(`.${M.container}`),au=t=>{const e=Ut();return e?e.querySelector(t):null},pn=t=>au(`.${t}`),ge=()=>pn(M.popup),ra=()=>pn(M.icon),R3=()=>pn(M["icon-content"]),A1=()=>pn(M.title),hw=()=>pn(M["html-container"]),x1=()=>pn(M.image),fw=()=>pn(M["progress-steps"]),Dh=()=>pn(M["validation-message"]),sr=()=>au(`.${M.actions} .${M.confirm}`),sa=()=>au(`.${M.actions} .${M.cancel}`),Mi=()=>au(`.${M.actions} .${M.deny}`),A3=()=>pn(M["input-label"]),ia=()=>au(`.${M.loader}`),lu=()=>pn(M.actions),k1=()=>pn(M.footer),Lh=()=>pn(M["timer-progress-bar"]),pw=()=>pn(M.close),x3=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,mw=()=>{const t=ge();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const a=parseInt(i.getAttribute("tabindex")||"0"),u=parseInt(o.getAttribute("tabindex")||"0");return a>u?1:a<u?-1:0}),r=t.querySelectorAll(x3),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>Zt(i))},gw=()=>br(document.body,M.shown)&&!br(document.body,M["toast-shown"])&&!br(document.body,M["no-backdrop"]),Vh=()=>{const t=ge();return t?br(t,M.toast):!1},k3=()=>{const t=ge();return t?t.hasAttribute("data-loading"):!1},mn=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},br=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},P3=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(M).includes(n)&&!Object.values(Td).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},cn=(t,e,n)=>{if(P3(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Mt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}me(t,r)}},Mh=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${M.popup} > .${M[e]}`);case"checkbox":return t.querySelector(`.${M.popup} > .${M.checkbox} input`);case"radio":return t.querySelector(`.${M.popup} > .${M.radio} input:checked`)||t.querySelector(`.${M.popup} > .${M.radio} input:first-child`);case"range":return t.querySelector(`.${M.popup} > .${M.range} input`);default:return t.querySelector(`.${M.popup} > .${M.input}`)}},P1=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},N1=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},me=(t,e)=>{N1(t,e,!0)},bn=(t,e)=>{N1(t,e,!1)},cs=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&br(s,e))return s}},gi=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},dt=(t,e="flex")=>{t&&(t.style.display=e)},xt=t=>{t&&(t.style.display="none")},yw=(t,e="block")=>{t&&new MutationObserver(()=>{uu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},k0=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},uu=(t,e,n="flex")=>{e?dt(t,n):xt(t)},Zt=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),N3=()=>!Zt(sr())&&!Zt(Mi())&&!Zt(sa()),km=t=>t.scrollHeight>t.clientHeight,O3=(t,e)=>{let n=t;for(;n&&n!==e;){if(km(n))return!0;n=n.parentElement}return!1},O1=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ww=(t,e=!1)=>{const n=Lh();n&&Zt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},D3=()=>{const t=Lh();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},L3=()=>typeof window>"u"||typeof document>"u",V3=`
 <div aria-labelledby="${M.title}" aria-describedby="${M["html-container"]}" class="${M.popup}" tabindex="-1">
   <button type="button" class="${M.close}"></button>
   <ul class="${M["progress-steps"]}"></ul>
   <div class="${M.icon}"></div>
   <img class="${M.image}" />
   <h2 class="${M.title}" id="${M.title}"></h2>
   <div class="${M["html-container"]}" id="${M["html-container"]}"></div>
   <input class="${M.input}" id="${M.input}" />
   <input type="file" class="${M.file}" />
   <div class="${M.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${M.select}" id="${M.select}"></select>
   <div class="${M.radio}"></div>
   <label class="${M.checkbox}">
     <input type="checkbox" id="${M.checkbox}" />
     <span class="${M.label}"></span>
   </label>
   <textarea class="${M.textarea}" id="${M.textarea}"></textarea>
   <div class="${M["validation-message"]}" id="${M["validation-message"]}"></div>
   <div class="${M.actions}">
     <div class="${M.loader}"></div>
     <button type="button" class="${M.confirm}"></button>
     <button type="button" class="${M.deny}"></button>
     <button type="button" class="${M.cancel}"></button>
   </div>
   <div class="${M.footer}"></div>
   <div class="${M["timer-progress-bar-container"]}">
     <div class="${M["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),M3=()=>{const t=Ut();return t?(t.remove(),bn([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},Zs=()=>{K.currentInstance&&K.currentInstance.resetValidationMessage()},j3=()=>{const t=ge();if(!t)return;const e=cs(t,M.input),n=cs(t,M.file),r=t.querySelector(`.${M.range} input`),s=t.querySelector(`.${M.range} output`),i=cs(t,M.select),o=t.querySelector(`.${M.checkbox} input`),a=cs(t,M.textarea);e&&(e.oninput=Zs),n&&(n.onchange=Zs),i&&(i.onchange=Zs),o&&(o.onchange=Zs),a&&(a.oninput=Zs),r&&s&&(r.oninput=()=>{Zs(),s.value=r.value},r.onchange=()=>{Zs(),s.value=r.value})},F3=t=>{if(typeof t=="string"){const e=document.querySelector(t);if(!e)throw new Error(`Target element "${t}" not found`);return e}return t},U3=t=>{const e=ge();e&&(e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true"))},B3=t=>{window.getComputedStyle(t).direction==="rtl"&&(me(Ut(),M.rtl),K.isRTL=!0)},$3=t=>{const e=M3();if(L3()){Vi("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=M.container,e&&me(n,M["no-transition"]),mn(n,V3),n.dataset.swal2Theme=t.theme;const r=F3(t.target||"body");r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),U3(t),B3(r),j3()},vw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?z3(t,e):t&&mn(e,t)},z3=(t,e)=>{"jquery"in t?H3(e,t):mn(e,t.toString())},H3=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},q3=(t,e)=>{const n=lu(),r=ia();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?xt(n):dt(n),cn(n,e,"actions"),W3(n,r,e),mn(r,e.loaderHtml||""),cn(r,e,"loader"))};function W3(t,e,n){const r=sr(),s=Mi(),i=sa();!r||!s||!i||(Zf(r,"confirm",n),Zf(s,"deny",n),Zf(i,"cancel",n),K3(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function K3(t,e,n,r){if(!r.buttonsStyling){bn([t,e,n],M.styled);return}me([t,e,n],M.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Jf(t),Jf(e),Jf(n)}function Jf(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Zf(t,e,n){const r=uw(e);uu(t,n[`show${r}Button`],"inline-block"),mn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=M[e],cn(t,n,`${e}Button`)}const G3=(t,e)=>{const n=pw();n&&(mn(n,e.closeButtonHtml||""),cn(n,e,"closeButton"),uu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Q3=(t,e)=>{const n=Ut();n&&(Y3(n,e.backdrop),X3(n,e.position),J3(n,e.grow),cn(n,e,"container"))};function Y3(t,e){typeof e=="string"?t.style.background=e:e||me([document.documentElement,document.body],M["no-backdrop"])}function X3(t,e){e&&(e in M?me(t,M[e]):(Mt('The "position" parameter is not valid, defaulting to "center"'),me(t,M.center)))}function J3(t,e){e&&me(t,M[`grow-${e}`])}var Se={innerParams:new WeakMap,domCache:new WeakMap};const Z3=["input","file","range","select","radio","checkbox","textarea"],e5=(t,e)=>{const n=ge();if(!n)return;const r=Se.innerParams.get(t),s=!r||e.input!==r.input;Z3.forEach(i=>{const o=cs(n,M[i]);o&&(r5(i,e.inputAttributes),o.className=M[i],s&&xt(o))}),e.input&&(s&&t5(e),s5(e))},t5=t=>{if(!t.input)return;if(!qe[t.input]){Vi(`Unexpected type of input! Expected ${Object.keys(qe).join(" | ")}, got "${t.input}"`);return}const e=D1(t.input);if(!e)return;const n=qe[t.input](e,t);dt(e),t.inputAutoFocus&&setTimeout(()=>{P1(n)})},n5=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},r5=(t,e)=>{const n=ge();if(!n)return;const r=Mh(n,t);if(r){n5(r);for(const s in e)r.setAttribute(s,e[s])}},s5=t=>{if(!t.input)return;const e=D1(t.input);e&&cn(e,t,"input")},_w=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},cu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=M["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&me(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},D1=t=>{const e=ge();if(e)return cs(e,M[t]||M.input)},Id=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dw(e)||Mt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},qe={};qe.text=qe.email=qe.password=qe.number=qe.tel=qe.url=qe.search=qe.date=qe["datetime-local"]=qe.time=qe.week=qe.month=(t,e)=>{const n=t;return Id(n,e.inputValue),cu(n,n,e),_w(n,e),n.type=e.input,n};qe.file=(t,e)=>{const n=t;return cu(n,n,e),_w(n,e),n};qe.range=(t,e)=>{const n=t,r=n.querySelector("input"),s=n.querySelector("output");return r&&(Id(r,e.inputValue),r.type=e.input,cu(r,t,e)),s&&Id(s,e.inputValue),t};qe.select=(t,e)=>{const n=t;if(n.textContent="",e.inputPlaceholder){const r=document.createElement("option");mn(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,n.appendChild(r)}return cu(n,n,e),n};qe.radio=t=>{const e=t;return e.textContent="",t};qe.checkbox=(t,e)=>{const n=ge();if(!n)throw new Error("Popup not found");const r=Mh(n,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!e.inputValue;const i=t.querySelector("span");if(i){const o=e.inputPlaceholder||e.inputLabel;o&&mn(i,o)}return r};qe.textarea=(t,e)=>{const n=t;Id(n,e.inputValue),_w(n,e),cu(n,n,e);const r=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=ge();if(!s)return;const i=parseInt(window.getComputedStyle(s).width),o=()=>{if(!document.body.contains(n))return;const a=n.offsetWidth+r(n),u=ge();u&&(a>i?u.style.width=`${a}px`:gi(u,"width",e.width))};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const i5=(t,e)=>{const n=hw();n&&(yw(n),cn(n,e,"htmlContainer"),e.html?(vw(e.html,n),dt(n,"block")):e.text?(n.textContent=e.text,dt(n,"block")):xt(n),e5(t,e))},o5=(t,e)=>{const n=k1();n&&(yw(n),uu(n,!!e.footer,"block"),e.footer&&vw(e.footer,n),cn(n,e,"footer"))},a5=(t,e)=>{const n=Se.innerParams.get(t),r=ra();if(!r)return;if(n&&e.icon===n.icon){N0(r,e),P0(r,e);return}if(!e.icon&&!e.iconHtml){xt(r);return}if(e.icon&&Object.keys(Td).indexOf(e.icon)===-1){Vi(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),xt(r);return}dt(r),N0(r,e),P0(r,e),me(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",L1)},P0=(t,e)=>{for(const[n,r]of Object.entries(Td))e.icon!==n&&bn(t,r);me(t,e.icon&&Td[e.icon]),c5(t,e),L1(),cn(t,e,"icon")},L1=()=>{const t=ge();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},l5=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,u5=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,N0=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=O0(e.iconHtml):e.icon==="success"?(r=l5(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=u5:e.icon&&(r=O0({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&mn(t,r)},c5=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])k0(t,n,"background-color",e.iconColor);k0(t,".swal2-success-ring","border-color",e.iconColor)}},O0=t=>`<div class="${M["icon-content"]}">${t}</div>`,d5=(t,e)=>{const n=x1();if(n){if(!e.imageUrl){xt(n);return}dt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),gi(n,"width",e.imageWidth),gi(n,"height",e.imageHeight),n.className=M.image,cn(n,e,"image")}};let Ew=!1,V1=0,M1=0,j1=0,F1=0;const h5=t=>{t.addEventListener("mousedown",Cd),document.body.addEventListener("mousemove",Sd),t.addEventListener("mouseup",bd),t.addEventListener("touchstart",Cd),document.body.addEventListener("touchmove",Sd),t.addEventListener("touchend",bd)},f5=t=>{t.removeEventListener("mousedown",Cd),document.body.removeEventListener("mousemove",Sd),t.removeEventListener("mouseup",bd),t.removeEventListener("touchstart",Cd),document.body.removeEventListener("touchmove",Sd),t.removeEventListener("touchend",bd)},Cd=t=>{const e=ge();if(!e)return;const n=ra();if(t.target===e||n&&n.contains(t.target)){Ew=!0;const r=U1(t);V1=r.clientX,M1=r.clientY,j1=parseInt(e.style.insetInlineStart)||0,F1=parseInt(e.style.insetBlockStart)||0,me(e,"swal2-dragging")}},Sd=t=>{const e=ge();if(e&&Ew){let{clientX:n,clientY:r}=U1(t);const s=n-V1;e.style.insetInlineStart=`${j1+(K.isRTL?-s:s)}px`,e.style.insetBlockStart=`${F1+(r-M1)}px`}},bd=()=>{const t=ge();Ew=!1,bn(t,"swal2-dragging")},U1=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},p5=(t,e)=>{const n=Ut(),r=ge();if(!(!n||!r)){if(e.toast){gi(n,"width",e.width),r.style.width="100%";const s=ia();s&&r.insertBefore(s,ra())}else gi(r,"width",e.width);gi(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),xt(Dh()),m5(r,e),e.draggable&&!e.toast?(me(r,M.draggable),h5(r)):(bn(r,M.draggable),f5(r))}},m5=(t,e)=>{const n=e.showClass||{};t.className=`${M.popup} ${Zt(t)?n.popup:""}`,e.toast?(me([document.documentElement,document.body],M["toast-shown"]),me(t,M.toast)):me(t,M.modal),cn(t,e,"popup"),typeof e.customClass=="string"&&me(t,e.customClass),e.icon&&me(t,M[`icon-${e.icon}`])},g5=(t,e)=>{const n=fw();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){xt(n);return}dt(n),n.textContent="",s>=r.length&&Mt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const a=y5(i);if(n.appendChild(a),o===s&&me(a,M["active-progress-step"]),o!==r.length-1){const u=w5(e);n.appendChild(u)}})},y5=t=>{const e=document.createElement("li");return me(e,M["progress-step"]),mn(e,t),e},w5=t=>{const e=document.createElement("li");return me(e,M["progress-step-line"]),t.progressStepsDistance&&gi(e,"width",t.progressStepsDistance),e},v5=(t,e)=>{const n=A1();n&&(yw(n),uu(n,!!(e.title||e.titleText),"block"),e.title&&vw(e.title,n),e.titleText&&(n.innerText=e.titleText),cn(n,e,"title"))},B1=(t,e)=>{var n;p5(t,e),Q3(t,e),g5(t,e),a5(t,e),d5(t,e),v5(t,e),G3(t,e),i5(t,e),q3(t,e),o5(t,e);const r=ge();typeof e.didRender=="function"&&r&&e.didRender(r),(n=K.eventEmitter)===null||n===void 0||n.emit("didRender",r)},_5=()=>Zt(ge()),$1=()=>{var t;return(t=sr())===null||t===void 0?void 0:t.click()},E5=()=>{var t;return(t=Mi())===null||t===void 0?void 0:t.click()},T5=()=>{var t;return(t=sa())===null||t===void 0?void 0:t.click()},oa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),z1=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const e=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",e,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},I5=(t,e,n)=>{if(z1(t),!e.toast){const r=i=>S5(e,i,n);t.keydownHandler=r;const s=e.keydownListenerCapture?window:ge();if(s){t.keydownTarget=s,t.keydownListenerCapture=e.keydownListenerCapture;const i=r;t.keydownTarget.addEventListener("keydown",i,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},Pm=(t,e)=>{var n;const r=mw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ge())===null||n===void 0||n.focus()},H1=["ArrowRight","ArrowDown"],C5=["ArrowLeft","ArrowUp"],S5=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?b5(e,t):e.key==="Tab"?R5(e):[...H1,...C5].includes(e.key)?A5(e.key):e.key==="Escape"&&x5(e,t,n)))},b5=(t,e)=>{if(!Oh(e.allowEnterKey))return;const n=ge();if(!n||!e.input)return;const r=Mh(n,e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;$1(),t.preventDefault()}},R5=t=>{const e=t.target,n=mw();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?Pm(r,-1):Pm(r,1),t.stopPropagation(),t.preventDefault()},A5=t=>{const e=lu(),n=sr(),r=Mi(),s=sa();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=H1.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let u=0;u<e.children.length;u++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&Zt(a))break}a instanceof HTMLButtonElement&&a.focus()}},x5=(t,e,n)=>{t.preventDefault(),Oh(e.allowEscapeKey)&&n(oa.esc)};var Mo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const k5=()=>{const t=Ut();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},q1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},W1=typeof window<"u"&&!!window.GestureEvent,P5=()=>{if(W1&&!br(document.body,M.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,me(document.body,M.iosfix),N5()}},N5=()=>{const t=Ut();if(!t)return;let e;t.ontouchstart=n=>{e=O5(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},O5=t=>{const e=t.target,n=Ut(),r=hw();return!n||!r||D5(t)||L5(t)?!1:e===n||!km(n)&&e instanceof HTMLElement&&!O3(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(km(r)&&r.contains(e))},D5=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),L5=t=>t.touches&&t.touches.length>1,V5=()=>{if(br(document.body,M.iosfix)){const t=parseInt(document.body.style.top,10);bn(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},M5=()=>{const t=document.createElement("div");t.className=M["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Eo=null;const j5=t=>{Eo===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Eo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Eo+M5()}px`)},F5=()=>{Eo!==null&&(document.body.style.paddingRight=`${Eo}px`,Eo=null)};function K1(t,e,n,r){Vh()?D0(t,r):(I3(n).then(()=>D0(t,r)),z1(K)),W1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),gw()&&(F5(),V5(),q1()),U5()}function U5(){bn([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function ds(t){t=$5(t);const e=Mo.swalPromiseResolve.get(this),n=B5(this);this.isAwaitingPromise?t.isDismissed||(du(this),e(t)):n&&e(t)}const B5=t=>{const e=ge();if(!e)return!1;const n=Se.innerParams.get(t);if(!n||br(e,n.hideClass.popup))return!1;bn(e,n.showClass.popup),me(e,n.hideClass.popup);const r=Ut();return bn(r,n.showClass.backdrop),me(r,n.hideClass.backdrop),z5(t,e,n),!0};function G1(t){const e=Mo.swalPromiseReject.get(this);du(this),e&&e(t)}const du=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Se.innerParams.get(t)||t._destroy())},$5=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),z5=(t,e,n)=>{var r;const s=Ut(),i=O1(e);typeof n.willClose=="function"&&n.willClose(e),(r=K.eventEmitter)===null||r===void 0||r.emit("willClose",e),i&&s?H5(t,e,s,!!n.returnFocus,n.didClose):s&&K1(t,s,!!n.returnFocus,n.didClose)},H5=(t,e,n,r,s)=>{K.swalCloseEventFinishedCallback=K1.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var a;(a=K.swalCloseEventFinishedCallback)===null||a===void 0||a.call(K),delete K.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},D0=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=K.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},jo=t=>{let e=ge();if(e||new Pd,e=ge(),!e)return;const n=ia();Vh()?xt(ra()):q5(e,t),dt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},q5=(t,e)=>{const n=lu(),r=ia();!n||!r||(!e&&Zt(sr())&&(e=sr()),dt(n),e&&(xt(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),me([t,n],M.loading))},W5=(t,e)=>{e.input==="select"||e.input==="radio"?X5(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(cw(e.inputValue)||dw(e.inputValue))&&(jo(sr()),J5(t,e))},K5=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return G5(n);case"radio":return Q5(n);case"file":return Y5(n);default:return e.inputAutoTrim?n.value.trim():n.value}},G5=t=>t.checked?1:0,Q5=t=>t.checked?t.value:null,Y5=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,X5=(t,e)=>{const n=ge();if(!n)return;const r=s=>{e.input==="select"?Z5(n,Rd(s),e):e.input==="radio"&&e6(n,Rd(s),e)};cw(e.inputOptions)||dw(e.inputOptions)?(jo(sr()),ou(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):Vi(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},J5=(t,e)=>{const n=t.getInput();n&&(xt(n),ou(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,dt(n),n.focus(),t.hideLoading()}).catch(r=>{Vi(`Error in inputValue promise: ${r}`),n.value="",dt(n),n.focus(),t.hideLoading()}))};function Z5(t,e,n){const r=cs(t,M.select);if(!r)return;const s=(i,o,a)=>{const u=document.createElement("option");u.value=a,mn(u,o),u.selected=Q1(a,n.inputValue),i.appendChild(u)};e.forEach(i=>{const o=i[0],a=i[1];if(Array.isArray(a)){const u=document.createElement("optgroup");u.label=o,u.disabled=!1,r.appendChild(u),a.forEach(c=>s(u,c[1],c[0]))}else s(r,a,o)}),r.focus()}function e6(t,e,n){const r=cs(t,M.radio);if(!r)return;e.forEach(i=>{const o=i[0],a=i[1],u=document.createElement("input"),c=document.createElement("label");u.type="radio",u.name=M.radio,u.value=o,Q1(o,n.inputValue)&&(u.checked=!0);const d=document.createElement("span");mn(d,a),d.className=M.label,c.appendChild(u),c.appendChild(d),r.appendChild(c)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Rd=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=Rd(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Rd(r)),e.push([n,r])}),e},Q1=(t,e)=>!!e&&e!==null&&e!==void 0&&e.toString()===t.toString(),t6=t=>{const e=Se.innerParams.get(t);t.disableButtons(),e.input?Y1(t,"confirm"):Iw(t,!0)},n6=t=>{const e=Se.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Y1(t,"deny"):Tw(t,!1)},r6=(t,e)=>{t.disableButtons(),e(oa.cancel)},Y1=(t,e)=>{const n=Se.innerParams.get(t);if(!n.input){Vi(`The "input" parameter is needed to be set when using returnInputValueOn${uw(e)}`);return}const r=t.getInput(),s=K5(t,n);n.inputValidator?s6(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Tw(t,s):Iw(t,s)},s6=(t,e,n)=>{const r=Se.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ou(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?Tw(t,e):Iw(t,e)})},Tw=(t,e)=>{const n=Se.innerParams.get(t);n.showLoaderOnDeny&&jo(Mi()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ou(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),du(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>X1(t,s))):t.close({isDenied:!0,value:e})},L0=(t,e)=>{t.close({isConfirmed:!0,value:e})},X1=(t,e)=>{t.rejectPromise(e)},Iw=(t,e)=>{const n=Se.innerParams.get(t);n.showLoaderOnConfirm&&jo(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ou(n.preConfirm(e,n.validationMessage))).then(s=>{Zt(Dh())||s===!1?(t.hideLoading(),du(t)):L0(t,typeof s>"u"?e:s)}).catch(s=>X1(t,s))):L0(t,e)};function Ad(){const t=Se.innerParams.get(this);if(!t)return;const e=Se.domCache.get(this);xt(e.loader),Vh()?t.icon&&dt(ra()):i6(e),bn([e.popup,e.actions],M.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const i6=t=>{const e=t.loader.getAttribute("data-button-to-replace"),n=e?t.popup.getElementsByClassName(e):[];n.length?dt(n[0],"inline-block"):N3()&&xt(t.actions)};function J1(){const t=Se.innerParams.get(this),e=Se.domCache.get(this);return e?Mh(e.popup,t.input):null}function Z1(t,e,n){const r=Se.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function eA(t,e){const n=ge();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${M.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function tA(){Z1(this,["confirmButton","denyButton","cancelButton"],!1)}function nA(){Z1(this,["confirmButton","denyButton","cancelButton"],!0)}function rA(){eA(this.getInput(),!1)}function sA(){eA(this.getInput(),!0)}function iA(t){const e=Se.domCache.get(this),n=Se.innerParams.get(this);mn(e.validationMessage,t),e.validationMessage.className=M["validation-message"],n.customClass&&n.customClass.validationMessage&&me(e.validationMessage,n.customClass.validationMessage),dt(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",M["validation-message"]),P1(r),me(r,M.inputerror))}function oA(){const t=Se.domCache.get(this);t.validationMessage&&xt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),bn(e,M.inputerror))}const hs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},o6=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],a6={allowEnterKey:void 0},l6=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],aA=t=>Object.prototype.hasOwnProperty.call(hs,t),lA=t=>o6.indexOf(t)!==-1,uA=t=>a6[t],u6=t=>{aA(t)||Mt(`Unknown parameter "${t}"`)},c6=t=>{l6.includes(t)&&Mt(`The parameter "${t}" is incompatible with toasts`)},d6=t=>{const e=uA(t);e&&R1(t,e)},cA=t=>{t.backdrop===!1&&t.allowOutsideClick&&Mt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Mt(`Invalid theme "${t.theme}"`);for(const e in t)u6(e),t.toast&&c6(e),d6(e)};function dA(t){const e=Ut(),n=ge(),r=Se.innerParams.get(this);if(!n||br(n,r.hideClass.popup)){Mt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=h6(t),i=Object.assign({},r,s);cA(i),e&&(e.dataset.swal2Theme=i.theme),B1(this,i),Se.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const h6=t=>{const e={};return Object.keys(t).forEach(n=>{if(lA(n)){const r=t;e[n]=r[n]}else Mt(`Invalid parameter to update: ${n}`)}),e};function hA(){var t;const e=Se.domCache.get(this),n=Se.innerParams.get(this);if(!n){fA(this);return}e.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),(t=K.eventEmitter)===null||t===void 0||t.emit("didDestroy"),f6(this)}const f6=t=>{fA(t),delete t.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},fA=t=>{t.isAwaitingPromise?(ep(Se,t),t.isAwaitingPromise=!0):(ep(Mo,t),ep(Se,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ep=(t,e)=>{for(const n in t)t[n].delete(e)};var p6=Object.freeze({__proto__:null,_destroy:hA,close:ds,closeModal:ds,closePopup:ds,closeToast:ds,disableButtons:nA,disableInput:sA,disableLoading:Ad,enableButtons:tA,enableInput:rA,getInput:J1,handleAwaitingPromise:du,hideLoading:Ad,rejectPromise:G1,resetValidationMessage:oA,showValidationMessage:iA,update:dA});const m6=(t,e,n)=>{t.toast?g6(t,e,n):(w6(e),v6(e),_6(t,e,n))},g6=(t,e,n)=>{e.popup.onclick=()=>{t&&(y6(t)||t.timer||t.input)||n(oa.close)}},y6=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let xd=!1;const w6=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(xd=!0)}}},v6=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(xd=!0)}}},_6=(t,e,n)=>{e.container.onclick=r=>{if(xd){xd=!1;return}r.target===e.container&&Oh(t.allowOutsideClick)&&n(oa.backdrop)}},E6=t=>typeof t=="object"&&t.jquery,V0=t=>t instanceof Element||E6(t),T6=t=>{const e={};return typeof t[0]=="object"&&!V0(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||V0(s)?e[n]=s:s!==void 0&&Vi(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function I6(...t){return new this(...t)}function C6(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const S6=()=>K.timeout&&K.timeout.getTimerLeft(),pA=()=>{if(K.timeout)return D3(),K.timeout.stop()},mA=()=>{if(K.timeout){const t=K.timeout.start();return ww(t),t}},b6=()=>{const t=K.timeout;return t&&(t.running?pA():mA())},R6=t=>{if(K.timeout){const e=K.timeout.increase(t);return ww(e,!0),e}},A6=()=>!!(K.timeout&&K.timeout.isRunning());let M0=!1;const Nm={};function x6(t="data-swal-template"){Nm[t]=this,M0||(document.body.addEventListener("click",k6),M0=!0)}const k6=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Nm){const r=e.getAttribute&&e.getAttribute(n);if(r){Nm[n].fire({template:r});return}}};class P6{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}K.eventEmitter=new P6;const N6=(t,e)=>{K.eventEmitter&&K.eventEmitter.on(t,e)},O6=(t,e)=>{K.eventEmitter&&K.eventEmitter.once(t,e)},D6=(t,e)=>{if(K.eventEmitter){if(!t){K.eventEmitter.reset();return}e?K.eventEmitter.removeListener(t,e):K.eventEmitter.removeAllListeners(t)}};var L6=Object.freeze({__proto__:null,argsToParams:T6,bindClickHandler:x6,clickCancel:T5,clickConfirm:$1,clickDeny:E5,enableLoading:jo,fire:I6,getActions:lu,getCancelButton:sa,getCloseButton:pw,getConfirmButton:sr,getContainer:Ut,getDenyButton:Mi,getFocusableElements:mw,getFooter:k1,getHtmlContainer:hw,getIcon:ra,getIconContent:R3,getImage:x1,getInputLabel:A3,getLoader:ia,getPopup:ge,getProgressSteps:fw,getTimerLeft:S6,getTimerProgressBar:Lh,getTitle:A1,getValidationMessage:Dh,increaseTimer:R6,isDeprecatedParameter:uA,isLoading:k3,isTimerRunning:A6,isUpdatableParameter:lA,isValidParameter:aA,isVisible:_5,mixin:C6,off:D6,on:N6,once:O6,resumeTimer:mA,showLoading:jo,stopTimer:pA,toggleTimer:b6});class V6{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const gA=["swal-title","swal-html","swal-footer"],M6=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return q6(n),Object.assign(j6(n),F6(n),U6(n),B6(n),$6(n),z6(n),H6(n,gA))},j6=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{ki(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(s in hs&&typeof hs[s]=="boolean"?e[s]=i!=="false":s in hs&&typeof hs[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},F6=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},U6=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{ki(r,["type","color","aria-label"]);const s=r.getAttribute("type");if(!(!s||!["confirm","cancel","deny"].includes(s))){if(e[`${s}ButtonText`]=r.innerHTML,e[`show${uw(s)}Button`]=!0,r.hasAttribute("color")){const i=r.getAttribute("color");i!==null&&(e[`${s}ButtonColor`]=i)}if(r.hasAttribute("aria-label")){const i=r.getAttribute("aria-label");i!==null&&(e[`${s}ButtonAriaLabel`]=i)}}}),e},B6=t=>{const e={},n=t.querySelector("swal-image");return n&&(ki(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},$6=t=>{const e={},n=t.querySelector("swal-icon");return n&&(ki(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},z6=t=>{const e={},n=t.querySelector("swal-input");n&&(ki(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{ki(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},H6=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(ki(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},q6=t=>{const e=gA.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Mt(`Unrecognized element <${r}>`)})},ki=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Mt([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},yA=10,W6=t=>{var e,n;const r=Ut(),s=ge();if(!r||!s)return;typeof t.willOpen=="function"&&t.willOpen(s),(e=K.eventEmitter)===null||e===void 0||e.emit("willOpen",s);const o=window.getComputedStyle(document.body).overflowY;if(Q6(r,s,t),setTimeout(()=>{K6(r,s)},yA),gw()&&(G6(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,o),k5()),!Vh()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const a=t.didOpen;setTimeout(()=>a(s))}(n=K.eventEmitter)===null||n===void 0||n.emit("didOpen",s)},kd=t=>{const e=ge();if(!e||t.target!==e)return;const n=Ut();n&&(e.removeEventListener("animationend",kd),e.removeEventListener("transitionend",kd),n.style.overflowY="auto",bn(n,M["no-transition"]))},K6=(t,e)=>{O1(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",kd),e.addEventListener("transitionend",kd)):t.style.overflowY="auto"},G6=(t,e,n)=>{P5(),e&&n!=="hidden"&&j5(n),setTimeout(()=>{t.scrollTop=0})},Q6=(t,e,n)=>{var r;(r=n.showClass)!==null&&r!==void 0&&r.backdrop&&me(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),dt(e,"grid"),setTimeout(()=>{var s;(s=n.showClass)!==null&&s!==void 0&&s.popup&&me(e,n.showClass.popup),e.style.removeProperty("opacity")},yA)):dt(e,"grid"),me([document.documentElement,document.body],M.shown),n.heightAuto&&n.backdrop&&!n.toast&&me([document.documentElement,document.body],M["height-auto"])};var j0={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Y6(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=j0.email),t.input==="url"&&(t.inputValidator=j0.url))}function X6(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Mt('Target parameter is not valid, defaulting to "body"'),t.target="body")}function J6(t){Y6(t),t.showLoaderOnConfirm&&!t.preConfirm&&Mt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),X6(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),$3(t)}let Wn;var tc=new WeakMap;class Qe{constructor(...e){if(v3(this,tc,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Wn=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,_3(tc,this,this._main(Wn.params))}_main(e,n={}){if(cA(Object.assign({},n,e)),K.currentInstance){const i=Mo.swalPromiseResolve.get(K.currentInstance),{isAwaitingPromise:o}=K.currentInstance;K.currentInstance._destroy(),o||i({isDismissed:!0}),gw()&&q1()}K.currentInstance=Wn;const r=eB(e,n);J6(r),Object.freeze(r),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);const s=tB(Wn);return B1(Wn,r),Se.innerParams.set(Wn,r),Z6(Wn,s,r)}then(e){return A0(tc,this).then(e)}finally(e){return A0(tc,this).finally(e)}}const Z6=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};Mo.swalPromiseResolve.set(t,r),Mo.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{t6(t)},e.denyButton.onclick=()=>{n6(t)},e.cancelButton.onclick=()=>{r6(t,i)},e.closeButton.onclick=()=>{i(oa.close)},m6(n,e,i),I5(K,n,i),W5(t,n),W6(n),nB(K,n,i),rB(e,n),setTimeout(()=>{e.container.scrollTop=0})}),eB=(t,e)=>{const n=M6(t),r=Object.assign({},hs,e,n,t);return r.showClass=Object.assign({},hs.showClass,r.showClass),r.hideClass=Object.assign({},hs.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},tB=t=>{const e={popup:ge(),container:Ut(),actions:lu(),confirmButton:sr(),denyButton:Mi(),cancelButton:sa(),loader:ia(),closeButton:pw(),validationMessage:Dh(),progressSteps:fw()};return Se.domCache.set(t,e),e},nB=(t,e,n)=>{const r=Lh();xt(r),e.timer&&(t.timeout=new V6(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&r&&(dt(r),cn(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ww(e.timer)})))},rB=(t,e)=>{if(!e.toast){if(!Oh(e.allowEnterKey)){R1("allowEnterKey"),oB();return}sB(t)||iB(t,e)||Pm(-1,1)}},sB=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Zt(n))return n.focus(),!0;return!1},iB=(t,e)=>e.focusDeny&&Zt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Zt(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Zt(t.confirmButton)?(t.confirmButton.focus(),!0):!1,oB=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Qe.prototype.disableButtons=nA;Qe.prototype.enableButtons=tA;Qe.prototype.getInput=J1;Qe.prototype.disableInput=sA;Qe.prototype.enableInput=rA;Qe.prototype.hideLoading=Ad;Qe.prototype.disableLoading=Ad;Qe.prototype.showValidationMessage=iA;Qe.prototype.resetValidationMessage=oA;Qe.prototype.close=ds;Qe.prototype.closePopup=ds;Qe.prototype.closeModal=ds;Qe.prototype.closeToast=ds;Qe.prototype.rejectPromise=G1;Qe.prototype.update=dA;Qe.prototype._destroy=hA;Object.assign(Qe,L6);Object.keys(p6).forEach(t=>{Qe[t]=function(...e){if(Wn&&Wn[t])return Wn[t](...e)}});Qe.DismissReason=oa;Qe.version="11.26.17";const Pd=Qe;Pd.default=Pd;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function aB(){const[t,e]=y.useState({name:"",username:"",email:"",password:"",confirmPassword:""}),[n,r]=y.useState({}),[s,i]=y.useState(!1),[o,a]=y.useState(""),u=qo(),c=p=>{const{name:w,value:v}=p.target;e(S=>({...S,[w]:v})),a(""),n[w]&&r(S=>({...S,[w]:""}))},d=()=>{const p={};return t.name.trim()||(p.name="El nombre es requerido"),t.username.trim()||(p.username="El nombre de usuario es requerido"),t.email?/\S+@\S+\.\S+/.test(t.email)||(p.email="Email invlido"):p.email="El email es requerido",t.password?t.password.length<6&&(p.password="Debe tener al menos 6 caracteres"):p.password="La contrasea es requerida",t.confirmPassword?t.password!==t.confirmPassword&&(p.confirmPassword="Las contraseas no coinciden"):p.confirmPassword="Confirma tu contrasea",p},f=async p=>{p.preventDefault();const w=d();if(Object.keys(w).length>0)return r(w);i(!0),a("");try{const S=(await _V(Ml,t.email,t.password)).user;await IV(S,{displayName:t.username}),await r1(Fn(bt,"users",S.uid),{name:t.name,username:t.username,email:t.email,createdAt:new Date}),Pd.fire({icon:"success",title:`Bienvenido, ${t.username}! `,text:"Tu cuenta ha sido creada con xito.",confirmButtonColor:"#007bff",confirmButtonText:"Ir al inicio",background:"##E65847",color:"#333",customClass:{popup:"rounded-4 shadow-lg"}}).then(()=>{u("/")})}catch(v){console.error(v),a("Error: "+v.message)}finally{i(!1)}};return m.jsx(Le,{fluid:!0,className:"min-vh-100 d-flex align-items-center justify-content-center bg-light py-5",children:m.jsx(un,{className:"w-100 justify-content-center",children:m.jsx(Ke,{xs:12,sm:8,md:6,lg:4,children:m.jsx(_e,{className:"shadow-lg border-0 rounded-4",children:m.jsxs(_e.Body,{className:"p-5",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h2",{className:"fw-bold",style:{color:"#E65847"},children:"Crear Cuenta"}),m.jsx("p",{style:{color:"#333"},children:"nete a nuestra comunidad"})]}),o&&m.jsx(bl,{variant:"danger",children:o}),m.jsxs(Y,{onSubmit:f,children:[m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Nombre completo"}),m.jsx(Y.Control,{type:"text",name:"name",value:t.name,onChange:c,isInvalid:!!n.name,placeholder:"Nombre completo"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.name})]}),m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Nombre de usuario"}),m.jsx(Y.Control,{type:"text",name:"username",value:t.username,onChange:c,isInvalid:!!n.username,placeholder:"Usuario"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.username})]}),m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Email"}),m.jsx(Y.Control,{type:"email",name:"email",value:t.email,onChange:c,isInvalid:!!n.email,placeholder:"tu@email.com"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.email})]}),m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Contrasea"}),m.jsx(Y.Control,{type:"password",name:"password",value:t.password,onChange:c,isInvalid:!!n.password,placeholder:"Mnimo 6 caracteres"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.password})]}),m.jsxs(Y.Group,{className:"mb-4",children:[m.jsx(Y.Label,{children:"Confirmar contrasea"}),m.jsx(Y.Control,{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,isInvalid:!!n.confirmPassword,placeholder:"Repite tu contrasea"}),m.jsx(Y.Control.Feedback,{type:"invalid",children:n.confirmPassword})]}),m.jsx(De,{variant:"primary",type:"submit",className:"w-100 py-2 mb-3 rounded-3",style:{backgroundColor:"#E65847",borderColor:"#E65847",color:"white"},disabled:s,children:s?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{as:"span",animation:"border",size:"sm",className:"me-2"})," Creando cuenta..."]}):"Crear Cuenta"})]}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"mb-0",children:["Ya tienes cuenta?"," ",m.jsx($t,{to:"/login",className:"text-decoration-none fw-semibold",style:{color:"#E65847"},children:"Inicia sesin aqu"})]})})]})})})})})}function lB(){return m.jsx("footer",{className:"footer mt-5",children:m.jsxs("div",{className:"container d-flex justify-content-between align-items-center",children:[m.jsx("div",{children:" Vianelo  Antojos y buenos momentos"}),m.jsxs("div",{children:[m.jsx("a",{className:"text-white me-3",target:"_blank",href:"https://www.instagram.com/vianeloreposteriamx?igsh=bTlrcmg5YzJuZndp",children:m.jsx("i",{className:"bi bi-instagram fs-3"})}),m.jsx("a",{className:"text-white me-3",target:"_blank",href:"https://www.facebook.com/share/19vYwhxaL2/",children:m.jsx("i",{className:"bi bi-facebook fs-3"})}),m.jsx("a",{className:"text-white",target:"_blank",href:"https://www.tiktok.com/@vianeloreposteria?_r=1&_t=ZS-917sMwoJJCB",children:m.jsx("i",{className:"bi bi-tiktok fs-3"})})]})]})})}const uB=[{id:"Quintas",nombre:"Vianelo Quintas",direccion:"Calle Gral Rafael Buelna Tenorio 1081, Las Quintas, 80060 Culiacn Rosales, Sin.",horario:"Lunes a Domingo  8:00 am  8:00 pm",telefono:"667 416 6010",mapsUrl:"https://maps.app.goo.gl/sQFQuRTDHy4rFVDK6",embedSrc:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7242.763684162379!2d-107.39171440771074!3d24.816612161831376!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x86bcd742372410cf%3A0x7863bfb51e7afc52!2sVianelo%20Reposter%C3%ADa%20y%20Caf%C3%A9!5e0!3m2!1ses-419!2smx!4v1764603004858!5m2!1ses-419!2smx"},{id:"Chapule",nombre:"Vianelo Chapule",direccion:"Esquina con, Juan de la Barrera, C. Josefa Ortiz de Domnguez 246-local 2, Chapultepec, 80030 Culiacn Rosales, Sin.",horario:"Lunes a Domingo  8:00 am  8:00 pm",telefono:"667 118 1013",mapsUrl:"https://maps.app.goo.gl/vvfGPm16oWwLFpun9",embedSrc:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7242.508140287162!2d-107.4015970064209!3d24.820983500000015!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x86bcdbe5fb1900bb%3A0x89bd035772818f15!2sVianelo%20Reposter%C3%ADa%20y%20Caf%C3%A9!5e0!3m2!1ses-419!2smx!4v1764609377026!5m2!1ses-419!2smx"}];function cB(){return m.jsxs(Le,{className:"py-5",children:[m.jsxs("header",{className:"text-center text-white mb-5",children:[m.jsx("h1",{className:"fw-bold",children:"Nuestras sucursales"}),m.jsx("p",{className:"text-white-55 mb-0",children:"Encuentra tu Vianelo ms cercano y disfruta de tu bebida favorita."})]}),m.jsx(un,{className:"g-4",children:uB.map(t=>m.jsx(Ke,{md:6,children:m.jsxs(_e,{className:"h-100 shadow-sm border-0 rounded-4",children:[m.jsx("div",{className:"ratio ratio-16x9 rounded-top-4 overflow-hidden",children:m.jsx("iframe",{src:t.embedSrc,style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:t.nombre})}),m.jsxs(_e.Body,{className:"d-flex flex-column",children:[m.jsx(_e.Title,{className:"fw-bold mb-2",children:t.nombre}),m.jsxs(_e.Text,{className:"mb-1",children:[m.jsx("strong",{children:"Direccin:"})," ",t.direccion]}),m.jsxs(_e.Text,{className:"mb-1",children:[m.jsx("strong",{children:"Horario:"})," ",t.horario]}),m.jsxs(_e.Text,{className:"mb-3",children:[m.jsx("strong",{children:"Telfono:"})," ",t.telefono]}),m.jsx("div",{className:"mt-auto text-end",children:m.jsx(De,{id:"btn-add",variant:"primary",onClick:()=>window.open(t.mapsUrl,"_blank"),children:"Abrir en Google Maps"})})]})]})},t.id))})]})}const dB={pending:"Enviado",enviado:"Enviado",recibido:"En preparacin",listo:"Listo para entregar",entregado:"Entregado"},hB={pending:"secondary",enviado:"secondary",recibido:"info",listo:"success",entregado:"dark"};function fB(){const{branchId:t}=pC(),[e,n]=y.useState([]),[r,s]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{const f=(t||"").trim();if(!f)return;const p=Ky(na(bt,"orders"),e1("branchId","==",f),Yy("createdAt","asc")),w=Zy(p,v=>{const S=v.docs.map(R=>({id:R.id,...R.data()}));n(S),s(!1)},v=>{console.error("Error escuchando rdenes",v),s(!1)});return()=>w()},[t]);async function a(f){o(f.id);try{await Ed(Fn(bt,"orders",f.id),{status:"recibido",receivedAt:pi()})}catch(p){console.error("Error al marcar recibido",p),alert("No se pudo marcar como recibido.")}finally{o(null)}}async function u(f){o(f.id);try{await Ed(Fn(bt,"orders",f.id),{status:"listo",readyAt:pi()})}catch(p){console.error("Error al marcar listo",p),alert("No se pudo marcar como listo.")}finally{o(null)}}const c=(t||"").trim(),d=c==="quintas"?"Vianelo Quintas":c==="tres-rios"?"Vianelo Tres Ros":c==="chapule"?"Vianelo Chapule":c||"Sucursal";return m.jsxs(Le,{className:"py-4 min-vh-100",children:[m.jsx(un,{className:"mb-3",children:m.jsxs(Ke,{children:[m.jsxs("h2",{className:"text-light",children:["Pedidos sucursal: ",d]}),m.jsx("p",{className:"text-white-50 m-0",children:"Aqu el personal puede recibir y marcar los pedidos como listos."})]})}),r?m.jsx("div",{className:"text-center py-5",children:m.jsx(Qo,{animation:"border"})}):e.length===0?m.jsx("p",{className:"text-white-50",children:"No hay pedidos para esta sucursal."}):m.jsx(un,{className:"g-3",children:e.map(f=>{var p;return m.jsx(Ke,{md:6,lg:4,children:m.jsx(_e,{className:"h-100",children:m.jsxs(_e.Body,{className:"d-flex flex-column",children:[m.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[m.jsxs("div",{children:[m.jsxs(_e.Title,{className:"mb-0",children:["Pedido #",f.id.slice(-6)]}),m.jsxs("small",{className:"text-muted",children:["Cliente: ",f.userName||""]})]}),m.jsx(jg,{bg:hB[f.status]||"secondary",children:dB[f.status]||f.status})]}),m.jsx("div",{className:"mb-2",children:(p=f.items)==null?void 0:p.map((w,v)=>m.jsxs("div",{className:"small",children:[w.qty," ",w.name]},v))}),m.jsxs("div",{className:"mt-auto d-flex justify-content-between align-items-center pt-2",children:[m.jsxs("strong",{children:["Total: $",Number(f.total||0).toFixed(2)]}),m.jsxs("div",{className:"d-flex gap-2",children:[(f.status==="enviado"||f.status==="pending")&&m.jsx(De,{size:"sm",variant:"outline-primary",onClick:()=>a(f),disabled:i===f.id,children:i===f.id?"Guardando...":"Pedido recibido"}),f.status==="recibido"&&m.jsx(De,{size:"sm",variant:"success",onClick:()=>u(f),disabled:i===f.id,children:i===f.id?"Guardando...":"Pedido listo"})]})]})]})})},f.id)})})]})}function pB(){var i;const{orderId:t}=pC(),[e,n]=y.useState(null),[r,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const a=Fn(bt,"orders",t),u=await _d(a);u.exists()&&n({id:u.id,...u.data()})}catch(a){console.error("Error cargando pedido",a)}finally{s(!1)}})()},[t]),r?m.jsx(Le,{className:"min-vh-100 d-flex justify-content-center align-items-center",children:m.jsx(Qo,{animation:"border"})}):e?m.jsx(Le,{className:"min-vh-100 d-flex justify-content-center align-items-center",children:m.jsxs(_e,{className:"p-4 shadow-lg w-100",style:{maxWidth:500},children:[m.jsx("h3",{className:"mb-2",children:"Gracias por tu pedido! "}),m.jsx("p",{className:"text-muted mb-3",children:"Tu pedido fue enviado a la sucursal y est siendo procesado."}),m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{children:"Nmero de pedido:"})," ",m.jsxs("span",{children:["#",e.id.slice(-6)]})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{children:"Sucursal:"})," ",m.jsx("span",{children:e.branchId})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{children:"Estado actual:"})," ",m.jsx("span",{children:e.status})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{children:"Total:"})," ",m.jsxs("span",{children:["$",Number(e.total||0).toFixed(2)]})]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("strong",{children:"Productos:"}),m.jsx("ul",{className:"mb-0",children:(i=e.items)==null?void 0:i.map((o,a)=>m.jsxs("li",{children:[o.qty," ",o.name]},a))})]}),m.jsxs("div",{className:"d-flex flex-column gap-2",children:[m.jsx(De,{as:$t,to:"/mis-pedidos",variant:"primary",children:"Ver mis pedidos"}),m.jsx(De,{as:$t,to:"/",variant:"outline-secondary",children:"Volver al inicio"})]})]})}):m.jsx(Le,{className:"min-vh-100 d-flex justify-content-center align-items-center",children:m.jsx("p",{className:"text-white",children:"No se encontr el pedido."})})}const mB={pending:"Enviado a la sucursal",enviado:"Enviado a la sucursal",recibido:"En preparacin",listo:"Listo para recoger",entregado:"Entregado"},gB={pending:"secondary",enviado:"secondary",recibido:"info",listo:"success",entregado:"dark"};function yB(){const[t,e]=y.useState(null),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=y.useRef([]);return y.useEffect(()=>{const a=lh(),u=mb(a,c=>{e(c||null)});return()=>u()},[]),y.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().catch(()=>{})},[]),y.useEffect(()=>{if(!t){i(!1);return}const a=Ky(na(bt,"orders"),e1("userId","==",t.uid),Yy("createdAt","desc")),u=Zy(a,c=>{const d=c.docs.map(p=>({id:p.id,...p.data()})),f=o.current;d.forEach(p=>{const w=f.find(v=>v.id===p.id);w&&w.status!=="listo"&&p.status==="listo"&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Tu pedido est listo ",{body:`Pedido #${p.id.slice(-6)} en sucursal ${p.branchId}`})}),o.current=d,r(d),i(!1)},c=>{console.error("Error escuchando pedidos",c),i(!1)});return()=>u()},[t]),t?s?m.jsx(Le,{className:"min-vh-100 d-flex justify-content-center align-items-center",children:m.jsx(Qo,{animation:"border"})}):m.jsxs(Le,{className:"py-4 min-vh-100",children:[m.jsx(un,{className:"mb-3",children:m.jsxs(Ke,{children:[m.jsx("h2",{className:"text-light",children:"Mis pedidos"}),m.jsx("p",{className:"text-white-50 m-0",children:"Revisa el estado de tus pedidos en tiempo real."})]})}),n.length===0?m.jsx("p",{className:"text-white-50",children:"An no has realizado pedidos."}):m.jsx(un,{className:"g-3",children:n.map(a=>{var u;return m.jsx(Ke,{md:6,lg:4,children:m.jsx(_e,{className:"h-100",children:m.jsxs(_e.Body,{className:"d-flex flex-column",children:[m.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[m.jsxs("div",{children:[m.jsxs(_e.Title,{className:"mb-0",children:["Pedido #",a.id.slice(-6)]}),m.jsxs("small",{className:"text-muted",children:["Sucursal: ",a.branchId]})]}),m.jsx(jg,{bg:gB[a.status]||"secondary",children:mB[a.status]||a.status})]}),m.jsx("div",{className:"mb-2",children:(u=a.items)==null?void 0:u.map((c,d)=>m.jsxs("div",{className:"small",children:[c.qty," ",c.name]},d))}),m.jsx("div",{className:"mt-auto d-flex justify-content-between align-items-center pt-2",children:m.jsxs("strong",{children:["Total: $",Number(a.total||0).toFixed(2)]})})]})})},a.id)})})]}):m.jsx(Le,{className:"min-vh-100 d-flex justify-content-center align-items-center",children:m.jsx("p",{className:"text-white",children:"Inicia sesin para ver tus pedidos."})})}function F0({children:t}){const{user:e}=aw();return e?t:m.jsx(wC,{to:"/login",replace:!0})}function wB({children:t}){const{user:e,loading:n,isAdmin:r}=aw();return n?m.jsx("div",{className:"p-4",children:"Cargando..."}):e?r?t:m.jsx("div",{className:"p-4 text-center text-danger",children:"No tienes permiso para acceder a esta pgina."}):m.jsx(wC,{to:"/login",replace:!0})}function vB({show:t,onClose:e,onSubmit:n,initial:r}){const[s,i]=y.useState({name:"",description:"",category:"",price:0,stock:0,isActive:!0}),[o,a]=y.useState(null);y.useEffect(()=>{r?(i({name:r.name||"",description:r.description||"",category:r.category||"",price:r.price||0,stock:r.stock||0,isActive:r.isActive??!0}),a(null)):(i({name:"",description:"",category:"",price:0,stock:0,isActive:!0}),a(null))},[r]);function u(d){const{name:f,value:p,type:w,checked:v}=d.target;i(S=>({...S,[f]:w==="checkbox"?v:p}))}function c(d){d.preventDefault(),n(s,o)}return m.jsxs(Na,{show:t,onHide:e,centered:!0,children:[m.jsx(Na.Header,{closeButton:!0,children:m.jsx(Na.Title,{children:r?"Editar producto":"Nuevo producto"})}),m.jsxs(Y,{onSubmit:c,children:[m.jsx(Na.Body,{children:m.jsxs(un,{className:"g-3",children:[m.jsx(Ke,{md:6,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Nombre"}),m.jsx(Y.Control,{name:"name",value:s.name,onChange:u,required:!0})]})}),m.jsx(Ke,{md:6,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Categora"}),m.jsx(Y.Control,{name:"category",value:s.category,onChange:u})]})}),m.jsx(Ke,{md:12,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Descripcin"}),m.jsx(Y.Control,{as:"textarea",rows:2,name:"description",value:s.description,onChange:u})]})}),m.jsx(Ke,{md:6,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Precio (MXN)"}),m.jsx(Y.Control,{type:"number",step:"0.01",name:"price",value:s.price,onChange:u,required:!0})]})}),m.jsx(Ke,{md:6,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Stock"}),m.jsx(Y.Control,{type:"number",name:"stock",value:s.stock,onChange:u,required:!0})]})}),m.jsx(Ke,{md:12,children:m.jsxs(Y.Group,{children:[m.jsx(Y.Label,{children:"Imagen"}),m.jsx(Y.Control,{type:"file",accept:"image/*",onChange:d=>{var f;return a(((f=d.target.files)==null?void 0:f[0])||null)}})]})}),m.jsx(Ke,{md:12,children:m.jsx(Y.Check,{type:"switch",id:"isActive",label:"Activo / Visible",name:"isActive",checked:s.isActive,onChange:u})})]})}),m.jsxs(Na.Footer,{children:[m.jsx(De,{variant:"secondary",onClick:e,children:"Cancelar"}),m.jsx(De,{type:"submit",children:"Guardar"})]})]})]})}function _B({stock:t}){return Number(t)<=0?m.jsx("span",{className:"badge bg-danger",children:"Agotado"}):Number(t)<=5?m.jsxs("span",{className:"badge bg-warning",children:["Bajo stock (",t,")"]}):m.jsxs("span",{className:"badge bg-success",children:["En stock (",t,")"]})}function EB(){const{products:t,loading:e,error:n,createProduct:r,updateProduct:s,removeProduct:i}=lw(),[o,a]=y.useState(!1),[u,c]=y.useState(null),[d,f]=y.useState(!1),[p,w]=y.useState(null),[v,S]=y.useState(!1),[R,_]=y.useState([]),[E,C]=y.useState(!1);y.useEffect(()=>{async function x(){C(!0);try{const N=Ky(na(bt,"sales"),Yy("date","desc")),k=await KF(N);_(k.docs.map(pe=>({id:pe.id,...pe.data()})))}catch(N){console.error(N)}finally{C(!1)}}v&&x()},[v]);function O(){c(null),a(!0)}function j(x){c(x),a(!0)}function V(){a(!1)}async function b(x,N){f(!0);try{await r(x,N),w({type:"success",msg:"Producto creado correctamente."}),V()}catch{w({type:"danger",msg:"No se pudo crear el producto."})}finally{f(!1)}}async function T(x,N){if(u){f(!0);try{await s(u.id,x,N,u.imagePath),w({type:"success",msg:"Producto actualizado."}),V()}catch{w({type:"danger",msg:"No se pudo actualizar el producto."})}finally{f(!1)}}}async function A(x){if(window.confirm(`Eliminar "${x.name}"? Esta accin es permanente.`)){f(!0);try{await i(x.id,x.imagePath),w({type:"success",msg:"Producto eliminado."})}catch{w({type:"danger",msg:"No se pudo eliminar el producto."})}finally{f(!1)}}}async function P(x){if(!d){f(!0);try{await Ed(Fn(bt,"products",x.id),{featured:!x.featured}),w({type:"success",msg:x.featured?`${x.name} se quit de Destacados.`:`${x.name} ahora est en Destacados.`})}catch{w({type:"danger",msg:"No se pudo cambiar el estado de destacado."})}finally{f(!1)}}}return m.jsxs(Le,{className:"py-4 admin-bg min-vh-100",children:[m.jsxs(un,{className:"mb-3 align-items-center",children:[m.jsxs(Ke,{children:[m.jsx("h2",{className:"admin-title",children:"Panel de administracin"}),m.jsx("p",{className:"m-0 admin-subtitle",children:"Gestiona los productos del men y su inventario."})]}),m.jsxs(Ke,{className:"text-end",children:[m.jsx(De,{onClick:O,disabled:d,className:"btn-admin-primary me-2",children:"Nuevo producto"}),m.jsx(De,{variant:"outline-secondary",onClick:()=>S(!v),children:v?"Ocultar reporte":"Ver reporte de ventas"})]})]}),p&&m.jsx(bl,{variant:p.type,dismissible:!0,onClose:()=>w(null),className:"mb-3",children:p.msg}),v&&m.jsx(_e,{className:"mb-4 shadow-sm",children:m.jsxs(_e.Body,{children:[m.jsx("h4",{children:"Reporte de ventas"}),E?m.jsx("p",{children:"Cargando ventas..."}):R.length===0?m.jsx("p",{children:"No hay ventas registradas."}):R.map(x=>{var N;return m.jsxs("div",{style:{borderBottom:"1px solid #ddd",marginBottom:12},children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Fecha:"})," ",(N=x.date)!=null&&N.toDate?x.date.toDate().toLocaleString():""]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Total:"})," $",Number(x.total).toFixed(2)]}),m.jsx("ul",{children:x.items.map(k=>m.jsxs("li",{children:[k.name," x ",k.quantity]},k.id))})]},x.id)})]})}),m.jsx(_e,{className:"shadow-sm admin-card",children:m.jsx(_e.Body,{children:e?m.jsx("div",{children:"Cargando..."}):n?m.jsx(bl,{variant:"danger",children:"Ocurri un error cargando productos."}):m.jsxs(Xg,{responsive:!0,hover:!0,className:"admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Imagen"}),m.jsx("th",{children:"Nombre"}),m.jsx("th",{children:"Categora"}),m.jsx("th",{children:"Precio"}),m.jsx("th",{children:"Inventario"}),m.jsx("th",{children:"Destacado"}),m.jsx("th",{children:"Estado"}),m.jsx("th",{className:"text-end",children:"Acciones"})]})}),m.jsx("tbody",{children:t.map(x=>m.jsxs("tr",{children:[m.jsx("td",{style:{width:96},children:x.imageUrl?m.jsx("img",{src:x.imageUrl,alt:x.name,style:{width:72,height:72,objectFit:"cover",borderRadius:8}}):m.jsx("div",{style:{width:72,height:72,background:"#eee",borderRadius:8}})}),m.jsx("td",{children:x.name}),m.jsx("td",{children:x.category||"-"}),m.jsxs("td",{children:["$",Number(x.price).toFixed(2)]}),m.jsx("td",{children:m.jsx(_B,{stock:x.stock})}),m.jsx("td",{children:m.jsx(Y.Check,{type:"switch",label:x.featured?"S":"No",checked:!!x.featured,onChange:()=>P(x),disabled:d})}),m.jsx("td",{children:x.isActive?"Activo":"Oculto"}),m.jsxs("td",{className:"text-end",children:[m.jsx(De,{size:"sm",variant:"outline-primary",className:"me-2",onClick:()=>j(x),disabled:d,children:"Editar"}),m.jsx(De,{size:"sm",variant:"outline-danger",onClick:()=>A(x),disabled:d,children:"Eliminar"})]})]},x.id))})]})})}),m.jsx(vB,{show:o,onClose:V,onSubmit:u?T:b,initial:u})]})}/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(zt||(zt={}));var Ss;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Ss||(Ss={}));var U0;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(U0||(U0={}));var Xe=function(){return Xe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xe.apply(this,arguments)};function wA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function B0(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var jl="data-react-paypal-script-id",ui={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},TB="Failed to load the PayPal JS SDK script.",vA="paypal",IB="usePayPalScriptReducer must be used within a PayPalScriptProvider";function CB(t){return t===void 0&&(t=vA),window[t]}function SB(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function bB(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,s=r===void 0?"":r,i=t.sdkDataNamespace,o=i===void 0?vA:i,a=n.charAt(0).toUpperCase().concat(n.substring(1)),u="Unable to render <".concat(e," /> because window.").concat(o,".").concat(a," is undefined."),c=typeof s=="string"?s:s.join(",");if(!c.includes(n)){var d=[c,n].filter(Boolean).join();u+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return u}function _A(t){var e=t,n=jl;e[n];var r=wA(e,[n+""]);return"react-paypal-js-".concat(SB(JSON.stringify(r)))}function RB(t){var e=self.document.querySelector("script[".concat(jl,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function AB(t,e){var n,r;switch(e.type){case Ss.LOADING_STATUS:return typeof e.value=="object"?Xe(Xe({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Xe(Xe({},t),{loadingStatus:e.value});case Ss.RESET_OPTIONS:return RB(t.options[jl]),Xe(Xe({},t),{loadingStatus:zt.PENDING,options:Xe(Xe((n={},n[ui.DATA_SDK_INTEGRATION_SOURCE]=ui.DATA_LIBRARY_VALUE,n),e.value),(r={},r[jl]="".concat(_A(e.value)),r))});case Ss.SET_BRAINTREE_INSTANCE:return Xe(Xe({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var EA=y.createContext(null);function xB(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(IB)}function kB(){var t=xB(y.useContext(EA)),e=Xe(Xe({},t),{isInitial:t.loadingStatus===zt.INITIAL,isPending:t.loadingStatus===zt.PENDING,isResolved:t.loadingStatus===zt.RESOLVED,isRejected:t.loadingStatus===zt.REJECTED});return[e,t.dispatch]}y.createContext({});function PB(t){var e=y.useRef(new Proxy({},{get:function(n,r,s){return typeof n[r]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n[r].apply(n,i)}:Reflect.get(n,r,s)}}));return e.current=Object.assign(e.current,t),e.current}var Cw=function(t){var e,n=t.className,r=n===void 0?"":n,s=t.disabled,i=s===void 0?!1:s,o=t.children,a=t.forceReRender,u=a===void 0?[]:a,c=wA(t,["className","disabled","children","forceReRender"]),d=i?{opacity:.38}:{},f="".concat(r," ").concat(i?"paypal-buttons-disabled":"").trim(),p=y.useRef(null),w=y.useRef(null),v=PB(c),S=kB()[0],R=S.isResolved,_=S.options,E=y.useState(null),C=E[0],O=E[1],j=y.useState(!0),V=j[0],b=j[1],T=y.useState(null),A=T[1];function P(){w.current!==null&&w.current.close().catch(function(){})}return!((e=w.current)===null||e===void 0)&&e.updateProps&&w.current.updateProps({message:c.message}),y.useEffect(function(){if(R===!1)return P;var x=CB(_.dataNamespace);if(x===void 0||x.Buttons===void 0)return A(function(){throw new Error(bB({reactComponentName:Cw.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:_.components,sdkDataNamespace:_[ui.DATA_NAMESPACE]}))}),P;var N=function(k,pe){O(pe),typeof c.onInit=="function"&&c.onInit(k,pe)};try{w.current=x.Buttons(Xe(Xe({},v),{onInit:N}))}catch(k){return A(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(k))})}return w.current.isEligible()===!1?(b(!1),P):(p.current&&w.current.render(p.current).catch(function(k){p.current===null||p.current.children.length===0||A(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(k))})}),P)},B0(B0([R],u,!0),[c.fundingSource],!1)),y.useEffect(function(){C!==null&&(i===!0?C.disable().catch(function(){}):C.enable().catch(function(){}))},[i,C]),Kt.createElement(Kt.Fragment,null,V?Kt.createElement("div",{ref:p,style:d,className:f}):o)};Cw.displayName="PayPalButtons";function NB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OB(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=TA(t,e),s=n.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(r.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==r.dataset[o]&&(i=!1)}),i?n:null}function DB(t){var e=t.url,n=t.attributes,r=t.onSuccess,s=t.onError,i=TA(e,n);i.onerror=s,i.onload=r,document.head.insertBefore(i,document.head.firstElementChild)}function LB(t){var e=t.sdkBaseUrl,n=t.environment,r=NB(t,["sdkBaseUrl","environment"]),s=e||jB(n),i=r,o=Object.keys(i).filter(function(c){return typeof i[c]<"u"&&i[c]!==null&&i[c]!==""}).reduce(function(c,d){var f=i[d].toString();return d=VB(d),d.substring(0,4)==="data"||d==="crossorigin"?c.attributes[d]=f:c.queryParams[d]=f,c},{queryParams:{},attributes:{}}),a=o.queryParams,u=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(u["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat(MB(a)),attributes:u}}function VB(t){var e=function(n,r){return(r?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function MB(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function jB(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function TA(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function FB(t,e){if(e===void 0&&(e=Promise),IA(t,e),typeof document>"u")return e.resolve(null);var n=LB(t),r=n.url,s=n.attributes,i=s["data-namespace"]||"paypal",o=$0(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),OB(r,s)&&o?e.resolve(o):UB({url:r,attributes:s},e).then(function(){var a=$0(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function UB(t,e){e===void 0&&(e=Promise),IA(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,i){if(typeof document>"u")return s();DB({url:n,attributes:r,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function $0(t){return window[t]}function IA(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var n=t.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var BB=function(t){var e,n=t.options,r=n===void 0?{clientId:"test"}:n,s=t.children,i=t.deferLoading,o=i===void 0?!1:i,a=y.useReducer(AB,{options:Xe(Xe({},r),(e={},e[ui.DATA_JS_SDK_LIBRARY]=ui.DATA_LIBRARY_VALUE,e[ui.DATA_SDK_INTEGRATION_SOURCE]=ui.DATA_LIBRARY_VALUE,e[jl]="".concat(_A(r)),e)),loadingStatus:o?zt.INITIAL:zt.PENDING}),u=a[0],c=a[1];return y.useEffect(function(){if(o===!1&&u.loadingStatus===zt.INITIAL)return c({type:Ss.LOADING_STATUS,value:zt.PENDING});if(u.loadingStatus===zt.PENDING){var d=!0;return FB(u.options).then(function(){d&&c({type:Ss.LOADING_STATUS,value:zt.RESOLVED})}).catch(function(f){console.error("".concat(TB," ").concat(f)),d&&c({type:Ss.LOADING_STATUS,value:{state:zt.REJECTED,message:String(f)}})}),function(){d=!1}}},[u.options,o,u.loadingStatus]),Kt.createElement(EA.Provider,{value:Xe(Xe({},u),{dispatch:c})},s)};function z0(){}y.createContext({cardFieldsForm:null,fields:{},registerField:z0,unregisterField:z0});function $B({total:t,onSuccess:e,disabled:n}){const{items:r,clearCart:s}=Nh();return n||r.length===0?null:m.jsx(Cw,{style:{layout:"vertical"},createOrder:(i,o)=>o.order.create({purchase_units:[{amount:{value:t.toFixed(2)}}]}),onApprove:async(i,o)=>{try{const a=await o.order.capture();console.log("Pago capturado:",a),await Jy(na(bt,"orders"),{items:r,total:t,paypalOrderId:a.id,status:"paid",createdAt:pi()}),s(),alert("Pago COMPLETADO en Sandbox "),e==null||e(a)}catch(a){console.error(" ERROR REAL:",a),alert("Error al procesar el pago")}},onError:i=>{console.error("Error PayPal:",i),alert("Error con PayPal")}})}const zB=[{id:"chapule",label:"Vianelo Chapule"},{id:"quintas",label:"Vianelo Quintas"},{id:"tres-rios",label:"Vianelo Tres Ros"}];function HB(){const{items:t,total:e,removeFromCart:n,clearCart:r,increaseQty:s,decreaseQty:i}=Nh(),[o,a]=y.useState(""),[u,c]=y.useState(!1),[d,f]=y.useState(""),p=qo(),w=lh();if(t.length===0)return m.jsxs(Le,{className:"cart-page min-vh-100 d-flex flex-column align-items-center justify-content-center text-center",children:[m.jsx("h3",{children:"Tu carrito est vaco "}),m.jsx("p",{children:"Agrega productos desde el men."})]});const v=async S=>{if(f(""),!o){f("Selecciona una sucursal para enviar tu pedido.");return}const R=w.currentUser;if(!R){f("Debes iniciar sesin para hacer un pedido.");return}c(!0);try{const _={branchId:o.trim(),items:t.map(C=>({productId:C.id,name:C.name,qty:C.qty,price:C.price,subtotal:C.price*C.qty,imageUrl:C.imageUrl||null})),total:e,status:"pagado",paypalOrderId:S.id,createdAt:pi(),userId:R.uid,userName:R.displayName||"",userEmail:R.email||""},E=await Jy(na(bt,"orders"),_);r(),p(`/pedido-exitoso/${E.id}`)}catch(_){console.error(_),f("Ocurri un problema al registrar tu pedido. Intenta nuevamente.")}finally{c(!1)}};return m.jsxs(Le,{className:"cart-page min-vh-100",children:[m.jsx("h2",{className:"mb-4",children:"Tu carrito"}),m.jsx(_e,{className:"shadow-sm",children:m.jsxs(_e.Body,{children:[d&&m.jsx(bl,{variant:"danger",children:d}),m.jsxs(Xg,{responsive:!0,hover:!0,className:"mb-4",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Producto"}),m.jsx("th",{children:"Precio"}),m.jsx("th",{children:"Cantidad"}),m.jsx("th",{children:"Total"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:t.map(S=>m.jsxs("tr",{children:[m.jsx("td",{children:S.name}),m.jsxs("td",{children:["$",S.price.toFixed(2)]}),m.jsxs("td",{children:[m.jsx(De,{size:"sm",variant:"outline-secondary",onClick:()=>i(S.id),children:""})," ",S.qty," ",m.jsx(De,{size:"sm",variant:"outline-secondary",onClick:()=>s(S.id),children:"+"})]}),m.jsxs("td",{children:["$",(S.price*S.qty).toFixed(2)]}),m.jsx("td",{children:m.jsx(De,{size:"sm",variant:"outline-danger",onClick:()=>n(S.id),children:""})})]},S.id))})]}),m.jsxs(Y.Group,{className:"mb-3",children:[m.jsx(Y.Label,{children:"Selecciona la sucursal"}),m.jsxs(Y.Select,{value:o,onChange:S=>a(S.target.value),disabled:u,children:[m.jsx("option",{value:"",children:"Selecciona una sucursal"}),zB.map(S=>m.jsx("option",{value:S.id,children:S.label},S.id))]})]}),m.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[m.jsxs("strong",{children:["Total: $",e.toFixed(2)]}),m.jsx(De,{variant:"outline-secondary",onClick:r,disabled:u,children:"Vaciar carrito"})]}),m.jsx("div",{className:"mt-4",children:m.jsx($B,{total:e,disabled:u||!o,onSuccess:v})})]})})]})}function qB(){const{items:t,total:e,count:n}=Nh();if(!t||t.length===0)return null;const r=t[t.length-1];return m.jsxs("div",{className:"floating-cart",children:[m.jsx("div",{className:"floating-cart-left",children:m.jsx("img",{src:r.imageUrl||"/placeholder.jpg",alt:r.name,className:"floating-cart-thumb"})}),m.jsxs("div",{className:"floating-cart-info",children:[m.jsx("span",{className:"floating-cart-label",children:"Carrito"}),m.jsxs("span",{className:"floating-cart-items",children:[n," producto",n!==1?"s":""," en tu pedido"]}),m.jsxs("span",{className:"floating-cart-total",children:["Total: $",e.toFixed(2)," MXN"]})]}),m.jsx($t,{to:"/cart",className:"btn btn-sm btn-primary floating-cart-btn",children:"Ver carrito"})]})}function WB(){return m.jsxs(p3,{children:["        ",m.jsx(FP,{children:m.jsxs("div",{className:"app-root",children:[m.jsx(f3,{}),m.jsx(qB,{}),m.jsx(Le,{fluid:!0,className:"p-0",children:m.jsxs(mP,{children:[m.jsx(An,{path:"/login",element:m.jsx(y3,{})}),m.jsx(An,{path:"/register",element:m.jsx(aB,{})}),m.jsx(An,{path:"/menu",element:m.jsx(g3,{})}),m.jsx(An,{path:"/cart",element:m.jsx(HB,{})}),m.jsx(An,{path:"/sucursales",element:m.jsx(cB,{})}),m.jsx(An,{path:"/sucursal/:branchId",element:m.jsx(F0,{children:m.jsx(fB,{})})}),m.jsx(An,{path:"/pedido-exitoso/:orderId",element:m.jsx(pB,{})}),m.jsx(An,{path:"/mis-pedidos",element:m.jsx(yB,{})}),m.jsx(An,{path:"/",element:m.jsx(F0,{children:m.jsx(m3,{})})}),m.jsx(An,{path:"/admin",element:m.jsx(wB,{children:m.jsx(EB,{})})})]})}),m.jsx(lB,{})]})})]})}tp.createRoot(document.getElementById("root")).render(m.jsx(Kt.StrictMode,{children:m.jsx(BB,{options:{"client-id":"AVU5E1UGRaSsKCWf0af-NqfvLHeiwKZdeECtoFdUtbxUdF9L0Mk_9SIIHkyvK60oSo7x0-XG1zLqqo_Q",currency:"USD"},children:m.jsx(h3,{children:m.jsx(WB,{})})})}));
